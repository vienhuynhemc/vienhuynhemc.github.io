(self.webpackChunkapp_chat=self.webpackChunkapp_chat||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},5366:(t,e,n)=>{"use strict";n.d(e,{deG:()=>rn,tb:()=>yc,AFp:()=>pc,ip1:()=>uc,CZH:()=>dc,hGG:()=>ul,z2F:()=>el,sBO:()=>_a,Sil:()=>Sc,_Vd:()=>Us,EJc:()=>bc,SBq:()=>Vs,qLn:()=>Oi,vpe:()=>Ga,gxx:()=>lo,tBr:()=>Mn,XFs:()=>S,OlP:()=>nn,zs3:()=>Mo,ZZ4:()=>la,aQg:()=>ua,soG:()=>Cc,YKP:()=>wa,v3s:()=>il,h0i:()=>Ma,PXZ:()=>$c,R0b:()=>Ic,FiY:()=>wn,Lbi:()=>mc,g9A:()=>_c,Qsj:()=>Ys,FYo:()=>Gs,JOm:()=>Ti,Tiy:()=>Qs,q3G:()=>fi,tp0:()=>kn,EAV:()=>sl,Rgc:()=>ba,dDg:()=>qc,DyG:()=>on,q4F:()=>Ws,GfV:()=>$s,s_b:()=>Ta,ifc:()=>N,eFA:()=>Wc,G48:()=>Jc,Gpc:()=>p,f3M:()=>xn,X6Q:()=>Yc,_c5:()=>ll,VLi:()=>jc,c2e:()=>vc,zSh:()=>uo,wAp:()=>ws,vHH:()=>_,EiD:()=>pi,mCW:()=>$n,qzn:()=>qn,JVY:()=>Bn,pB0:()=>Hn,eBb:()=>zn,L6k:()=>jn,LAX:()=>Vn,cg1:()=>Ps,Tjo:()=>cl,kL8:()=>Os,yhl:()=>Un,dqk:()=>U,sIi:()=>No,CqO:()=>Wo,QGY:()=>Qo,F4k:()=>$o,RDi:()=>Mt,AaK:()=>h,z3N:()=>Rn,qOj:()=>ko,TTD:()=>yt,_Bn:()=>Zs,xp6:()=>fr,uIk:()=>Ro,ekj:()=>hs,Suo:()=>sc,Xpm:()=>W,lG2:()=>rt,Yz7:()=>C,cJS:()=>b,oAB:()=>et,Yjl:()=>ot,Y36:()=>jo,_UZ:()=>Yo,qZA:()=>Go,TgZ:()=>Ho,EpF:()=>Jo,n5z:()=>We,Ikx:()=>vs,LFG:()=>bn,$8M:()=>Xe,NdJ:()=>Ko,CRH:()=>ac,kcU:()=>fe,O4$:()=>ge,oxw:()=>es,ALo:()=>za,lcZ:()=>Va,Hsn:()=>rs,F$t:()=>is,Q6J:()=>zo,s9C:()=>os,MGl:()=>ss,iGM:()=>rc,MAs:()=>Bo,pYS:()=>wi,CHM:()=>Vt,oJD:()=>_i,LSH:()=>mi,kYT:()=>nt,Udp:()=>ls,YNc:()=>Uo,_uU:()=>_s,Oqu:()=>ms,hij:()=>ys,Gf:()=>oc});var i=n(5959),r=n(7570),o=n(8318),s=n(1906),a=n(619);function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function l(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function h(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(h).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function u(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function p(t){return t.__forward_ref__=p,t.toString=function(){return h(this())},t}function g(t){return f(t)?t():t}function f(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===p}class _ extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function m(t){return"string"==typeof t?t:null==t?"":String(t)}function y(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():m(t)}function v(t,e){const n=e?` in ${e}`:"";throw new _("201",`No provider for ${y(t)} found${n}`)}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{providers:t.providers||[],imports:t.imports||[]}}function x(t){return P(t,M)||P(t,k)}function P(t,e){return t.hasOwnProperty(e)?t[e]:null}function O(t){return t&&(t.hasOwnProperty(w)||t.hasOwnProperty(T))?t[w]:null}const M=c({"\u0275prov":c}),w=c({"\u0275inj":c}),k=c({ngInjectableDef:c}),T=c({ngInjectorDef:c});var S=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let E;function A(t){const e=E;return E=t,e}function I(t,e,n){const i=x(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&S.Optional?null:void 0!==e?e:void v(h(t),"Injector")}function D(t){return{toString:t}.toString()}var F=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),N=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,Z="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,U=L||q||Z||R,B={},j=[],z=c({"\u0275cmp":c}),V=c({"\u0275dir":c}),H=c({"\u0275pipe":c}),G=c({"\u0275mod":c}),Y=c({"\u0275loc":c}),J=c({"\u0275fac":c}),Q=c({__NG_ELEMENT_ID__:c});let $=0;function W(t){return D(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||j,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||N.Emulated,id:"c",styles:t.styles||j,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,o=t.pipes;return n.id+=$++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(K):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(X):null,n})}function K(t){return st(t)||function(t){return t[V]||null}(t)}function X(t){return function(t){return t[H]||null}(t)}const tt={};function et(t){const e={type:t.type,bootstrap:t.bootstrap||j,declarations:t.declarations||j,imports:t.imports||j,exports:t.exports||j,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&D(()=>{tt[t.id]=t.type}),e}function nt(t,e){return D(()=>{const n=at(t,!0);n.declarations=e.declarations||j,n.imports=e.imports||j,n.exports=e.exports||j})}function it(t,e){if(null==t)return B;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}const rt=W;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function st(t){return t[z]||null}function at(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${h(t)} does not have '\u0275mod' property.`);return n}const ct=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function ut(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function ft(t){return null!==t.template}function _t(t,e){return t.hasOwnProperty(J)?t[J]:null}class mt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function yt(){return vt}function vt(t){return t.type.prototype.ngOnChanges&&(t.setInput=bt),Ct}function Ct(){const t=xt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function bt(t,e,n,i){const r=xt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],c=s[a];o[a]=new mt(c&&c.currentValue,e,s===B),t[i]=e}function xt(t){return t.__ngSimpleChanges__||null}yt.ngInherit=!0;const Pt="http://www.w3.org/2000/svg";let Ot;function Mt(t){Ot=t}function wt(){return void 0!==Ot?Ot:"undefined"!=typeof document?document:void 0}function kt(t){return!!t.listen}const Tt={createRenderer:(t,e)=>wt()};function St(t){for(;Array.isArray(t);)t=t[0];return t}function Et(t,e){return St(e[t])}function At(t,e){return St(e[t.index])}function It(t,e){return t.data[e]}function Dt(t,e){return t[e]}function Ft(t,e){const n=e[t];return ht(n)?n:n[0]}function Nt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Zt(t,e){return null==e?null:t[e]}function Rt(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Ut={lFrame:ae(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bt(){return Ut.bindingsEnabled}function jt(){return Ut.lFrame.lView}function zt(){return Ut.lFrame.tView}function Vt(t){return Ut.lFrame.contextLView=t,t[8]}function Ht(){let t=Gt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return Ut.lFrame.currentTNode}function Yt(t,e){const n=Ut.lFrame;n.currentTNode=t,n.isParent=e}function Jt(){return Ut.lFrame.isParent}function Qt(){Ut.lFrame.isParent=!1}function $t(){return Ut.isInCheckNoChangesMode}function Wt(t){Ut.isInCheckNoChangesMode=t}function Kt(){return Ut.lFrame.bindingIndex++}function Xt(t,e){const n=Ut.lFrame;n.bindingIndex=n.bindingRootIndex=t,te(e)}function te(t){Ut.lFrame.currentDirectiveIndex=t}function ee(){return Ut.lFrame.currentQueryIndex}function ne(t){Ut.lFrame.currentQueryIndex=t}function ie(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function re(t,e,n){if(n&S.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&S.Host||(i=ie(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=Ut.lFrame=se();return i.currentTNode=e,i.lView=t,!0}function oe(t){const e=se(),n=t[1];Ut.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function se(){const t=Ut.lFrame,e=null===t?null:t.child;return null===e?ae(t):e}function ae(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ce(){const t=Ut.lFrame;return Ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const le=ce;function he(){const t=ce();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ue(){return Ut.lFrame.selectedIndex}function de(t){Ut.lFrame.selectedIndex=t}function pe(){const t=Ut.lFrame;return It(t.tView,t.selectedIndex)}function ge(){Ut.lFrame.currentNamespace=Pt}function fe(){Ut.lFrame.currentNamespace=null}function _e(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function me(t,e,n){Ce(t,e,3,n)}function ye(t,e,n,i){(3&t[2])===n&&Ce(t,e,n,i)}function ve(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ce(t,e,n,i){const r=null!=i?i:-1,o=e.length-1;let s=0;for(let a=void 0!==i?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=i&&s>=i)break}else e[a]<0&&(t[18]+=65536),(s<r||-1==r)&&(be(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function be(t,e,n,i){const r=n[i]<0,o=n[i+1],s=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const xe=-1;class Pe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Oe(t,e,n){const i=kt(t);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],a=n[r++],c=n[r++];i?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++r];we(s)?i&&t.setProperty(e,s,a):i?t.setAttribute(e,s,a):e.setAttribute(s,a),r++}}return r}function Me(t){return 3===t||4===t||6===t}function we(t){return 64===t.charCodeAt(0)}function ke(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Te(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Te(t,e,n,i,r){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function Se(t){return t!==xe}function Ee(t){return 32767&t}function Ae(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let Ie=!0;function De(t){const e=Ie;return Ie=t,e}let Fe=0;function Ne(t,e){const n=Ze(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Le(i.data,t),Le(e,null),Le(i.blueprint,null));const r=Re(t,e),o=t.injectorIndex;if(Se(r)){const t=Ee(r),n=Ae(r,e),i=n[1].data;for(let r=0;r<8;r++)e[o+r]=n[t+r]|i[t+r]}return e[o+8]=r,o}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ze(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Re(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return xe;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return xe}function qe(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(i=n[Q]),null==i&&(i=n[Q]=Fe++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function Ue(t,e,n){if(n&S.Optional)return t;v(e,"NodeInjector")}function Be(t,e,n,i){if(n&S.Optional&&void 0===i&&(i=null),0==(n&(S.Self|S.Host))){const r=t[9],o=A(void 0);try{return r?r.get(e,i,n&S.Optional):I(e,i,n&S.Optional)}finally{A(o)}}return Ue(i,e,n)}function je(t,e,n,i=S.Default,r){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:Ve:e}(n);if("function"==typeof o){if(!re(e,t,i))return i&S.Host?Ue(r,n,i):Be(e,n,i,r);try{const t=o(i);if(null!=t||i&S.Optional)return t;v(n)}finally{le()}}else if("number"==typeof o){let r=null,s=Ze(t,e),a=xe,c=i&S.Host?e[16][6]:null;for((-1===s||i&S.SkipSelf)&&(a=-1===s?Re(t,e):e[s+8],a!==xe&&Qe(i,!1)?(r=e[1],s=Ee(a),e=Ae(a,e)):s=-1);-1!==s;){const t=e[1];if(Je(o,s,t.data)){const t=He(s,e,n,r,i,c);if(t!==ze)return t}a=e[s+8],a!==xe&&Qe(i,e[1].data[s+8]===c)&&Je(o,s,e)?(r=t,s=Ee(a),e=Ae(a,e)):s=-1}}}return Be(e,n,i,r)}const ze={};function Ve(){return new $e(Ht(),jt())}function He(t,e,n,i,r,o){const s=e[1],a=s.data[t+8],c=Ge(a,s,n,null==i?pt(a)&&Ie:i!=s&&0!=(3&a.type),r&S.Host&&o===a);return null!==c?Ye(e,s,c,a):ze}function Ge(t,e,n,i,r){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,l=o>>20,h=r?a+l:t.directiveEnd;for(let u=i?a:a+l;u<h;u++){const t=s[u];if(u<c&&n===t||u>=c&&t.type===n)return u}if(r){const t=s[c];if(t&&ft(t)&&t.type===n)return c}return null}function Ye(t,e,n,i){let r=t[n];const o=e.data;if(r instanceof Pe){const s=r;s.resolving&&function(t,e){throw new _("200",`Circular dependency in DI detected for ${t}`)}(y(o[n]));const a=De(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?A(s.injectImpl):null;re(t,i,S.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const i=vt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&A(c),De(a),s.resolving=!1,le()}}return r}function Je(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Qe(t,e){return!(t&S.Self||t&S.Host&&e)}class $e{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return je(this._tNode,this._lView,t,void 0,e)}}function We(t){return D(()=>{const e=t.prototype.constructor,n=e[J]||Ke(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[J]||Ke(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function Ke(t){return f(t)?()=>{const e=Ke(g(t));return e&&e()}:_t(t)}function Xe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(Me(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Ht(),t)}const tn="__parameters__";function en(t,e,n){return D(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(tn)?t[tn]:Object.defineProperty(t,tn,{value:[]})[tn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class nn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=C({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rn=new nn("AnalyzeForEntryComponents"),on=Function;function sn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),sn(i,e)):e!==t&&e.push(i)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function cn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ln(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function un(t,e,n){let i=pn(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function dn(t,e){const n=pn(t,e);if(n>=0)return t[1|n]}function pn(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),o=t[n<<1];if(e===o)return n<<1;o>e?r=n:i=n+1}return~(r<<1)}(t,e)}const gn={},fn=/\n/gm,_n="__source",mn=c({provide:String,useValue:c});let yn;function vn(t){const e=yn;return yn=t,e}function Cn(t,e=S.Default){if(void 0===yn)throw new Error("inject() must be called from an injection context");return null===yn?I(t,void 0,e):yn.get(t,e&S.Optional?null:void 0,e)}function bn(t,e=S.Default){return(E||Cn)(g(t),e)}const xn=bn;function Pn(t){const e=[];for(let n=0;n<t.length;n++){const i=g(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=S.Default;for(let e=0;e<i.length;e++){const r=i[e],o=r.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=r.token:n|=o:t=r}e.push(bn(t,n))}else e.push(bn(i))}return e}function On(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Mn=On(en("Inject",t=>({token:t})),-1),wn=On(en("Optional"),8),kn=On(en("SkipSelf"),4);let Tn,Sn;function En(t){var e;return(null===(e=function(){if(void 0===Tn&&(Tn=null,U.trustedTypes))try{Tn=U.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Tn}())||void 0===e?void 0:e.createHTML(t))||t}function An(t){var e;return(null===(e=function(){if(void 0===Sn&&(Sn=null,U.trustedTypes))try{Sn=U.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Sn}())||void 0===e?void 0:e.createHTML(t))||t}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Dn extends In{getTypeName(){return"HTML"}}class Fn extends In{getTypeName(){return"Style"}}class Nn extends In{getTypeName(){return"Script"}}class Ln extends In{getTypeName(){return"URL"}}class Zn extends In{getTypeName(){return"ResourceURL"}}function Rn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function qn(t,e){const n=Un(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Un(t){return t instanceof In&&t.getTypeName()||null}function Bn(t){return new Dn(t)}function jn(t){return new Fn(t)}function zn(t){return new Nn(t)}function Vn(t){return new Ln(t)}function Hn(t){return new Zn(t)}class Gn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(En(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Yn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=En(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=En(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $n(t){return(t=String(t)).match(Jn)||t.match(Qn)?t:"unsafe:"+t}function Wn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Kn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Xn=Wn("area,br,col,hr,img,wbr"),ti=Wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ei=Wn("rp,rt"),ni=Kn(ei,ti),ii=Kn(Xn,Kn(ti,Wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kn(ei,Wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ni),ri=Wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oi=Wn("srcset"),si=Kn(ri,oi,Wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ai=Wn("script,style,template");class ci{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ii.hasOwnProperty(e))return this.sanitizedSomething=!0,!ai.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,o=e.toLowerCase();if(!si.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ri[o]&&(s=$n(s)),oi[o]&&(i=s,s=(i=String(i)).split(",").map(t=>$n(t.trim())).join(", ")),this.buf.push(" ",e,'="',ui(s),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ii.hasOwnProperty(e)&&!Xn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ui(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const li=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hi=/([^\#-~ |!])/g;function ui(t){return t.replace(/&/g,"&amp;").replace(li,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(hi,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let di;function pi(t,e){let n=null;try{di=di||function(t){const e=new Yn(t);return function(){try{return!!(new window.DOMParser).parseFromString(En(""),"text/html")}catch(t){return!1}}()?new Gn(e):e}(t);let i=e?String(e):"";n=di.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=di.getInertBodyElement(i)}while(i!==o);return En((new ci).sanitizeChildren(gi(n)||n))}finally{if(n){const t=gi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function gi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var fi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function _i(t){const e=yi();return e?An(e.sanitize(fi.HTML,t)||""):qn(t,"HTML")?An(Rn(t)):pi(wt(),m(t))}function mi(t){const e=yi();return e?e.sanitize(fi.URL,t)||"":qn(t,"URL")?Rn(t):$n(m(t))}function yi(){const t=jt();return t&&t[12]}function vi(t,e){t.__ngContext__=e}function Ci(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function bi(t){return t.ngDebugContext}function xi(t){return t.ngOriginalError}function Pi(t,...e){t.error(...e)}class Oi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Pi}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?bi(t)?bi(t):this._findContext(xi(t)):null}_findOriginalError(t){let e=xi(t);for(;e&&xi(e);)e=xi(e);return e}}const Mi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function wi(t){return t.ownerDocument.body}function ki(t){return t instanceof Function?t():t}var Ti=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Si(t,e){return(void 0)(t,e)}function Ei(t){const e=t[3];return ut(e)?e[3]:e}function Ai(t){return Di(t[13])}function Ii(t){return Di(t[4])}function Di(t){for(;null!==t&&!ut(t);)t=t[4];return t}function Fi(t,e,n,i,r){if(null!=i){let o,s=!1;ut(i)?o=i:ht(i)&&(s=!0,i=i[0]);const a=St(i);0===t&&null!==n?null==r?ji(e,n,a):Bi(e,n,a,r||null,!0):1===t&&null!==n?Bi(e,n,a,r||null,!0):2===t?function(t,e,n){const i=Vi(t,e);i&&function(t,e,n,i){kt(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,i,r){const o=n[7];o!==St(n)&&Fi(e,t,i,o,r);for(let s=lt;s<n.length;s++){const r=n[s];Ki(r[1],r,t,e,i,o)}}(e,t,o,n,r)}}function Ni(t,e,n){return kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Li(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,qt(r,-1)),n.splice(i,1)}function Zi(t,e){if(t.length<=lt)return;const n=lt+e,i=t[n];if(i){const o=i[17];null!==o&&o!==t&&Li(o,i),e>0&&(t[n-1][4]=i[4]);const s=ln(t,lt+e);Ki(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Ri(t,e){if(!(256&e[2])){const n=e[11];kt(n)&&n.destroyNode&&Ki(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return qi(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&qi(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&qi(e[1],e),n=e&&e[4]}e=n}}(e)}}function qi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof Pe)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const i=t[e[n]],r=e[n+1];try{r.call(i)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):St(e[t]),a=i[r=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],a,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const t=i[r=n[o+1]];n[o].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&kt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ut(e[3])){n!==e[3]&&Li(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Ui(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===N.None||e===N.Emulated)return null}return At(i,n)}(t,e.parent,n)}function Bi(t,e,n,i,r){kt(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function ji(t,e,n){kt(t)?t.appendChild(e,n):e.appendChild(n)}function zi(t,e,n,i,r){null!==i?Bi(t,e,n,i,r):ji(t,e,n)}function Vi(t,e){return kt(t)?t.parentNode(e):e.parentNode}function Hi(t,e,n){return Gi(t,e,n)}let Gi=function(t,e,n){return 40&t.type?At(t,n):null};function Yi(t,e,n,i){const r=Ui(t,i,e),o=e[11],s=Hi(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)zi(o,r,n[a],s,!1);else zi(o,r,n,s,!1)}function Ji(t,e){if(null!==e){const n=e.type;if(3&n)return At(e,t);if(4&n)return $i(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Ji(t,n);{const n=t[e.index];return ut(n)?$i(-1,n):St(n)}}if(32&n)return Si(e,t)()||St(t[e.index]);{const n=Qi(t,e);return null!==n?Array.isArray(n)?n[0]:Ji(Ei(t[16]),n):Ji(t,e.next)}}return null}function Qi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function $i(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return Ji(t,i)}return e[7]}function Wi(t,e,n,i,r,o,s){for(;null!=n;){const a=i[n.index],c=n.type;if(s&&0===e&&(a&&vi(St(a),i),n.flags|=4),64!=(64&n.flags))if(8&c)Wi(t,e,n.child,i,r,o,!1),Fi(e,t,r,a,o);else if(32&c){const s=Si(n,i);let c;for(;c=s();)Fi(e,t,r,c,o);Fi(e,t,r,a,o)}else 16&c?Xi(t,e,i,n,r,o):Fi(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Ki(t,e,n,i,r,o){Wi(n,i,t.firstChild,e,r,o,!1)}function Xi(t,e,n,i,r,o){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Fi(e,t,r,a[c],o);else Wi(t,e,a,s[3],r,o,!0)}function tr(t,e,n){kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function er(t,e,n){kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function nr(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}const ir="ng-template";function rr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==nr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function or(t){return 4===t.type&&t.value!==ir}function sr(t,e,n){return e===(4!==t.type||n?t.value:ir)}function ar(t,e,n){let i=4;const r=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Me(t[e]))return e;return t.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!sr(t,c,n)||""===c&&1===e.length){if(cr(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==t.attrs){if(!rr(t.attrs,l,n)){if(cr(i))return!1;s=!0}continue}const h=lr(8&i?"class":c,r,or(t),n);if(-1===h){if(cr(i))return!1;s=!0;continue}if(""!==l){let t;t=h>o?"":r[h+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==nr(e,l,0)||2&i&&l!==t){if(cr(i))return!1;s=!0}}}}else{if(!s&&!cr(i)&&!cr(c))return!1;if(s&&cr(c))continue;s=!1,i=c|1&i}}return cr(i)||s}function cr(t){return 0==(1&t)}function lr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function hr(t,e,n=!1){for(let i=0;i<e.length;i++)if(ar(t,e[i],n))return!0;return!1}function ur(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function dr(t,e){return t?":not("+e.trim()+")":e}function pr(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&i){const e=t[++n];r+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||cr(s)||(e+=dr(o,r),r=""),i=s,o=o||!cr(i);n++}return""!==r&&(e+=dr(o,r)),e}const gr={};function fr(t){_r(zt(),jt(),ue()+t,$t())}function _r(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&me(e,i,n)}else{const i=t.preOrderHooks;null!==i&&ye(e,i,0,n)}de(n)}function mr(t,e){return t<<17|e<<2}function yr(t){return t>>17&32767}function vr(t){return 2|t}function Cr(t){return(131068&t)>>2}function br(t,e){return-131069&t|e<<2}function xr(t){return 1|t}function Pr(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const n=t.data[o];ne(r),n.contentQueries(2,e[o],o)}}}function Or(t,e,n,i,r,o,s,a,c,l){const h=e.blueprint.slice();return h[0]=r,h[2]=140|i,Rt(h),h[3]=h[15]=t,h[8]=n,h[10]=s||t&&t[10],h[11]=a||t&&t[11],h[12]=c||t&&t[12]||null,h[9]=l||t&&t[9]||null,h[6]=o,h[16]=2==e.type?t[16]:h,h}function Mr(t,e,n,i,r){let o=t.data[e];if(null===o)o=function(t,e,n,i,r){const o=Gt(),s=Jt(),a=t.data[e]=function(t,e,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,i,r),Ut.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const t=function(){const t=Ut.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Yt(o,!0),o}function wr(t,e,n,i){if(0===n)return-1;const r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function kr(t,e,n){oe(e);try{const i=t.viewQuery;null!==i&&no(1,i,n);const r=t.template;null!==r&&Er(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Pr(t,e),t.staticViewQueries&&no(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Wr(t,e[n])}(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,he()}}function Tr(t,e,n,i){const r=e[2];if(256==(256&r))return;oe(e);const o=$t();try{Rt(e),Ut.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Er(t,e,n,2,i);const s=3==(3&r);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&me(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ye(e,n,0,null),ve(e,0)}if(function(t){for(let e=Ai(t);null!==e;e=Ii(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&qt(i,1),n[2]|=1024}}}(e),function(t){for(let e=Ai(t);null!==e;e=Ii(e))for(let t=lt;t<e.length;t++){const n=e[t],i=n[1];Lt(n)&&Tr(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Pr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&me(e,n)}else{const n=t.contentHooks;null!==n&&ye(e,n,1),ve(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)de(~i);else{const r=i,o=n[++t],s=n[++t];Xt(o,r),s(2,e[r])}}}finally{de(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Qr(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&no(2,c,i),!o)if(s){const n=t.viewCheckHooks;null!==n&&me(e,n)}else{const n=t.viewHooks;null!==n&&ye(e,n,2),ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{he()}}function Sr(t,e,n,i){const r=e[10],o=!$t(),s=Nt(e);try{o&&!s&&r.begin&&r.begin(),s&&kr(t,e,i),Tr(t,e,n,i)}finally{o&&!s&&r.end&&r.end()}}function Er(t,e,n,i,r){const o=ue(),s=2&i;try{de(-1),s&&e.length>ct&&_r(t,e,ct,$t()),n(i,r)}finally{de(o)}}function Ar(t,e,n){Bt()&&(function(t,e,n,i){const r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ne(n,e),vi(i,e);const s=n.initialInputs;for(let a=r;a<o;a++){const i=t.data[a],o=ft(i);o&&Hr(e,n,i);const c=Ye(e,t,a,n);vi(c,e),null!==s&&Gr(0,a-r,c,i,0,s),o&&(Ft(n.index,e)[8]=c)}}(t,e,n,At(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Ut.lFrame.currentDirectiveIndex;try{de(o);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];te(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||Ur(i,r)}}finally{de(-1),te(s)}}(t,e,n))}function Ir(t,e,n=At){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(e,t):t[s];t[r++]=a}}}function Dr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Fr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Fr(t,e,n,i,r,o,s,a,c,l){const h=ct+i,u=h+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:gr);return n}(h,u),p="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function Nr(t,e,n,i){const r=ro(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&oo(t).push(i,r.length-1))}function Lr(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Zr(t,e,n,i,r,o,s,a){const c=At(e,n);let l,h=e.inputs;var u;!a&&null!=h&&(l=h[i])?(ao(t,n,l,i,r),pt(e)&&function(t,e){const n=Ft(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=s?s(r,e.value||"",i):r,kt(o)?o.setProperty(c,i,r):we(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function Rr(t,e,n,i){let r=!1;if(Bt()){const o=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];hr(n,s.selectors,!1)&&(r||(r=[]),qe(Ne(n,e),t,s.type),ft(s)?(Br(t,n),r.unshift(s)):r.push(s))}return r}(t,e,n),s=null===i?null:{"":-1};if(null!==o){r=!0,zr(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,c=wr(t,e,o.length,null);for(let r=0;r<o.length;r++){const l=o[r];n.mergedAttrs=ke(n.mergedAttrs,l.hostAttrs),Vr(t,n,e,c,l),jr(c,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const h=l.type.prototype;!i&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!h.ngOnChanges&&!h.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=i[c],n=t.inputs,l=null===r||or(e)?null:Yr(n,r);o.push(l),s=Lr(n,c,s),a=Lr(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new _("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,s)}return n.mergedAttrs=ke(n.mergedAttrs,n.attrs),r}function qr(t,e,n,i,r,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(i,r,s)}}function Ur(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Br(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function jr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ft(e)&&(n[""]=t)}}function zr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Vr(t,e,n,i,r){t.data[i]=r;const o=r.factory||(r.factory=_t(r.type)),s=new Pe(o,ft(r),null);t.blueprint[i]=s,n[i]=s,qr(t,e,0,i,wr(t,n,r.hostVars,gr),r)}function Hr(t,e,n){const i=At(e,t),r=Dr(n),o=t[10],s=Kr(t,Or(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=s}function Gr(t,e,n,i,r,o){const s=o[e];if(null!==s){const t=i.setInput;for(let e=0;e<s.length;){const r=s[e++],o=s[e++],a=s[e++];null!==t?i.setInput(n,a,r,o):n[o]=a}}}function Yr(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Jr(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Qr(t,e){const n=Ft(e,t);if(Lt(n)){const t=n[1];80&n[2]?Tr(t,n,t.template,n[8]):n[5]>0&&$r(n)}}function $r(t){for(let n=Ai(t);null!==n;n=Ii(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Tr(t,e,t.template,e[8])}else e[5]>0&&$r(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Ft(e[n],t);Lt(i)&&i[5]>0&&$r(i)}}function Wr(t,e){const n=Ft(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),kr(i,n,n[8])}function Kr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xr(t){for(;t;){t[2]|=64;const e=Ei(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function to(t,e,n){const i=e[10];i.begin&&i.begin();try{Tr(t,e,t.template,n)}catch(r){throw so(e,r),r}finally{i.end&&i.end()}}function eo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Ci(n),r=i[1];Sr(r,i,r.template,n)}}(t[8])}function no(t,e,n){ne(0),e(t,n)}const io=(()=>Promise.resolve(null))();function ro(t){return t[7]||(t[7]=[])}function oo(t){return t.cleanup||(t.cleanup=[])}function so(t,e){const n=t[9],i=n?n.get(Oi,null):null;i&&i.handleError(e)}function ao(t,e,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],l=t.data[s];null!==l.setInput?l.setInput(c,r,i,a):c[a]=r}}function co(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?r=u(r,t):2==o&&(i=u(i,t+": "+e[++s]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const lo=new nn("INJECTOR",-1);class ho{get(t,e=gn){if(e===gn){const e=new Error(`NullInjectorError: No provider for ${h(t)}!`);throw e.name="NullInjectorError",e}return e}}const uo=new nn("Set Injector scope."),po={},go={};let fo;function _o(){return void 0===fo&&(fo=new ho),fo}function mo(t,e=null,n=null,i){return new yo(t,n,e||_o(),i)}class yo{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],r)),this.records.set(lo,bo(void 0,this));const o=this.records.get(uo);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:h(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=gn,n=S.Default){this.assertNotDestroyed();const i=vn(this);try{if(!(n&S.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof nn)&&x(t);e=n&&this.injectableDefInScope(n)?bo(vo(t),po):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&S.Self?_o():this.parent).get(t,e=n&S.Optional&&e===gn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(h(t)),i)throw o;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e[_n]&&r.unshift(e[_n]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=h(e);if(Array.isArray(e))r=e.map(h).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):h(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(fn,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{vn(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(h(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=g(t)))return!1;let i=O(t);const r=null==i&&t.ngModule||void 0,o=void 0===r?t:r,s=-1!==n.indexOf(o);if(void 0!==r&&(i=O(r)),null==i)return!1;if(null!=i.imports&&!s){let t;n.push(o);try{an(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];an(i,t=>this.processProvider(t,n,i||j))}}this.injectorDefTypes.add(o);const a=_t(o)||(()=>new o);this.records.set(o,bo(a,po));const c=i.providers;if(null!=c&&!s){const e=t;an(c,t=>this.processProvider(t,e,c))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=Po(t=g(t))?t:g(t&&t.provide);const r=function(t,e,n){return xo(t)?bo(void 0,t.useValue):bo(Co(t),po)}(t);if(Po(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=bo(void 0,po,!0),e.factory=()=>Pn(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===po&&(e.value=go,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=g(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function vo(t){const e=x(t),n=null!==e?e.factory:_t(t);if(null!==n)return n;if(t instanceof nn)throw new Error(`Token ${h(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=hn(e,"?");throw new Error(`Can't resolve all parameters for ${h(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[M]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Co(t,e,n){let i;if(Po(t)){const e=g(t);return _t(e)||vo(e)}if(xo(t))i=()=>g(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...Pn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>bn(g(t.useExisting));else{const e=g(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return _t(e)||vo(e);i=()=>new e(...Pn(t.deps))}var r;return i}function bo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xo(t){return null!==t&&"object"==typeof t&&mn in t}function Po(t){return"function"==typeof t}const Oo=function(t,e,n){return function(t,e=null,n=null,i){const r=mo(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Mo=(()=>{class t{static create(t,e){return Array.isArray(t)?Oo(t,e,""):Oo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=gn,t.NULL=new ho,t.\u0275prov=C({token:t,providedIn:"any",factory:()=>bn(lo)}),t.__NG_ELEMENT_ID__=-1,t})();function wo(t,e){_e(Ci(t)[1],Ht())}function ko(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r;if(ft(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=To(t.inputs),e.declaredInputs=To(t.declaredInputs),e.outputs=To(t.outputs);const n=r.hostBindings;n&&Ao(t,n);const o=r.viewQuery,s=r.contentQueries;if(o&&So(t,o),s&&Eo(t,s),l(t.inputs,r.inputs),l(t.declaredInputs,r.declaredInputs),l(t.outputs,r.outputs),ft(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===ko&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ke(r.hostAttrs,n=ke(n,r.hostAttrs))}}(i)}function To(t){return t===B?{}:t===j?[]:t}function So(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Eo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Ao(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let Io=null;function Do(){if(!Io){const t=U.Symbol;if(t&&t.iterator)Io=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Io=n)}}}return Io}class Fo{constructor(t){this.wrapped=t}static wrap(t){return new Fo(t)}static unwrap(t){return Fo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Fo}}function No(t){return!!Lo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Do()in t)}function Lo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Zo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ro(t,e,n,i){const r=jt();return Zo(r,Kt(),e)&&(zt(),function(t,e,n,i,r,o){const s=At(t,e);!function(t,e,n,i,r,o,s){if(null==o)kt(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==s?m(o):s(o,i||"",r);kt(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],s,o,t.value,n,i,r)}(pe(),r,t,e,n,i)),Ro}function qo(t,e,n,i){return Zo(t,Kt(),n)?e+m(n)+i:gr}function Uo(t,e,n,i,r,o,s,a){const c=jt(),l=zt(),h=t+ct,u=l.firstCreatePass?function(t,e,n,i,r,o,s,a,c){const l=e.consts,h=Mr(e,t,4,s||null,Zt(l,a));Rr(e,n,h,Zt(l,c)),_e(e,h);const u=h.tViews=Fr(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,h),u.queries=e.queries.embeddedTView(h)),h}(h,l,c,e,n,i,r,o,s):l.data[h];Yt(u,!1);const d=c[11].createComment("");Yi(l,c,d,u),vi(d,c),Kr(c,c[h]=Jr(d,c,d,u)),gt(u)&&Ar(l,c,u),null!=s&&Ir(c,u,a)}function Bo(t){return Dt(Ut.lFrame.contextLView,ct+t)}function jo(t,e=S.Default){const n=jt();return null===n?bn(t,e):je(Ht(),n,g(t),e)}function zo(t,e,n){const i=jt();return Zo(i,Kt(),e)&&Zr(zt(),pe(),i,t,e,i[11],n,!1),zo}function Vo(t,e,n,i,r){const o=r?"class":"style";ao(t,n,e.inputs[o],o,i)}function Ho(t,e,n,i){const r=jt(),o=zt(),s=ct+t,a=r[11],c=r[s]=Ni(a,e,Ut.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,i,r,o,s){const a=e.consts,c=Mr(e,t,2,r,Zt(a,o));return Rr(e,n,c,Zt(a,s)),null!==c.attrs&&co(c,c.attrs,!1),null!==c.mergedAttrs&&co(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,0,e,n,i):o.data[s];Yt(l,!0);const h=l.mergedAttrs;null!==h&&Oe(a,c,h);const u=l.classes;null!==u&&er(a,c,u);const d=l.styles;null!==d&&tr(a,c,d),64!=(64&l.flags)&&Yi(o,r,c,l),0===Ut.lFrame.elementDepthCount&&vi(c,r),Ut.lFrame.elementDepthCount++,gt(l)&&(Ar(o,r,l),function(t,e,n){if(dt(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}(o,l,r)),null!==i&&Ir(r,l)}function Go(){let t=Ht();Jt()?Qt():(t=t.parent,Yt(t,!1));const e=t;Ut.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(_e(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Vo(n,e,jt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Vo(n,e,jt(),e.stylesWithoutHost,!1)}function Yo(t,e,n,i){Ho(t,e,n,i),Go()}function Jo(){return jt()}function Qo(t){return!!t&&"function"==typeof t.then}function $o(t){return!!t&&"function"==typeof t.subscribe}const Wo=$o;function Ko(t,e,n,i){const r=jt(),o=zt(),s=Ht();return function(t,e,n,i,r,o,s,a){const c=gt(i),l=t.firstCreatePass&&oo(t),h=ro(e);let u=!0;if(3&i.type||a){const d=At(i,e),p=a?a(d):d,g=h.length,f=a?t=>a(St(t[i.index])):i.index;if(kt(n)){let s=null;if(!a&&c&&(s=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const t=r[o];if(t===n&&r[o+1]===i){const t=e[7],n=r[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,r,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,u=!1;else{o=ts(i,e,0,o,!1);const t=n.listen(p,r,o);h.push(o,t),l&&l.push(r,f,g,g+1)}}else o=ts(i,e,0,o,!0),p.addEventListener(r,o,s),h.push(o),l&&l.push(r,f,g,s)}else o=ts(i,e,0,o,!1);const d=i.outputs;let p;if(u&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=h.length;h.push(o,t),l&&l.push(r,i.index,s,-(s+1))}}}(o,r,r[11],s,t,e,!!n,i),Ko}function Xo(t,e,n,i){try{return!1!==n(i)}catch(r){return so(t,r),!1}}function ts(t,e,n,i,r){return function n(o){if(o===Function)return i;const s=2&t.flags?Ft(t.index,e):e;0==(32&e[2])&&Xr(s);let a=Xo(e,0,i,o),c=n.__ngNextListenerFn__;for(;c;)a=Xo(e,0,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function es(t=1){return function(t){return(Ut.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ut.lFrame.contextLView))[8]}(t)}function ns(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?hr(t,o,!0):ur(i,o))return r}else n=r}return n}function is(t){const e=jt()[16][6];if(!e.projection){const n=e.projection=hn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?ns(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function rs(t,e=0,n){const i=jt(),r=zt(),o=Mr(r,ct+t,16,null,n||null);null===o.projection&&(o.projection=e),Qt(),64!=(64&o.flags)&&function(t,e,n){Xi(e[11],0,e,n,Ui(t,n,e),Hi(n.parent||e[6],n,e))}(r,i,o)}function os(t,e,n){return ss(t,"",e,"",n),os}function ss(t,e,n,i,r){const o=jt(),s=qo(o,e,n,i);return s!==gr&&Zr(zt(),pe(),o,t,s,o[11],r,!1),ss}function as(t,e,n,i,r){const o=t[n+1],s=null===e;let a=i?yr(o):Cr(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];cs(t[a],e)&&(c=!0,t[a+1]=i?xr(n):vr(n)),a=i?yr(n):Cr(n)}c&&(t[n+1]=i?vr(o):xr(o))}function cs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pn(t,e)>=0}function ls(t,e,n){return us(t,e,n,!1),ls}function hs(t,e){return us(t,e,null,!0),hs}function us(t,e,n,i){const r=jt(),o=zt(),s=function(t){const e=Ut.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,i){const r=t.data;if(null===r[n+1]){const o=r[ue()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,i)&&null===e&&!s&&(e=!1),e=function(t,e,n,i){const r=function(t){const e=Ut.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=ps(n=ds(null,t,e,n,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==r)if(n=ds(r,t,e,n,i),null===o){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Cr(i))return t[yr(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=ds(null,t,e,n[1],i),n=ps(n,e.attrs,i),function(t,e,n,i){t[yr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else o=function(t,e,n){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=ps(i,t[o].hostAttrs,n);return ps(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=yr(s),c=Cr(s);t[i]=n;let l,h=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||pn(t,l)>0)&&(h=!0)}else l=n;if(r)if(0!==c){const e=yr(t[a+1]);t[i+1]=mr(e,a),0!==e&&(t[e+1]=br(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=mr(a,0),0!==a&&(t[a+1]=br(t[a+1],i)),a=i;else t[i+1]=mr(c,0),0===a?a=i:t[c+1]=br(t[c+1],i),c=i;h&&(t[i+1]=vr(t[i+1])),as(t,l,i,!0),as(t,l,i,!1),function(t,e,n,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&pn(o,e)>=0&&(n[i+1]=xr(n[i+1]))}(e,l,t,i,o),s=mr(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,n,s,i)}}(o,t,s,i),e!==gr&&Zo(r,s,e)&&function(t,e,n,i,r,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1];fs(1==(1&l)?gs(c,e,n,r,Cr(l),s):void 0)||(fs(o)||function(t){return 2==(2&t)}(l)&&(o=gs(c,null,n,r,a,s)),function(t,e,n,i,r){const o=kt(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:Ti.DashCase;if(null==r)o?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),e|=Ti.Important),o?t.setStyle(n,i,r,e):n.style.setProperty(i,r,s?"important":"")}}}(i,s,Et(ue(),n),r,o))}(o,o.data[ue()],r,r[11],t,r[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=h(Rn(t)))),t}(e,n),i,s)}function ds(t,e,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],i=ps(i,o.hostAttrs,r),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function ps(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),un(t,s,!!n||e[++o]))}return void 0===t?null:t}function gs(t,e,n,i,r,o){const s=null===e;let a;for(;r>0;){const e=t[r],o=Array.isArray(e),c=o?e[1]:e,l=null===c;let h=n[r+1];h===gr&&(h=l?j:void 0);let u=l?dn(h,i):c===i?h:void 0;if(o&&!fs(u)&&(u=dn(e,i)),fs(u)&&(a=u,s))return a;const d=t[r+1];r=s?yr(d):Cr(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=dn(t,i))}return a}function fs(t){return void 0!==t}function _s(t,e=""){const n=jt(),i=zt(),r=t+ct,o=i.firstCreatePass?Mr(i,r,1,e,null):i.data[r],s=n[r]=function(t,e){return kt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Yi(i,n,s,o),Yt(o,!1)}function ms(t){return ys("",t,""),ms}function ys(t,e,n){const i=jt(),r=qo(i,t,e,n);return r!==gr&&function(t,e,n){const i=Et(e,t);!function(t,e,n){kt(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}(i,ue(),r),ys}function vs(t,e,n){const i=jt();return Zo(i,Kt(),e)&&Zr(zt(),pe(),i,t,e,i[11],n,!0),vs}const Cs=void 0;var bs=["en",[["a","p"],["AM","PM"],Cs],[["AM","PM"],Cs,Cs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cs,"{1} 'at' {0}",Cs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let xs={};function Ps(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ms(e);if(n)return n;const i=e.split("-")[0];if(n=Ms(i),n)return n;if("en"===i)return bs;throw new Error(`Missing locale data for the locale "${t}".`)}function Os(t){return Ps(t)[ws.PluralCase]}function Ms(t){return t in xs||(xs[t]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[t]),xs[t]}var ws=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ks="en-US";let Ts=ks;function Ss(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ts=t.toLowerCase().replace(/_/g,"-"))}function Es(t,e,n,i,r){if(t=g(t),Array.isArray(t))for(let o=0;o<t.length;o++)Es(t[o],e,n,i,r);else{const o=zt(),s=jt();let a=Po(t)?t:g(t.provide),c=Co(t);const l=Ht(),h=1048575&l.providerIndexes,u=l.directiveStart,d=l.providerIndexes>>20;if(Po(t)||!t.multi){const i=new Pe(c,r,jo),p=Ds(a,e,r?h:h+d,u);-1===p?(qe(Ne(l,s),o,a),As(o,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(i),s.push(i)):(n[p]=i,s[p]=i)}else{const p=Ds(a,e,h+d,u),g=Ds(a,e,h,h+d),f=p>=0&&n[p],_=g>=0&&n[g];if(r&&!_||!r&&!f){qe(Ne(l,s),o,a);const h=function(t,e,n,i,r){const o=new Pe(t,n,jo);return o.multi=[],o.index=e,o.componentProviders=0,Is(o,r,i&&!n),o}(r?Ns:Fs,n.length,r,i,c);!r&&_&&(n[g].providerFactory=h),As(o,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(h),s.push(h)}else As(o,t,p>-1?p:g,Is(n[r?g:p],c,!r&&i));!r&&i&&_&&n[g].componentProviders++}}}function As(t,e,n,i){const r=Po(e);if(r||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[i,o]):s[t+1].push(i,o)}else s.push(n,o)}}}function Is(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ds(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Fs(t,e,n,i){return Ls(this.multi,[])}function Ns(t,e,n,i){const r=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ye(n,n[1],this.providerFactory.index,i);o=e.slice(0,t),Ls(r,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ls(r,o);return o}function Ls(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Zs(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=zt();if(i.firstCreatePass){const r=ft(t);Es(n,i.data,i.blueprint,r,!0),Es(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class Rs{}class qs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${h(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Us=(()=>{class t{}return t.NULL=new qs,t})();function Bs(...t){}function js(t,e){return new Vs(At(t,e))}const zs=function(){return js(Ht(),jt())};let Vs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=zs,t})();function Hs(t){return t instanceof Vs?t.nativeElement:t}class Gs{}let Ys=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Js(),t})();const Js=function(){const t=jt(),e=Ft(Ht().index,t);return function(t){return t[11]}(ht(e)?e:t)};let Qs=(()=>{class t{}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>null}),t})();class $s{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ws=new $s("12.0.1");class Ks{constructor(){}supports(t){return No(t)}create(t){return new ta(t)}}const Xs=(t,e)=>e;class ta{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Xs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const o=!n||e&&e.currentIndex<ra(n,i,r)?e:n,s=ra(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);const t=s-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;e<=o&&o<t&&(r[n]=i+1)}r[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!No(t))throw new Error(`Error trying to diff '${h(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),o=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Do()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),o=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new ea(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ia),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ia),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ea{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class na{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ia{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new na,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ra(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class oa{constructor(){}supports(t){return t instanceof Map||Lo(t)}create(){return new sa}}class sa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Lo(t)))throw new Error(`Error trying to diff '${h(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new aa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class aa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ca(){return new la([new Ks])}let la=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ca()),deps:[[t,new kn,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=C({token:t,providedIn:"root",factory:ca}),t})();function ha(){return new ua([new oa])}let ua=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ha()),deps:[[t,new kn,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=C({token:t,providedIn:"root",factory:ha}),t})();function da(t,e,n,i,r=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&i.push(St(o)),ut(o))for(let t=lt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&da(e[1],e,n,i)}const s=n.type;if(8&s)da(t,e,n.child,i);else if(32&s){const t=Si(n,e);let r;for(;r=t();)i.push(r)}else if(16&s){const t=Qi(e,n);if(Array.isArray(t))i.push(...t);else{const n=Ei(e[16]);da(n[1],n,t,i,!0)}}n=r?n.projectionNext:n.next}return i}class pa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return da(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ut(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Zi(t,n),ln(e,n))}this._attachedToViewContainer=!1}Ri(this._lView[1],this._lView)}onDestroy(t){Nr(this._lView[1],this._lView,null,t)}markForCheck(){Xr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){to(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Wt(!0);try{to(t,e,n)}finally{Wt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ki(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ga extends pa{constructor(t){super(t),this._view=t}detectChanges(){eo(this._view)}checkNoChanges(){!function(t){Wt(!0);try{eo(t)}finally{Wt(!1)}}(this._view)}get context(){return null}}const fa=function(t){return function(t,e,n){if(pt(t)&&!n){const n=Ft(t.index,e);return new pa(n,n)}return 47&t.type?new pa(e[16],e):null}(Ht(),jt(),16==(16&t))};let _a=(()=>{class t{}return t.__NG_ELEMENT_ID__=fa,t})();const ma=[new oa],ya=new la([new Ks]),va=new ua(ma),Ca=function(){return Oa(Ht(),jt())};let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ca,t})();const xa=ba,Pa=class extends xa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Or(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),kr(e,n,t),new pa(n)}};function Oa(t,e){return 4&t.type?new Pa(e,t,js(t,e)):null}class Ma{}class wa{}const ka=function(){return Da(Ht(),jt())};let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=ka,t})();const Sa=Ta,Ea=class extends Sa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return js(this._hostTNode,this._hostLView)}get injector(){return new $e(this._hostTNode,this._hostLView)}get parentInjector(){const t=Re(this._hostTNode,this._hostLView);if(Se(t)){const e=Ae(t,this._hostLView),n=Ee(t);return new $e(e[1].data[n+8],e)}return new $e(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Aa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){const t=o.get(Ma,null);t&&(r=t)}const s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,i=n[1];if(ut(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new Ea(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,i){const r=lt+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-lt?(e[4]=n[r],cn(n,lt+i,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,o,r);const s=$i(r,o),a=n[11],c=Vi(a,o[7]);return null!==c&&function(t,e,n,i,r,o){i[0]=r,i[6]=e,Ki(t,i,n,1,r,o)}(i,o[6],a,n,c,s),t.attachToViewContainerRef(),cn(Ia(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Aa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Zi(this._lContainer,e);n&&(ln(Ia(this._lContainer),e),Ri(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Zi(this._lContainer,e);return n&&null!=ln(Ia(this._lContainer),e)?new pa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Aa(t){return t[8]}function Ia(t){return t[8]||(t[8]=[])}function Da(t,e){let n;const i=e[t.index];if(ut(i))n=i;else{let r;if(8&t.type)r=St(i);else{const n=e[11];r=n.createComment("");const i=At(t,e);Bi(n,Vi(n,i),r,function(t,e){return kt(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=Jr(i,e,r,t),Kr(e,n)}return new Ea(n,t,e)}const Fa={};class Na extends Us{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=st(t);return new Ra(e,this.ngModule)}}function La(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Za=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Mi});class Ra extends Rs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(pr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return La(this.componentDef.inputs)}get outputs(){return La(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const o=t.get(n,Fa,r);return o!==Fa||i===Fa?o:e.get(n,i,r)}}}(t,i.injector):t,o=r.get(Gs,Tt),s=r.get(Qs,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(kt(t))return t.selectRootElement(e,n===N.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Ni(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?Pt:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),h=this.componentDef.onPush?576:528,u={components:[],scheduler:Mi,clean:io,playerHandler:null,flags:0},d=Fr(0,null,null,1,0,null,null,null,null,null),p=Or(null,d,u,h,null,null,o,a,s,r);let g,f;oe(p);try{const t=function(t,e,n,i,r,o){const s=n[1];n[20]=t;const a=Mr(s,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(co(a,c,!0),null!==t&&(Oe(r,t,c),null!==a.classes&&er(r,t,a.classes),null!==a.styles&&tr(r,t,a.styles)));const l=i.createRenderer(t,e),h=Or(n,Dr(e),null,e.onPush?64:16,n[20],a,i,l,null,null);return s.firstCreatePass&&(qe(Ne(a,n),s,e.type),Br(s,a),zr(a,n.length,1)),Kr(n,h),n[20]=h}(l,this.componentDef,p,o,a);if(l)if(n)Oe(a,l,["ng-version",Ws.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!cr(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Oe(a,l,t),e&&e.length>0&&er(a,l,e.join(" "))}if(f=It(d,ct),void 0!==e){const t=f.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}g=function(t,e,n,i,r){const o=n[1],s=function(t,e,n){const i=Ht();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Vr(t,i,e,wr(t,e,1,null),n));const r=Ye(e,t,i.directiveStart,i);vi(r,e);const o=At(i,e);return o&&vi(o,e),r}(o,n,e);if(i.components.push(s),t[8]=s,r&&r.forEach(t=>t(s,e)),e.contentQueries){const t=Ht();e.contentQueries(1,s,t.directiveStart)}const a=Ht();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(de(a.index),qr(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ur(e,s)),s}(t,this.componentDef,p,u,[wo]),kr(d,p,null)}finally{he()}return new qa(this.componentType,g,js(f,p),p,f)}}class qa extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new ga(i),this.componentType=t}get injector(){return new $e(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ua=new Map;class Ba extends Ma{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Na(this);const n=at(t),i=t[Y]||null;i&&Ss(i),this._bootstrapComponents=ki(n.bootstrap),this._r3Injector=mo(t,e,[{provide:Ma,useValue:this},{provide:Us,useValue:this.componentFactoryResolver}],h(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Mo.THROW_IF_NOT_FOUND,n=S.Default){return t===Mo||t===Ma||t===lo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ja extends wa{constructor(t){super(),this.moduleType=t,null!==at(t)&&function(t){const e=new Set;!function t(n){const i=at(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${h(e)} vs ${h(e.name)}`)}(r,Ua.get(r),n),Ua.set(r,n));const o=ki(i.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ba(this.moduleType,t)}}function za(t,e){const n=zt();let i;const r=t+ct;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new _("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=_t(i.type)),s=A(jo);try{const t=De(!1),e=o();return De(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,jt(),r,e),e}finally{A(s)}}function Va(t,e,n){const i=t+ct,r=jt(),o=Dt(r,i);return function(t,e){return Fo.isWrapped(e)&&(e=Fo.unwrap(e),t[Ut.lFrame.bindingIndex]=gr),e}(r,function(t,e){return t[1].data[e].pure}(r,i)?function(t,e,n,i,r,o){const s=e+n;return Zo(t,s,r)?function(t,e,n){return t[e]=n}(t,s+1,o?i.call(o,r):i(r)):function(t,e){const n=t[e];return n===gr?void 0:n}(t,s+1)}(r,function(){const t=Ut.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,o):o.transform(n))}function Ha(t){return e=>{setTimeout(t,void 0,e)}}const Ga=class extends i.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var i,o,s;let a=t,c=e||(()=>null),l=n;if(t&&"object"==typeof t){const e=t;a=null===(i=e.next)||void 0===i?void 0:i.bind(e),c=null===(o=e.error)||void 0===o?void 0:o.bind(e),l=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(c=Ha(c),a&&(a=Ha(a)),l&&(l=Ha(l)));const h=super.subscribe({next:a,error:c,complete:l});return t instanceof r.w&&t.add(h),h}};function Ya(){return this._results[Do()]()}class Ja{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Do(),n=Ja.prototype;n[e]||(n[e]=Ya)}get changes(){return this._changes||(this._changes=new Ga)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const i=sn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Qa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Qa(this.queryList)}setDirty(){this.queryList.setDirty()}}class $a{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new $a(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==hc(t,e).matches&&this.queries[e].setDirty()}}class Wa{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ka{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Ka(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Xa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Xa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,tc(e,r)),this.matchTNodeWithReadOption(t,e,Ge(e,t,r,!1,!1))}else n===ba?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ge(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Vs||i===Ta||i===ba&&4&e.type)this.addMatch(e.index,-2);else{const n=Ge(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function tc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function ec(t,e,n,i){return-1===n?function(t,e){return 11&t.type?js(t,e):4&t.type?Oa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Vs?js(e,t):n===ba?Oa(e,t):n===Ta?Da(e,t):void 0}(t,e,i):Ye(t,t[1],n,e)}function nc(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const r=o[t];s.push(r<0?null:ec(e,i[r],o[t+1],n.metadata.read))}r.matches=s}return r.matches}function ic(t,e,n,i){const r=t.queries.getByIndex(n),o=r.matches;if(null!==o){const s=nc(t,e,r,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)i.push(s[t/2]);else{const r=o[t+1],s=e[-n];for(let t=lt;t<s.length;t++){const e=s[t];e[17]===e[3]&&ic(e[1],e,r,i)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];ic(n[1],n,r,i)}}}}}return i}function rc(t){const e=jt(),n=zt(),i=ee();ne(i+1);const r=hc(n,i);if(t.dirty&&Nt(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?ic(n,e,i,[]):nc(n,e,r,i);t.reset(o,Hs),t.notifyOnChanges()}return!0}return!1}function oc(t,e,n){const i=zt();i.firstCreatePass&&(lc(i,new Wa(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),cc(i,jt(),e)}function sc(t,e,n,i){const r=zt();if(r.firstCreatePass){const o=Ht();lc(r,new Wa(e,n,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}cc(r,jt(),n)}function ac(){return t=jt(),e=ee(),t[19].queries[e].queryList;var t,e}function cc(t,e,n){const i=new Ja(4==(4&n));Nr(t,e,i,i.destroy),null===e[19]&&(e[19]=new $a),e[19].queries.push(new Qa(i))}function lc(t,e,n){null===t.queries&&(t.queries=new Ka),t.queries.track(new Xa(e,n))}function hc(t,e){return t.queries.getByIndex(e)}const uc=new nn("Application Initializer");let dc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Bs,this.reject=Bs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Qo(e))t.push(e);else if(Wo(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(bn(uc,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const pc=new nn("AppId"),gc={provide:pc,useFactory:function(){return`${fc()}${fc()}${fc()}`},deps:[]};function fc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _c=new nn("Platform Initializer"),mc=new nn("Platform ID"),yc=new nn("appBootstrapListener");let vc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const Cc=new nn("LocaleId"),bc=new nn("DefaultCurrencyCode");class xc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Pc=function(t){return new ja(t)},Oc=Pc,Mc=function(t){return Promise.resolve(Pc(t))},wc=function(t){const e=Pc(t),n=ki(at(t).declarations).reduce((t,e)=>{const n=st(e);return n&&t.push(new Ra(n)),t},[]);return new xc(e,n)},kc=wc,Tc=function(t){return Promise.resolve(wc(t))};let Sc=(()=>{class t{constructor(){this.compileModuleSync=Oc,this.compileModuleAsync=Mc,this.compileModuleAndAllComponentsSync=kc,this.compileModuleAndAllComponentsAsync=Tc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const Ec=(()=>Promise.resolve(0))();function Ac(t){"undefined"==typeof Zone?Ec.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ic{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ga(!1),this.onMicrotaskEmpty=new Ga(!1),this.onStable=new Ga(!1),this.onError=new Ga(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=U.requestAnimationFrame,e=U.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(U,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Nc(t),t.isCheckStableRunning=!0,Fc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Nc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{try{return Lc(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Zc(t)}},onInvoke:(n,i,r,o,s,a,c)=>{try{return Lc(t),n.invoke(r,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Zc(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Nc(t),Fc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ic.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ic.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,Dc,Bs,Bs);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Dc={};function Fc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Nc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Lc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zc(t){t._nesting--,Fc(t)}class Rc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ga,this.onMicrotaskEmpty=new Ga,this.onStable=new Ga,this.onError=new Ga}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let qc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ic.assertNotInAngularZone(),Ac(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ac(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(bn(Ic))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),Uc=(()=>{class t{constructor(){this._applications=new Map,Vc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Vc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();class Bc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function jc(t){Vc=t}let zc,Vc=new Bc,Hc=!0,Gc=!1;function Yc(){return Gc=!0,Hc}function Jc(){if(Gc)throw new Error("Cannot enable prod mode after platform setup.");Hc=!1}const Qc=new nn("AllowMultipleToken");class $c{constructor(t,e){this.name=t,this.token=e}}function Wc(t,e,n=[]){const i=`Platform: ${e}`,r=new nn(i);return(e=[])=>{let o=Kc();if(!o||o.injector.get(Qc,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:uo,useValue:"platform"});!function(t){if(zc&&!zc.destroyed&&!zc.injector.get(Qc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zc=t.get(Xc);const e=t.get(_c,null);e&&e.forEach(t=>t())}(Mo.create({providers:t,name:i}))}return function(t){const e=Kc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Kc(){return zc&&!zc.destroyed?zc:null}let Xc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Rc:("zone.js"===t?void 0:t)||new Ic({enableLongStackTrace:Yc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:Ic,useValue:n}];return n.run(()=>{const e=Mo.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),o=r.injector.get(Oi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});r.onDestroy(()=>{nl(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return Qo(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(o,n,()=>{const t=r.injector.get(dc);return t.runInitializers(),t.donePromise.then(()=>(Ss(r.injector.get(Cc,ks)||ks),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=tl({},e);return function(t,e,n){const i=new ja(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(el);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${h(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(bn(Mo))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function tl(t,e){return Array.isArray(e)?e.reduce(tl,t):Object.assign(Object.assign({},t),e)}let el=(()=>{class t{constructor(t,e,n,i,r){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ic.assertNotInAngularZone(),Ac(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ic.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(c,l.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Rs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(Ma),r=n.create(Mo.NULL,[],e||n.selector,i),o=r.location.nativeElement,s=r.injector.get(qc,null),a=s&&r.injector.get(Uc);return s&&a&&a.registerApplication(o,s),r.onDestroy(()=>{this.detachView(r.hostView),nl(this.components,r),a&&a.unregisterApplication(o)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;nl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(bn(Ic),bn(Mo),bn(Oi),bn(Us),bn(dc))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function nl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class il{}class rl{}const ol={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let sl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ol}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n(8255)(e).then(t=>t[i]).then(t=>al(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>al(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(bn(Sc),bn(rl,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function al(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const cl=function(t){return null},ll=Wc(null,"core",[{provide:mc,useValue:"unknown"},{provide:Xc,deps:[Mo]},{provide:Uc,deps:[]},{provide:vc,deps:[]}]),hl=[{provide:el,useClass:el,deps:[Ic,Mo,Oi,Us,dc]},{provide:Za,deps:[Ic],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:dc,useClass:dc,deps:[[new wn,uc]]},{provide:Sc,useClass:Sc,deps:[]},gc,{provide:la,useFactory:function(){return ya},deps:[]},{provide:ua,useFactory:function(){return va},deps:[]},{provide:Cc,useFactory:function(t){return Ss(t=t||"undefined"!=typeof $localize&&$localize.locale||ks),t},deps:[[new Mn(Cc),new wn,new kn]]},{provide:bc,useValue:"USD"}];let ul=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(bn(el))},t.\u0275mod=et({type:t}),t.\u0275inj=b({providers:hl}),t})()},2346:(t,e,n)=>{"use strict";n.d(e,{hO:()=>w,xv:()=>v,Dh:()=>y,HU:()=>p,GT:()=>m,sI:()=>O,on:()=>b,ss:()=>g,pX:()=>_,yq:()=>x});var i=n(8489),r=n(8569),o=n(6599),s=n(3482),a=n(9098),c=n(5366),l=n(1858);function h(){}t=n.hmd(t);class u{constructor(t,e=i.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule(function(e){i.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",h,{},h,h)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class p{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new u(Zone.current)),this.insideAngular=t.run(()=>new u(Zone.current,r.z))}}function g(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const f=["ngOnDestroy"],_=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{var r;if(t[o])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(o,t[o]),t[o];if(f.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const r=t&&t(...n);return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(o,n,r),r})})})}),m=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new c.OlP("angularfire2.app.options"),v=new c.OlP("angularfire2.app.nameOrConfig"),C=new c.GfV("6.1.5");function b(e,n,i){const r="object"==typeof i&&i||{};r.name=r.name||"string"==typeof i&&i||"[DEFAULT]";const o=l.Z.apps.filter(t=>t&&t.name===r.name)[0]||n.runOutsideAngular(()=>l.Z.initializeApp(e,r));try{JSON.stringify(e)!==JSON.stringify(o.options)&&P("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const x=()=>{P("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},P=(t,...e)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,i,r,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&P("error",`${n} was already initialized on the ${i.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=r();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const M={provide:class{},useFactory:b,deps:[y,c.R0b,[new c.FiY,v]]};let w=(()=>{class t{constructor(t){l.Z.registerVersion("angularfire",C.full,t.toString()),l.Z.registerVersion("angular",c.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(c.Lbi))},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[M]}),t})()},1062:(t,e,n)=>{"use strict";n.d(e,{Z:()=>b});var i,r,o=n(4762),s=n(250),a=n(5119),c=n(308),l=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),h=new s.LL("app","Firebase",l),u="@firebase/app",d="[DEFAULT]",p=((r={})[u]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/app-check"]="fire-app-check",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),g=new c.Yd("@firebase/app"),f=function(){function t(t,e,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return i._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var i=this.container.getProvider(t);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){g.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var _=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw h.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw h.create("duplicate-app",{appName:a});var c=new t(n,o,i);return e[a]=c,c},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=p[t])&&void 0!==i?i:t;n&&(r+="-"+n);var s=r.match(/\s|\//),c=e.match(/\s|\//);if(s||c){var l=['Unable to register library "'+r+'" with version "'+e+'":'];return s&&l.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&c&&l.push("and"),c&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void g.warn(l.join(" "))}o(new a.wA(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:c.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw h.create("invalid-log-argument");(0,c.Am)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(!(0,s.r3)(e,t=t||d))throw h.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return g.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?i[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[a])throw h.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(c,o.serviceProps),i[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var l=0,u=Object.keys(e);l<u.length;l++)e[u[l]]._addComponent(o);return"PUBLIC"===o.type?i[a]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),r.App=t,i}(f);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=_.initializeApp;_.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&g.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var C=_;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion(u,"0.6.22",void 0),t.registerVersion("fire-js","")}(C);const b=C},5119:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>c,zt:()=>a});var i=n(4762),r=n(250),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=(0,i.pi)({identifier:s,optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(u){}try{for(var r=(0,i.XA)(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var a=(0,i.CR)(o.value,2),c=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(u){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,i.mG)(this,void 0,void 0,function(){var t;return(0,i.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,i.ev)((0,i.ev)([],(0,i.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,i.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,c=this.normalizeInstanceIdentifier(void 0===r?s:r);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var h=(0,i.XA)(this.instancesDeferred.entries()),u=h.next();!u.done;u=h.next()){var d=(0,i.CR)(u.value,2),p=d[1];c===this.normalizeInstanceIdentifier(d[0])&&p.resolve(l)}}catch(g){e={error:g}}finally{try{u&&!u.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(l,c),l},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var o=(0,i.XA)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:r}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},2107:(t,e,n)=>{"use strict";var i=n(1062),r=n(5119),o=n(250),s=n(4762),a=n(308);t=n.hmd(t);var c="";function l(t){c=t}var h,u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.Pz)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.cI)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,o.r3)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),p=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new d},g=p("localStorage"),f=p("sessionStorage"),_=new a.Yd("@firebase/database"),m=(h=1,function(){return h++}),y=function(t){var e=(0,o.dS)(t),n=new o.gQ;n.update(e);var i=n.digest();return o.US.encodeByteArray(i)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++){var r=t[i];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=v.apply(null,r):n+="object"==typeof r?(0,o.Pz)(r):r,n+=" "}return n},C=null,b=!0,x=function(t,e){(0,o.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(_.logLevel=a.in.VERBOSE,C=_.log.bind(_),e&&f.set("logging_enabled",!0)):"function"==typeof t?C=t:(C=null,f.remove("logging_enabled"))},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===C&&!0===f.get("logging_enabled")&&x(!0)),C){var n=v.apply(null,t);C(n)}},O=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];P.apply(void 0,(0,s.ev)([t],(0,s.CR)(e)))}},M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,(0,s.ev)([],(0,s.CR)(t)));_.error(n)},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,(0,s.ev)([],(0,s.CR)(t)));throw _.error(n),new Error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,(0,s.ev)([],(0,s.CR)(t)));_.warn(n)},T=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},S="[MIN_NAME]",E="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===S||e===E)return-1;if(e===S||t===E)return 1;var n=q(t),i=q(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},I=function(t,e){return t===e?0:t<e?-1:1},D=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.Pz)(e))},F=function(t){if("object"!=typeof t||null===t)return(0,o.Pz)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",r=0;r<e.length;r++)0!==r&&(i+=","),i+=(0,o.Pz)(e[r]),i+=":",i+=F(t[e[r]]);return i+"}"},N=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function L(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Z=function(t){var e,n,i,r,s;(0,o.hu)(!T(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),l="";for(s=0;s<64;s+=8){var h=parseInt(c.substr(s,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()},R=new RegExp("^-?(0*)\\d{1,10}$"),q=function(t){if(R.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},U=function(t){try{t()}catch(e){setTimeout(function(){throw k("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},B=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},j=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,i){setTimeout(function(){e.appCheck?e.getToken(t).then(n,i):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){k('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),z=function(){function t(t,e,n){var i=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return i.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(P("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,i){setTimeout(function(){e.auth_?e.getToken(t).then(n,i):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';k(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),V=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G="websocket",Y="long_polling",J=function(){function t(t,e,n,i,r,o,s){void 0===r&&(r=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=g.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&g.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function Q(t,e,n){var i;if((0,o.hu)("string"==typeof e,"typeof type must == string"),(0,o.hu)("object"==typeof n,"typeof params must == object"),e===G)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==Y)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var r=[];return L(n,function(t,e){r.push(t+"="+e)}),i+r.join("&")}var $=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,o.p$)(this.counters_)},t}(),W={},K={};function X(t){var e=t.toString();return W[e]||(W[e]=new $),W[e]}var tt=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&U(function(){n.onMessage_(t[e])})},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}(),et="start",nt="close",it=function(){function t(t,e,n,i,r,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=O(t),this.stats_=X(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),Q(e,Y,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new tt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,o.Yr)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new rt(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=(0,s.CR)(t,5),r=i[0],o=i[1],a=i[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,r===et)n.id=o,n.password=a;else{if(r!==nt)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=(0,s.CR)(t,2),r=i[0],o=i[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!((0,o.Yr)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,o.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,o.h$)(e),i=N(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,o.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),rt=function(){function t(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){P("frame writing exception"),c.stack&&P(c.stack),P(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||P("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var i=function(){n.outstandingRequests.delete(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,function(){clearTimeout(r),i()})},t.prototype.addTag=function(t,e){var n=this;(0,o.Yr)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){P("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}},Math.floor(1))},t}(),ot=null;"undefined"!=typeof MozWebSocket?ot=MozWebSocket:"undefined"!=typeof WebSocket&&(ot=WebSocket);var st=function(){function t(e,n,i,r,o,s,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=O(this.connId),this.stats_=X(n),this.connURL=t.connectionURL_(n,s,a,r),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,i){var r={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),i&&(r.ac=i),Q(t,G,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,g.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var i={headers:{"User-Agent":"Firebase/5/"+c+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?i.headers.Authorization=this.authToken||"":i.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var r=process.env,s=0===this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new ot(this.connURL,[],i)}else this.mySock=new ot(this.connURL,[],i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(l){this.log_("Error instantiating WebSocket.");var a=l.message||l.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ot&&!t.forceDisallow_},t.previouslyFailed=function(){return g.isInMemoryStorage||!0===g.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){g.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,o.cI)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,o.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=N(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),at=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[it,st]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,i,r=st&&st.isAvailable(),o=r&&!st.previouslyFailed();if(e.webSocketOnly&&(r||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[st];else{var a=this.transports_=[];try{for(var c=(0,s.XA)(t.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h.isAvailable()&&a.push(h)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),ct=function(){function t(t,e,n,i,r,o,s,a,c,l){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=O("c:"+this.id+":"),this.transportManager_=new at(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,i)},Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=B(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=D("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?M("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),B(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(g.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),lt=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ht=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,o.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=(0,s.ev)([],(0,s.CR)(this.listeners_[t])),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){(0,o.hu)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),ut=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return(0,s.ZT)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.hu)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ht),dt=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function pt(){return new dt("")}function gt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ft(t){return t.pieces_.length-t.pieceNum_}function _t(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new dt(t.pieces_,e)}function mt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function vt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new dt(e,0)}function Ct(t,e){for(var n=[],i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof dt)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new dt(n,0)}function bt(t){return t.pieceNum_>=t.pieces_.length}function xt(t,e){var n=gt(t),i=gt(e);if(null===n)return e;if(n===i)return xt(_t(t),_t(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Pt(t,e){for(var n=yt(t,0),i=yt(e,0),r=0;r<n.length&&r<i.length;r++){var o=A(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1}function Ot(t,e){if(ft(t)!==ft(e))return!1;for(var n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Mt(t,e){var n=t.pieceNum_,i=e.pieceNum_;if(ft(t)>ft(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var wt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=yt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);kt(this)}}();function kt(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Tt(t))}function Tt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var St,Et,At=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))},!1),i}return(0,s.ZT)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ht),It=1e3,Dt=function(t){function e(n,i,r,s,a,c,l,h){var u=t.call(this)||this;if(u.repoInfo_=n,u.applicationId_=i,u.onDataUpdate_=r,u.onConnectStatus_=s,u.onServerInfoUpdate_=a,u.authTokenProvider_=c,u.appCheckTokenProvider_=l,u.authOverride_=h,u.id=e.nextPersistentConnectionId_++,u.log_=O("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingGets_=[],u.outstandingPutCount_=0,u.outstandingGetCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=It,u.maxReconnectDelay_=3e5,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.appCheckToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.invalidAppCheckTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,h&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return At.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&ut.getInstance().on("online",u.onOnline_,u),u}return(0,s.ZT)(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_((0,o.Pz)(r)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.BH,i={p:t._path.toString(),q:t._queryObject},r={action:"g",request:i,onComplete:function(t){var r=t.d;"ok"===t.s?(e.onDataUpdate_(i.p,r,!1,null),n.resolve(r)):n.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&r===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,i){this.initConnection_();var r=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),(0,o.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");var a={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(s).set(r,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(i){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);var s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,c=s.s;e.warnOnListenWarnings_(a,i),(n.listens.get(r)&&n.listens.get(r).get(o))===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(r,o),t.onComplete&&t.onComplete(c,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&(0,o.r3)(t,"w")){var n=(0,o.DV)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e._queryParams.getIndex().toString()+'"',r=e._path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,o.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,o.w9)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,i=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,i)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),(0,o.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){this.initConnection_();var o={p:e,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,o.Pz)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):M("Unrecognized action received from server: "+(0,o.Pz)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=It,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=It,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=It),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return(0,s.mG)(this,void 0,void 0,function(){var t,n,i,r,a,c,l,h,u,d,p,g,f,_=this;return(0,s.Jh)(this,function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,c=!1,l=null,this.realtime_={close:h=function(){l?l.close():(c=!0,i())},sendRequest:function(t){(0,o.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}},u=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)])];case 2:return d=s.CR.apply(void 0,[m.sent(),2]),p=d[0],g=d[1],c?P("getToken() completed but was canceled"):(P("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,l=new ct(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,function(t){k(t+" ("+_.repoInfo_.toString()+")"),_.interrupt("server_kill")},a)),[3,4];case 3:return f=m.sent(),this.log_("Failed to get token: "+f),c||(this.repoInfo_.nodeAdmin&&k(f),h()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){P("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){P("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=It,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return F(t)}).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new dt(t).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(e),r.delete(e),0===r.size&&this.listens.delete(i)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){P("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){P("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,i;this.tryAuth(),this.tryAppCheck();try{for(var r=(0,s.XA)(this.listens.values()),o=r.next();!o.done;o=r.next()){var a=o.value;try{for(var c=(n=void 0,(0,s.XA)(a.values())),l=c.next();!l.done;l=c.next())this.sendListen_(l.value)}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var u=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(u.action,u.pathString,u.data,u.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,o.Yr)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+c.replace(/\./g,"-")]=1,(0,o.uI)()?t["framework.cordova"]=1:(0,o.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ut.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(lt),Ft=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Nt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ft(S,t),i=new Ft(S,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return Ft.MIN},t}(),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return St},set:function(t){St=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ft.MIN},e.prototype.maxPost=function(){return new Ft(E,St)},e.prototype.makePost=function(t,e){return(0,o.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ft(t,St)},e.prototype.toString=function(){return".key"},e}(Nt),Zt=new Lt,Rt=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),qt=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:Bt.EMPTY_NODE,this.right=null!=o?o:Bt.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Bt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Bt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ut=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new qt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Bt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Rt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Rt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Rt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Rt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ut,t}();function jt(t,e){return A(t.name,e.name)}function zt(t,e){return A(t,e)}var Vt,Ht,Gt,Yt,Jt,Qt=function(t){return"number"==typeof t?"number:"+Z(t):"string:"+t},$t=function(t){if(t.isLeafNode()){var e=t.val();(0,o.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,o.r3)(e,".sv"),"Priority must be a string or number.")}else(0,o.hu)(t===Et||t.isEmpty(),"priority of unexpected type.");(0,o.hu)(t===Et||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Wt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$t(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Vt},set:function(t){Vt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return bt(e)?this:".priority"===gt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=gt(e);return null===i?n:n.isEmpty()&&".priority"!==i?this:((0,o.hu)(".priority"!==i||1===ft(e),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(_t(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Qt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?Z(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,o.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(i);return(0,o.hu)(r>=0,"Unknown leaf type: "+n),(0,o.hu)(s>=0,"Unknown leaf type: "+i),r===s?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?A(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ft.MIN},e.prototype.maxPost=function(){return new Ft(E,new Wt("[PRIORITY-POST]",Gt))},e.prototype.makePost=function(t,e){var n=Ht(t);return new Ft(e,new Wt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Nt)),Xt=Math.log(2),te=function(){function t(t){this.count=parseInt(Math.log(t+1)/Xt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),ee=function(t,e,n,i){t.sort(e);var r=function(e,i){var o,s,a=i-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new qt(s,o.node,qt.BLACK,null,null);var c=parseInt(a/2,10)+e,l=r(e,c),h=r(c+1,i);return o=t[c],s=n?n(o):o,new qt(s,o.node,qt.BLACK,l,h)},o=function(e){for(var i=null,o=null,s=t.length,a=function(e,i){var o=s-e,a=s;s-=e;var l=r(o+1,a),h=t[o],u=n?n(h):h;c(new qt(u,h.node,i,null,l))},c=function(t){i?(i.left=t,i=t):(o=t,i=t)},l=0;l<e.count;++l){var h=e.nextBitIsOne(),u=Math.pow(2,e.count-(l+1));h?a(u,qt.BLACK):(a(u,qt.BLACK),a(u,qt.RED))}return o}(new te(t.length));return new Bt(i||e,o)},ne={},ie=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.hu)(ne&&Kt,"ChildrenNode.ts has not been loaded"),Yt=Yt||new t({".priority":ne},{".priority":Kt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,o.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Bt?e:null},t.prototype.hasIndex=function(t){return(0,o.r3)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.hu)(e!==Zt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,r=[],a=!1,c=n.getIterator(Ft.Wrap),l=c.getNext();l;)a=a||e.isDefinedOn(l.node),r.push(l),l=c.getNext();i=a?ee(r,e.getCompare()):ne;var h=e.toString(),u=(0,s.pi)({},this.indexSet_);u[h]=e;var d=(0,s.pi)({},this.indexes_);return d[h]=i,new t(d,u)},t.prototype.addToIndexes=function(e,n){var i=this;return new t((0,o.UI)(this.indexes_,function(t,r){var s=(0,o.DV)(i.indexSet_,r);if((0,o.hu)(s,"Missing index implementation for "+r),t===ne){if(s.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(Ft.Wrap),l=c.getNext();l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),ee(a,s.getCompare())}return ne}var h=n.get(e.name),u=t;return h&&(u=u.remove(new Ft(e.name,h))),u.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t((0,o.UI)(this.indexes_,function(t){if(t===ne)return t;var i=n.get(e.name);return i?t.remove(new Ft(e.name,i)):t}),this.indexSet_)},t}(),re=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&$t(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Jt||(Jt=new t(new Bt(zt),null,ie.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Jt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Jt:e},t.prototype.getChild=function(t){var e=gt(t);return null===e?this:this.getImmediateChild(e).getChild(_t(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new Ft(e,n),r=void 0,s=void 0;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));var a=r.isEmpty()?Jt:this.priorityNode_;return new t(r,a,s)},t.prototype.updateChild=function(t,e){var n=gt(t);if(null===n)return e;(0,o.hu)(".priority"!==gt(t)||1===ft(t),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(_t(t),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(Kt,function(s,a){n[s]=a.val(e),i++,o&&t.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1}),!e&&o&&r<2*i){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Qt(this.getPriority().val())+":"),this.forEachChild(Kt,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new Ft(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ft(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ft(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var i=this.children_.getIteratorFrom(t.name,Ft.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var i=this.children_.getReverseIteratorFrom(t.name,Ft.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===oe?-1:0},t.prototype.withIndex=function(e){if(e===Zt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Zt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Kt),i=e.getIterator(Kt),r=n.getNext(),o=i.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Zt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),oe=new(function(t){function e(){return t.call(this,new Bt(zt),re.EMPTY_NODE,ie.Default)||this}return(0,s.ZT)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return re.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(re));function se(t,e){if(void 0===e&&(e=null),null===t)return re.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Wt(t,se(e));if(t instanceof Array){var n=re.EMPTY_NODE;return L(t,function(e,i){if((0,o.r3)(t,e)&&"."!==e.substring(0,1)){var r=se(i);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r))}}),n.updatePriority(se(e))}var i=[],r=!1;if(L(t,function(t,e){if("."!==t.substring(0,1)){var n=se(e);n.isEmpty()||(r=r||!n.getPriority().isEmpty(),i.push(new Ft(t,n)))}}),0===i.length)return re.EMPTY_NODE;var s=ee(i,jt,function(t){return t.name},zt);if(r){var a=ee(i,Kt.getCompare());return new re(s,se(e),new ie({".priority":a},{".priority":Kt}))}return new re(s,se(e),ie.Default)}Object.defineProperties(Ft,{MIN:{value:new Ft(S,re.EMPTY_NODE)},MAX:{value:new Ft(E,oe)}}),Lt.__EMPTY_NODE=re.EMPTY_NODE,Wt.__childrenNodeConstructor=re,Et=oe,Gt=oe,Ht=se;var ae,ce,le=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,o.hu)(!bt(e)&&".priority"!==gt(e),"Can't create PathIndex with empty path or .priority key"),n}return(0,s.ZT)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?A(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=se(t),i=re.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ft(e,i)},e.prototype.maxPost=function(){var t=re.EMPTY_NODE.updateChild(this.indexPath_,oe);return new Ft(E,t)},e.prototype.toString=function(){return yt(this.indexPath_,0).join("/")},e}(Nt),he=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ft.MIN},e.prototype.maxPost=function(){return Ft.MAX},e.prototype.makePost=function(t,e){var n=se(t);return new Ft(e,n)},e.prototype.toString=function(){return".value"},e}(Nt)),ue="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",de=(ae=0,ce=[],function(t){var e,n=t===ae;ae=t;var i=new Array(8);for(e=7;e>=0;e--)i[e]=ue.charAt(t%64),t=Math.floor(t/64);(0,o.hu)(0===t,"Cannot push at time == 0");var r=i.join("");if(n){for(e=11;e>=0&&63===ce[e];e--)ce[e]=0;ce[e]++}else for(e=0;e<12;e++)ce[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)r+=ue.charAt(ce[e]);return(0,o.hu)(20===r.length,"nextPushId: Length should be 20."),r}),pe=function(t){if("2147483647"===t)return"-";var e=q(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),i=0;i<n.length;i++)n[i]=t.charAt(i);if(n.length<786)return n.push("-"),n.join("");for(var r=n.length-1;r>=0&&"z"===n[r];)r--;if(-1===r)return E;var o=ue.charAt(ue.indexOf(n[r])+1);return n[r]=o,n.slice(0,r+1).join("")},ge=function(t){if("-2147483648"===t)return S;var e=q(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),i=0;i<n.length;i++)n[i]=t.charAt(i);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ue.charAt(ue.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function fe(t){return{type:"value",snapshotNode:t}}function _e(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function me(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ye(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var ve=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,r,s){(0,o.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(me(e,a)):(0,o.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(_e(e,n)):s.trackChildChange(ye(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Kt,function(t,i){e.hasChild(t)||n.trackChildChange(me(t,i))}),e.isLeafNode()||e.forEachChild(Kt,function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(ye(e,i,r))}else n.trackChildChange(_e(e,i))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?re.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ce=function(){function t(e){this.indexedFilter_=new ve(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,o){return this.matches(new Ft(e,n))||(n=re.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=re.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(re.EMPTY_NODE);var r=this;return e.forEachChild(Kt,function(t,e){r.matches(new Ft(t,e))||(i=i.updateImmediateChild(t,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),be=function(){function t(t){this.rangedFilter_=new Ce(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,o){return this.rangedFilter_.matches(new Ft(e,n))||(n=re.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,o):this.fullLimitUpdateChild_(t,e,n,r,o)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=re.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=re.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;r.hasNext()&&o<this.limit_;){var s=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(s.name,s.node),o++}}else{i=(i=e.withIndex(this.index_)).updatePriority(re.EMPTY_NODE);var a=void 0,c=void 0,l=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(t,e){return h(e,t)}}else r=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var u=!1;r.hasNext();)s=r.getNext(),!u&&l(a,s)<=0&&(u=!0),u&&o<this.limit_&&l(s,c)<=0?o++:i=i.updateImmediateChild(s.name,re.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var c=t;(0,o.hu)(c.numChildren()===this.limit_,"");var l=new Ft(e,n),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),p=i.getChildAfterChild(this.index_,h,this.reverse_);null!=p&&(p.name===e||c.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);var g=null==p?1:s(p,l);if(u&&!n.isEmpty()&&g>=0)return null!=r&&r.trackChildChange(ye(e,n,d)),c.updateImmediateChild(e,n);null!=r&&r.trackChildChange(me(e,d));var f=c.updateImmediateChild(e,re.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=r&&r.trackChildChange(_e(p.name,p.node)),f.updateImmediateChild(p.name,p.node)):f}return n.isEmpty()?t:u&&s(h,l)>=0?(null!=r&&(r.trackChildChange(me(h.name,h.node)),r.trackChildChange(_e(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(h.name,re.EMPTY_NODE)):t},t}(),xe=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:S},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:E},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Kt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Pe(t,e,n){var i=t.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function Oe(t,e,n){var i=t.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function Me(t,e){var n=t.copy();return n.index_=e,n}function we(t){var e,n={};return t.isDefault()||(t.index_===Kt?e="$priority":t.index_===he?e="$value":t.index_===Zt?e="$key":((0,o.hu)(t.index_ instanceof le,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,o.Pz)(e),t.startSet_&&(n.startAt=(0,o.Pz)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,o.Pz)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,o.Pz)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,o.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function ke(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Kt&&(e.i=t.index_.toString()),e}var Te=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=i,o.appCheckTokenProvider_=r,o.log_=O("p:rest:"),o.listens_={},o}return(0,s.ZT)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,o.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,i,r){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var c=e.getListenId_(t,i),l={};this.listens_[c]=l;var h=we(t._queryParams);this.restRequest_(a+".json",h,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,i),(0,o.DV)(s.listens_,c)===l&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.get=function(t){var e=this,n=we(t._queryParams),i=t._path.toString(),r=new o.BH;return this.restRequest_(i+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(i,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(r){var a=(0,s.CR)(r,2),c=a[0],l=a[1];c&&c.accessToken&&(e.auth=c.accessToken),l&&l.token&&(e.ac=l.token);var h=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+(0,o.xO)(e);i.log_("Sending REST request for "+h);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){i.log_("REST Response for "+h+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=(0,o.cI)(u.responseText)}catch(e){k("Failed to parse JSON response for "+h+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&k("Got unsuccessful REST response for "+h+" Status: "+u.status),n(u.status);n=null}},u.open("GET",h,!0),u.send()})},e}(lt),Se=function(){function t(){this.rootNode_=re.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Ee(){return{value:null,children:new Map}}function Ae(t,e,n){if(bt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var i=gt(e);t.children.has(i)||t.children.set(i,Ee()),Ae(t.children.get(i),e=_t(e),n)}}function Ie(t,e){if(bt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Kt,function(e,n){Ae(t,new dt(e),n)}),Ie(t,e)}if(t.children.size>0){var i=gt(e);return e=_t(e),t.children.has(i)&&Ie(t.children.get(i),e)&&t.children.delete(i),0===t.children.size}return!0}function De(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,i){De(i,new dt(e.toString()+"/"+t),n)})}var Fe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,s.pi)({},t);return this.last_&&L(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Ne=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Fe(t);var n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;L(e,function(e,r){r>0&&(0,o.r3)(t.statsToReport_,e)&&(n[e]=r,i=!0)}),i&&this.server_.reportStats(n),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Le=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Ze(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Re,qe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Le.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(bt(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new dt(e));return new t(pt(),n,this.revert)}return(0,o.hu)(gt(this.path)===e,"operationForChild called for unrelated child."),new t(_t(this.path),this.affectedTree,this.revert)},t}(),Ue=function(){function t(t,e){this.source=t,this.path=e,this.type=Le.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return bt(this.path)?new t(this.source,pt()):new t(this.source,_t(this.path))},t}(),Be=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Le.OVERWRITE}return t.prototype.operationForChild=function(e){return bt(this.path)?new t(this.source,pt(),this.snap.getImmediateChild(e)):new t(this.source,_t(this.path),this.snap)},t}(),je=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Le.MERGE}return t.prototype.operationForChild=function(e){if(bt(this.path)){var n=this.children.subtree(new dt(e));return n.isEmpty()?null:n.value?new Be(this.source,pt(),n.value):new t(this.source,pt(),n)}return(0,o.hu)(gt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,_t(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ze=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(bt(t))return this.isFullyInitialized()&&!this.filtered_;var e=gt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Ve=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function He(t,e,n,i,r,s){var a=i.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var i=new Ft(e.childName,e.snapshotNode),r=new Ft(n.childName,n.snapshotNode);return t.index_.compare(i,r)}(t,e,n)}),a.forEach(function(n){var i=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);r.forEach(function(r){r.respondsTo(n.type)&&e.push(r.createEvent(i,t.query_))})})}function Ge(t,e){return{eventCache:t,serverCache:e}}function Ye(t,e,n,i){return Ge(new ze(e,n,i),t.serverCache)}function Je(t,e,n,i){return Ge(t.eventCache,new ze(e,n,i))}function Qe(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $e(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var We=function(){function t(t,e){void 0===e&&(Re||(Re=new Bt(I)),e=Re),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return L(e,function(t,e){n=n.set(new dt(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:pt(),value:this.value};if(bt(t))return null;var n=gt(t),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(_t(t),e);return null!=r?{path:Ct(new dt(n),r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(bt(e))return this;var n=gt(e),i=this.children.get(n);return null!==i?i.subtree(_t(e)):new t(null)},t.prototype.set=function(e,n){if(bt(e))return new t(n,this.children);var i=gt(e),r=(this.children.get(i)||new t(null)).set(_t(e),n),o=this.children.insert(i,r);return new t(this.value,o)},t.prototype.remove=function(e){if(bt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=gt(e),i=this.children.get(n);if(i){var r=i.remove(_t(e)),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(bt(t))return this.value;var e=gt(t),n=this.children.get(e);return n?n.get(_t(t)):null},t.prototype.setTree=function(e,n){if(bt(e))return n;var i,r=gt(e),o=(this.children.get(r)||new t(null)).setTree(_t(e),n);return i=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(pt(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(Ct(t,i),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,pt(),e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(bt(t))return null;var r=gt(t),o=this.children.get(r);return o?o.findOnPath_(_t(t),Ct(e,r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,pt(),e)},t.prototype.foreachOnPath_=function(e,n,i){if(bt(e))return this;this.value&&i(n,this.value);var r=gt(e),o=this.children.get(r);return o?o.foreachOnPath_(_t(e),Ct(n,r),i):new t(null)},t.prototype.foreach=function(t){this.foreach_(pt(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,i){i.foreach_(Ct(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),Ke=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new We(null))},t}();function Xe(t,e,n){if(bt(e))return new Ke(new We(n));var i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,o=i.value,s=xt(r,e);return o=o.updateChild(s,n),new Ke(t.writeTree_.set(r,o))}var a=new We(n),c=t.writeTree_.setTree(e,a);return new Ke(c)}function tn(t,e,n){var i=t;return L(n,function(t,n){i=Xe(i,Ct(e,t),n)}),i}function en(t,e){if(bt(e))return Ke.empty();var n=t.writeTree_.setTree(e,new We(null));return new Ke(n)}function nn(t,e){return null!=rn(t,e)}function rn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(xt(n.path,e)):null}function on(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Kt,function(t,n){e.push(new Ft(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Ft(t,n.value))}),e}function sn(t,e){if(bt(e))return t;var n=rn(t,e);return new Ke(null!=n?new We(n):t.writeTree_.subtree(e))}function an(t){return t.writeTree_.isEmpty()}function cn(t,e){return ln(pt(),t.writeTree_,e)}function ln(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var i=null;return e.children.inorderTraversal(function(e,r){".priority"===e?((0,o.hu)(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=ln(Ct(t,e),r,n)}),n.getChild(t).isEmpty()||null===i||(n=n.updateChild(Ct(t,".priority"),i)),n}function hn(t,e){return bn(e,t)}function un(t,e){if(t.snap)return Mt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Mt(Ct(t.path,n),e))return!0;return!1}function dn(t){return t.visible}function pn(t,e,n){for(var i=Ke.empty(),r=0;r<t.length;++r){var s=t[r];if(e(s)){var a=s.path,c=void 0;if(s.snap)Mt(n,a)?i=Xe(i,c=xt(n,a),s.snap):Mt(a,n)&&(c=xt(a,n),i=Xe(i,pt(),s.snap.getChild(c)));else{if(!s.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(Mt(n,a))i=tn(i,c=xt(n,a),s.children);else if(Mt(a,n))if(bt(c=xt(a,n)))i=tn(i,pt(),s.children);else{var l=(0,o.DV)(s.children,gt(c));if(l){var h=l.getChild(_t(c));i=Xe(i,pt(),h)}}}}}return i}function gn(t,e,n,i,r){if(i||r){var o=sn(t.visibleWrites,e);return!r&&an(o)?n:r||null!=n||nn(o,pt())?cn(pn(t.allWrites,function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(Mt(t.path,e)||Mt(e,t.path))},e),n||re.EMPTY_NODE):null}var s=rn(t.visibleWrites,e);if(null!=s)return s;var a=sn(t.visibleWrites,e);return an(a)?n:null!=n||nn(a,pt())?cn(a,n||re.EMPTY_NODE):null}function fn(t,e,n,i){return gn(t.writeTree,t.treePath,e,n,i)}function _n(t,e){return function(t,e,n){var i=re.EMPTY_NODE,r=rn(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Kt,function(t,e){i=i.updateImmediateChild(t,e)}),i;if(n){var o=sn(t.visibleWrites,e);return n.forEachChild(Kt,function(t,e){var n=cn(sn(o,new dt(t)),e);i=i.updateImmediateChild(t,n)}),on(o).forEach(function(t){i=i.updateImmediateChild(t.name,t.node)}),i}return on(sn(t.visibleWrites,e)).forEach(function(t){i=i.updateImmediateChild(t.name,t.node)}),i}(t.writeTree,t.treePath,e)}function mn(t,e,n,i){return function(t,e,n,i,r){(0,o.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");var s=Ct(e,n);if(nn(t.visibleWrites,s))return null;var a=sn(t.visibleWrites,s);return an(a)?r.getChild(n):cn(a,r.getChild(n))}(t.writeTree,t.treePath,e,n,i)}function yn(t,e){return function(t,e){return rn(t.visibleWrites,e)}(t.writeTree,Ct(t.treePath,e))}function vn(t,e,n){return function(t,e,n,i){var r=Ct(e,n),o=rn(t.visibleWrites,r);return null!=o?o:i.isCompleteForChild(n)?cn(sn(t.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Cn(t,e){return bn(Ct(t.treePath,e),t.writeTree)}function bn(t,e){return{treePath:t,writeTree:e}}var xn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,o.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var r=i.type;if("child_added"===e&&"child_removed"===r)this.changeMap.set(n,ye(n,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===r)this.changeMap.set(n,me(n,i.oldSnap));else if("child_changed"===e&&"child_added"===r)this.changeMap.set(n,_e(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==r)throw(0,o.g5)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,ye(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Pn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),On=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ze(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$e(this.viewCache_),r=function(t,e,n,i,r,o){return function(t,e,n,i,r,o,s){var a,c=sn(t.visibleWrites,e),l=rn(c,pt());if(null!=l)a=l;else{if(null==n)return[];a=cn(c,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var h=[],u=s.getCompare(),d=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),p=d.getNext();p&&h.length<1;)0!==u(p,i)&&h.push(p),p=d.getNext();return h}(t.writeTree,t.treePath,e,n,0,r,o)}(this.writes_,i,e,0,n,t);return 0===r.length?null:r[0]},t}();function Mn(t,e,n,i,r,s){var a=e.eventCache;if(null!=yn(i,n))return e;var c=void 0,l=void 0;if(bt(n))if((0,o.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var h=$e(e),u=_n(i,h instanceof re?h:re.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{var d=fn(i,$e(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var p=gt(n);if(".priority"===p){(0,o.hu)(1===ft(n),"Can't have a priority with additional path components");var g=a.getNode(),f=mn(i,n,g,l=e.serverCache.getNode());c=null!=f?t.filter.updatePriority(g,f):a.getNode()}else{var _=_t(n),m=void 0;if(a.isCompleteForChild(p)){l=e.serverCache.getNode();var y=mn(i,n,a.getNode(),l);m=null!=y?a.getNode().getImmediateChild(p).updateChild(_,y):a.getNode().getImmediateChild(p)}else m=vn(i,p,e.serverCache);c=null!=m?t.filter.updateChild(a.getNode(),p,m,_,r,s):a.getNode()}}return Ye(e,c,a.isFullyInitialized()||bt(n),t.filter.filtersNodes())}function wn(t,e,n,i,r,o,s,a){var c,l=e.serverCache,h=s?t.filter:t.filter.getIndexedFilter();if(bt(n))c=h.updateFullNode(l.getNode(),i,null);else if(h.filtersNodes()&&!l.isFiltered()){var u=l.getNode().updateChild(n,i);c=h.updateFullNode(l.getNode(),u,null)}else{var d=gt(n);if(!l.isCompleteForPath(n)&&ft(n)>1)return e;var p=_t(n),g=l.getNode().getImmediateChild(d).updateChild(p,i);c=".priority"===d?h.updatePriority(l.getNode(),g):h.updateChild(l.getNode(),d,g,p,Pn,null)}var f=Je(e,c,l.isFullyInitialized()||bt(n),h.filtersNodes());return Mn(t,f,n,r,new On(r,f,o),a)}function kn(t,e,n,i,r,o,s){var a,c,l=e.eventCache,h=new On(r,e,o);if(bt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,s),a=Ye(e,c,!0,t.filter.filtersNodes());else{var u=gt(n);if(".priority"===u)c=t.filter.updatePriority(e.eventCache.getNode(),i),a=Ye(e,c,l.isFullyInitialized(),l.isFiltered());else{var d=_t(n),p=l.getNode().getImmediateChild(u),g=void 0;if(bt(d))g=i;else{var f=h.getCompleteChild(u);g=null!=f?".priority"===mt(d)&&f.getChild(vt(d)).isEmpty()?f:f.updateChild(d,i):re.EMPTY_NODE}a=p.equals(g)?e:Ye(e,t.filter.updateChild(l.getNode(),u,g,d,h,s),l.isFullyInitialized(),t.filter.filtersNodes())}}return a}function Tn(t,e){return t.eventCache.isCompleteForChild(e)}function Sn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function En(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c,l=e;c=bt(n)?i:new We(null).setTree(n,i);var h=e.serverCache.getNode();return c.children.inorderTraversal(function(n,i){if(h.hasChild(n)){var c=Sn(0,e.serverCache.getNode().getImmediateChild(n),i);l=wn(t,l,new dt(n),c,r,o,s,a)}}),c.children.inorderTraversal(function(n,i){var c=!e.serverCache.isCompleteForChild(n)&&void 0===i.value;if(!h.hasChild(n)&&!c){var u=Sn(0,e.serverCache.getNode().getImmediateChild(n),i);l=wn(t,l,new dt(n),u,r,o,s,a)}}),l}var An,In=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,i=this.query_._queryParams,r=new ve(i.getIndex()),o=(n=i).loadsAllData()?new ve(n.getIndex()):n.hasLimit()?new be(n):new Ce(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,c=r.updateFullNode(re.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(re.EMPTY_NODE,a.getNode(),null),h=new ze(c,s.isFullyInitialized(),r.filtersNodes()),u=new ze(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ge(u,h),this.eventGenerator_=new Ve(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Dn(t,e){var n=$e(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!bt(e)&&!n.getImmediateChild(gt(e)).isEmpty())?n.getChild(e):null}function Fn(t){return 0===t.eventRegistrations_.length}function Nn(t,e,n){var i=[];if(n){(0,o.hu)(null==e,"A cancel should cancel all event registrations.");var r=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,r);e&&i.push(e)})}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var c=t.eventRegistrations_[a];if(c.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(c)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function Ln(t,e,n,i){e.type===Le.MERGE&&null!==e.source.queryId&&((0,o.hu)($e(t.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(Qe(t.viewCache_),"Missing event cache, even though we have a server cache"));var r,s,a=t.viewCache_,c=function(t,e,n,i,r){var s,a,c=new xn;if(n.type===Le.OVERWRITE){var l=n;l.source.fromUser?s=kn(t,e,l.path,l.snap,i,r,c):((0,o.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!bt(l.path),s=wn(t,e,l.path,l.snap,i,r,a,c))}else if(n.type===Le.MERGE){var h=n;h.source.fromUser?s=function(t,e,n,i,r,o,s){var a=e;return i.foreach(function(i,c){var l=Ct(n,i);Tn(e,gt(l))&&(a=kn(t,a,l,c,r,o,s))}),i.foreach(function(i,c){var l=Ct(n,i);Tn(e,gt(l))||(a=kn(t,a,l,c,r,o,s))}),a}(t,e,h.path,h.children,i,r,c):((0,o.hu)(h.source.fromServer,"Unknown source."),a=h.source.tagged||e.serverCache.isFiltered(),s=En(t,e,h.path,h.children,i,r,a,c))}else if(n.type===Le.ACK_USER_WRITE){var u=n;s=u.revert?function(t,e,n,i,r,s){var a;if(null!=yn(i,n))return e;var c=new On(i,e,r),l=e.eventCache.getNode(),h=void 0;if(bt(n)||".priority"===gt(n)){var u=void 0;if(e.serverCache.isFullyInitialized())u=fn(i,$e(e));else{var d=e.serverCache.getNode();(0,o.hu)(d instanceof re,"serverChildren would be complete if leaf node"),u=_n(i,d)}h=t.filter.updateFullNode(l,u=u,s)}else{var p=gt(n),g=vn(i,p,e.serverCache);null==g&&e.serverCache.isCompleteForChild(p)&&(g=l.getImmediateChild(p)),(h=null!=g?t.filter.updateChild(l,p,g,_t(n),c,s):e.eventCache.getNode().hasChild(p)?t.filter.updateChild(l,p,re.EMPTY_NODE,_t(n),c,s):l).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=fn(i,$e(e))).isLeafNode()&&(h=t.filter.updateFullNode(h,a,s))}return a=e.serverCache.isFullyInitialized()||null!=yn(i,pt()),Ye(e,h,a,t.filter.filtersNodes())}(t,e,u.path,i,r,c):function(t,e,n,i,r,o,s){if(null!=yn(r,n))return e;var a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=i.value){if(bt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return wn(t,e,n,c.getNode().getChild(n),r,o,a,s);if(bt(n)){var l=new We(null);return c.getNode().forEachChild(Zt,function(t,e){l=l.set(new dt(t),e)}),En(t,e,n,l,r,o,a,s)}return e}var h=new We(null);return i.foreach(function(t,e){var i=Ct(n,t);c.isCompleteForPath(i)&&(h=h.set(t,c.getNode().getChild(i)))}),En(t,e,n,h,r,o,a,s)}(t,e,u.path,u.affectedTree,i,r,c)}else{if(n.type!==Le.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);s=function(t,e,n,i,r){var o=e.serverCache;return Mn(t,Je(e,o.getNode(),o.isFullyInitialized()||bt(n),o.isFiltered()),n,i,Pn,r)}(t,e,n.path,i,c)}var d=c.getChanges();return function(t,e,n){var i=e.eventCache;if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Qe(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(fe(Qe(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,i);return r=t.processor_,(0,o.hu)((s=c.viewCache).eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(s.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,Zn(t,c.changes,c.viewCache.eventCache.getNode(),null)}function Zn(t,e,n,i){return function(t,e,n,i){var r=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),He(t,r,"child_removed",e,i,n),He(t,r,"child_added",e,i,n),He(t,r,"child_moved",o,i,n),He(t,r,"child_changed",e,i,n),He(t,r,"value",e,i,n),r}(t.eventGenerator_,e,n,i?[i]:t.eventRegistrations_)}var Rn,qn=function(){return function(){this.views=new Map}}();function Un(t,e,n,i){var r,a,c=e.source.queryId;if(null!==c){var l=t.views.get(c);return(0,o.hu)(null!=l,"SyncTree gave us an op for an invalid query."),Ln(l,e,n,i)}var h=[];try{for(var u=(0,s.XA)(t.views.values()),d=u.next();!d.done;d=u.next())h=h.concat(Ln(l=d.value,e,n,i))}catch(p){r={error:p}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return h}function Bn(t,e,n,i,r){var o=t.views.get(e._queryIdentifier);if(!o){var s=fn(n,r?i:null),a=!1;s?a=!0:i instanceof re?(s=_n(n,i),a=!1):(s=re.EMPTY_NODE,a=!1);var c=Ge(new ze(s,a,!1),new ze(i,r,!1));return new In(e,c)}return o}function jn(t){var e,n,i=[];try{for(var r=(0,s.XA)(t.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.query._queryParams.loadsAllData()||i.push(a)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}function zn(t,e){var n,i,r=null;try{for(var o=(0,s.XA)(t.views.values()),a=o.next();!a.done;a=o.next())r=r||Dn(a.value,e)}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}function Vn(t,e){return e._queryParams.loadsAllData()?Yn(t):t.views.get(e._queryIdentifier)}function Hn(t,e){return null!=Vn(t,e)}function Gn(t){return null!=Yn(t)}function Yn(t){var e,n;try{for(var i=(0,s.XA)(t.views.values()),r=i.next();!r.done;r=i.next()){var o=r.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null}var Jn=1,Qn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new We(null),this.pendingWriteTree_={visibleWrites:Ke.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function $n(t,e,n,i,r){return function(t,e,n,i,r){(0,o.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Xe(t.visibleWrites,e,n)),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i,r),r?ni(t,new Be({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Wn(t,e,n){void 0===n&&(n=!1);var i=function(t,e){for(var n=0;n<t.allWrites.length;n++){var i=t.allWrites[n];if(i.writeId===e)return i}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var i=t.allWrites[n];t.allWrites.splice(n,1);for(var r=i.visible,s=!1,a=t.allWrites.length-1;r&&a>=0;){var c=t.allWrites[a];c.visible&&(a>=n&&un(c,i.path)?r=!1:Mt(i.path,c.path)&&(s=!0)),a--}return!!r&&(s?(function(t){t.visibleWrites=pn(t.allWrites,dn,pt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=en(t.visibleWrites,i.path):L(i.children,function(e){t.visibleWrites=en(t.visibleWrites,Ct(i.path,e))}),!0))}(t.pendingWriteTree_,e)){var r=new We(null);return null!=i.snap?r=r.set(pt(),!0):L(i.children,function(t){r=r.set(new dt(t),!0)}),ni(t,new qe(i.path,r,n))}return[]}function Kn(t,e,n){return ni(t,new Be({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Xn(t,e,n,i){var r=e._path,a=t.syncPointTree_.get(r),c=[];if(a&&("default"===e._queryIdentifier||Hn(a,e))){var l=function(t,e,n,i){var r,a,c=e._queryIdentifier,l=[],h=[],u=Gn(t);if("default"===c)try{for(var d=(0,s.XA)(t.views.entries()),p=d.next();!p.done;p=d.next()){var g,f=(0,s.CR)(p.value,2),_=f[0];h=h.concat(Nn(g=f[1],n,i)),Fn(g)&&(t.views.delete(_),g.query._queryParams.loadsAllData()||l.push(g.query))}}catch(m){r={error:m}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(r)throw r.error}}else(g=t.views.get(c))&&(h=h.concat(Nn(g,n,i)),Fn(g)&&(t.views.delete(c),g.query._queryParams.loadsAllData()||l.push(g.query)));return u&&!Gn(t)&&l.push(new((0,o.hu)(An,"Reference.ts has not been loaded"),An)(e._repo,e._path)),{removed:l,events:h}}(a,e,n,i);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(r));var h=l.removed;c=l.events;var u=-1!==h.findIndex(function(t){return t._queryParams.loadsAllData()}),d=t.syncPointTree_.findOnPath(r,function(t,e){return Gn(e)});if(u&&!d){var p=t.syncPointTree_.subtree(r);if(!p.isEmpty())for(var g=function(t){return t.fold(function(t,e,n){if(e&&Gn(e))return[Yn(e)];var i=[];return e&&(i=jn(e)),L(n,function(t,e){i=i.concat(e)}),i})}(p),f=0;f<g.length;++f){var _=g[f],m=_.query,y=oi(t,_);t.listenProvider_.startListening(ui(m),si(t,m),y.hashFn,y.onComplete)}}!d&&h.length>0&&!i&&(u?t.listenProvider_.stopListening(ui(e),null):h.forEach(function(e){var n=t.queryToTagMap.get(ai(e));t.listenProvider_.stopListening(ui(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var i=e[n];if(!i._queryParams.loadsAllData()){var r=ai(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}(t,h)}return c}function ti(t,e,n){var i=e._path,r=null,s=!1;t.syncPointTree_.foreachOnPath(i,function(t,e){var n=xt(t,i);r=r||zn(e,n),s=s||Gn(e)});var a,c=t.syncPointTree_.get(i);c?(s=s||Gn(c),r=r||zn(c,pt())):(c=new qn,t.syncPointTree_=t.syncPointTree_.set(i,c)),null!=r?a=!0:(a=!1,r=re.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild(function(t,e){var n=zn(e,pt());n&&(r=r.updateImmediateChild(t,n))}));var l=Hn(c,e);if(!l&&!e._queryParams.loadsAllData()){var h=ai(e);(0,o.hu)(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");var u=Jn++;t.queryToTagMap.set(h,u),t.tagToQueryMap.set(u,h)}var d=function(t,e,n,i,r,o){var s=Bn(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Kt,function(t,e){i.push(_e(t,e))}),n.isFullyInitialized()&&i.push(fe(n.getNode())),Zn(t,i,n.getNode(),e)}(s,n)}(c,e,n,hn(t.pendingWriteTree_,i),r,a);if(!l&&!s){var p=Vn(c,e);d=d.concat(function(t,e,n){var i=e._path,r=si(t,e),s=oi(t,n),a=t.listenProvider_.startListening(ui(e),r,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(i);if(r)(0,o.hu)(!Gn(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(t,e,n){if(!bt(t)&&e&&Gn(e))return[Yn(e).query];var i=[];return e&&(i=i.concat(jn(e).map(function(t){return t.query}))),L(n,function(t,e){i=i.concat(e)}),i}),h=0;h<l.length;++h){var u=l[h];t.listenProvider_.stopListening(ui(u),si(t,u))}return a}(t,e,p))}return d}function ei(t,e,n){var i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,function(t,n){var i=zn(n,xt(t,e));if(i)return i});return gn(i,e,r,n,!0)}function ni(t,e){return ii(e,t.syncPointTree_,null,hn(t.pendingWriteTree_,pt()))}function ii(t,e,n,i){if(bt(t.path))return ri(t,e,n,i);var r=e.get(pt());null==n&&null!=r&&(n=zn(r,pt()));var o=[],s=gt(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){var l=n?n.getImmediateChild(s):null,h=Cn(i,s);o=o.concat(ii(a,c,l,h))}return r&&(o=o.concat(Un(r,t,i,n))),o}function ri(t,e,n,i){var r=e.get(pt());null==n&&null!=r&&(n=zn(r,pt()));var o=[];return e.children.inorderTraversal(function(e,r){var s=n?n.getImmediateChild(e):null,a=Cn(i,e),c=t.operationForChild(e);c&&(o=o.concat(ri(c,r,s,a)))}),r&&(o=o.concat(Un(r,t,i,n))),o}function oi(t,e){var n=e.query,i=si(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||re.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return i?function(t,e,n){var i=ci(t,n);if(i){var r=li(i),o=r.path,s=r.queryId,a=xt(o,e);return hi(t,o,new Ue(Ze(s),a))}return[]}(t,n._path,i):function(t,e){return ni(t,new Ue({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}(e,n);return Xn(t,n,null,r)}}}function si(t,e){var n=ai(e);return t.queryToTagMap.get(n)}function ai(t){return t._path.toString()+"$"+t._queryIdentifier}function ci(t,e){return t.tagToQueryMap.get(e)}function li(t){var e=t.indexOf("$");return(0,o.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new dt(t.substr(0,e))}}function hi(t,e,n){var i=t.syncPointTree_.get(e);return(0,o.hu)(i,"Missing sync point for query tag that we're tracking"),Un(i,n,hn(t.pendingWriteTree_,e),null)}function ui(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,o.hu)(Rn,"Reference.ts has not been loaded"),Rn)(t._repo,t._path):t}var di=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),pi=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=Ct(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return ei(this.syncTree_,this.path_)},t}(),gi=function(t,e,n){return t&&"object"==typeof t?((0,o.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?fi(t[".sv"],e,n):"object"==typeof t[".sv"]?_i(t[".sv"],e):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},fi=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,o.hu)(!1,"Unexpected server value: "+t)}},_i=function(t,e,n){t.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var i=t.increment;"number"!=typeof i&&(0,o.hu)(!1,"Unexpected increment value: "+i);var r=e.node();if((0,o.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;var s=r.getValue();return"number"!=typeof s?i:s+i},mi=function(t,e,n,i){return vi(e,new pi(n,t),i)},yi=function(t,e,n){return vi(t,new di(e),n)};function vi(t,e,n){var i,r=t.getPriority().val(),o=gi(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=gi(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Wt(a,se(o)):t}var c=t;return i=c,o!==c.getPriority().val()&&(i=i.updatePriority(new Wt(o))),c.forEachChild(Kt,function(t,r){var o=vi(r,e.getImmediateChild(t),n);o!==r&&(i=i.updateImmediateChild(t,o))}),i}var Ci=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function bi(t,e){for(var n=e instanceof dt?e:new dt(e),i=t,r=gt(n);null!==r;){var s=(0,o.DV)(i.node.children,r)||{children:{},childCount:0};i=new Ci(r,i,s),r=gt(n=_t(n))}return i}function xi(t){return t.node.value}function Pi(t,e){t.node.value=e,Ti(t)}function Oi(t){return t.node.childCount>0}function Mi(t,e){L(t.node.children,function(n,i){e(new Ci(n,t,i))})}function wi(t,e,n,i){n&&!i&&e(t),Mi(t,function(t){wi(t,e,!0,i)}),n&&i&&e(t)}function ki(t){return new dt(null===t.parent?t.name:ki(t.parent)+"/"+t.name)}function Ti(t){null!==t.parent&&function(t,e,n){var i=function(t){return void 0===xi(t)&&!Oi(t)}(n),r=(0,o.r3)(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Ti(t)):i||r||(t.node.children[e]=n.node,t.node.childCount++,Ti(t))}(t.parent,t.name,t)}var Si=/[\[\].#$\/\u0000-\u001F\u007F]/,Ei=/[\[\].#$\u0000-\u001F\u007F]/,Ai=10485760,Ii=function(t){return"string"==typeof t&&0!==t.length&&!Si.test(t)},Di=function(t){return"string"==typeof t&&0!==t.length&&!Ei.test(t)},Fi=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!T(t)||t&&"object"==typeof t&&(0,o.r3)(t,".sv")},Ni=function(t,e,n,i){i&&void 0===e||Li((0,o.gK)(t,"value"),e,n)},Li=function(t,e,n){var i=n instanceof dt?new wt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Tt(i));if("function"==typeof e)throw new Error(t+"contains a function "+Tt(i)+" with contents = "+e.toString());if(T(e))throw new Error(t+"contains "+e.toString()+" "+Tt(i));if("string"==typeof e&&e.length>Ai/3&&(0,o.ug)(e)>Ai)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Tt(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var r=!1,s=!1;if(L(e,function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!Ii(e)))throw new Error(t+" contains an invalid key ("+e+") "+Tt(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,o.ug)(e),kt(t)}(i,e),Li(t,n,i),c=(a=i).parts_.pop(),a.byteLength_-=(0,o.ug)(c),a.parts_.length>0&&(a.byteLength_-=1)}),r&&s)throw new Error(t+' contains ".value" child '+Tt(i)+" in addition to actual children.")}},Zi=function(t,e,n,i){if(!i||void 0!==e){var r=(0,o.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");var s=[];L(e,function(t,e){var i=new dt(t);if(Li(r,e,Ct(n,i)),".priority"===mt(i)&&!Fi(e))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(i)}),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=yt(i=e[n]),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!Ii(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Pt);var s=null;for(n=0;n<e.length;n++){if(i=e[n],null!==s&&Mt(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(r,s)}},Ri=function(t,e,n){if(!n||void 0!==e){if(T(e))throw new Error((0,o.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Fi(e))throw new Error((0,o.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},qi=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ui=function(t,e,n,i){if(!(i&&void 0===n||Ii(n)))throw new Error((0,o.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Bi=function(t,e,n,i){if(!(i&&void 0===n||Di(n)))throw new Error((0,o.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ji=function(t,e){if(".info"===gt(e))throw new Error(t+" failed = Can't modify data under /.info/")},zi=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ii(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Di(t)}(n))throw new Error((0,o.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Vi=function(t,e,n,i){if((!i||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.gK)(t,e)+"must be a boolean.")},Hi=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Gi(t,e){for(var n=null,i=0;i<e.length;i++){var r=e[i],o=r.getPath();null===n||Ot(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function Yi(t,e,n){Gi(t,n),Qi(t,function(t){return Ot(t,e)})}function Ji(t,e,n){Gi(t,n),Qi(t,function(t){return Mt(t,e)||Mt(e,t)})}function Qi(t,e){t.recursionDepth_++;for(var n=!0,i=0;i<t.eventLists_.length;i++){var r=t.eventLists_[i];r&&(e(r.path)?($i(t.eventLists_[i]),t.eventLists_[i]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function $i(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var i=n.getEventRunner();C&&P("event: "+n.toString()),U(i)}}}var Wi="repo_interrupt",Ki=function(){function t(t,e,n,i){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ee(),this.transactionQueueTree_=new Ci,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Xi(t){var e=t.infoData_.getNode(new dt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function tr(t){return(e=(e={timestamp:Xi(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function er(t,e,n,i,r){t.dataUpdateCount++;var s=new dt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(r)if(i){var c=(0,o.UI)(n,function(t){return se(t)});a=function(t,e,n,i){var r=ci(t,i);if(r){var o=li(r),s=o.path,a=o.queryId,c=xt(s,e),l=We.fromObject(n);return hi(t,s,new je(Ze(a),c,l))}return[]}(t.serverSyncTree_,s,c,r)}else{var l=se(n);a=function(t,e,n,i){var r=ci(t,i);if(null!=r){var o=li(r),s=o.path,a=o.queryId,c=xt(s,e);return hi(t,s,new Be(Ze(a),c,n))}return[]}(t.serverSyncTree_,s,l,r)}else if(i){var h=(0,o.UI)(n,function(t){return se(t)});a=function(t,e,n){var i=We.fromObject(n);return ni(t,new je({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,s,h)}else{var u=se(n);a=Kn(t.serverSyncTree_,s,u)}var d=s;a.length>0&&(d=gr(t,s)),Ji(t.eventQueue_,d,a)}function nr(t,e){ir(t,"connected",e),!1===e&&function(t){hr(t,"onDisconnectEvents");var e=tr(t),n=Ee();De(t.onDisconnect_,pt(),function(i,r){var o=mi(i,r,t.serverSyncTree_,e);Ae(n,i,o)});var i=[];De(n,pt(),function(e,n){i=i.concat(Kn(t.serverSyncTree_,e,n));var r=vr(t,e);gr(t,r)}),t.onDisconnect_=Ee(),Ji(t.eventQueue_,pt(),i)}(t)}function ir(t,e,n){var i=new dt("/.info/"+e),r=se(n);t.infoData_.updateSnapshot(i,r);var o=Kn(t.infoSyncTree_,i,r);Ji(t.eventQueue_,i,o)}function rr(t){return t.nextWriteId_++}function or(t,e,n,i,r){hr(t,"set",{path:e.toString(),value:n,priority:i});var o=tr(t),s=se(n,i),a=ei(t.serverSyncTree_,e),c=yi(s,a,o),l=rr(t),h=$n(t.serverSyncTree_,e,c,l,!0);Gi(t.eventQueue_,h),t.server_.put(e.toString(),s.val(!0),function(n,i){var o="ok"===n;o||k("set at "+e+" failed: "+n);var s=Wn(t.serverSyncTree_,l,!o);Ji(t.eventQueue_,e,s),ur(0,r,n,i)});var u=vr(t,e);gr(t,u),Ji(t.eventQueue_,u,[])}function sr(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(i,r){"ok"===i&&Ie(t.onDisconnect_,e),ur(0,n,i,r)})}function ar(t,e,n,i){var r=se(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),function(n,o){"ok"===n&&Ae(t.onDisconnect_,e,r),ur(0,i,n,o)})}function cr(t,e,n){var i;i=".info"===gt(e._path)?Xn(t.infoSyncTree_,e,n):Xn(t.serverSyncTree_,e,n),Yi(t.eventQueue_,e._path,i)}function lr(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Wi)}function hr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),P.apply(void 0,(0,s.ev)([i],(0,s.CR)(e)))}function ur(t,e,n,i){e&&U(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),r=t;i&&(r+=": "+i);var o=new Error(r);o.code=t,e(o)}})}function dr(t,e,n){return ei(t.serverSyncTree_,e,n)||re.EMPTY_NODE}function pr(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||yr(t,e),xi(e)){var n=_r(t,e);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var i=n.map(function(t){return t.currentWriteId}),r=dr(t,e,i),s=r,a=r.hash(),c=0;c<n.length;c++){var l=n[c];(0,o.hu)(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var h=xt(e,l.path);s=s.updateChild(h,l.currentOutputSnapshotRaw)}var u=s.val(!0),d=e;t.server_.put(d.toString(),u,function(i){hr(t,"transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var o=[],s=function(e){n[e].status=2,r=r.concat(Wn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(yr(t,bi(t.transactionQueueTree_,e)),pr(t,t.transactionQueueTree_),Ji(t.eventQueue_,e,r),a=0;a<o.length;a++)U(o[a])}else{if("datastale"===i)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(k("transaction at "+d.toString()+" failed: "+i),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=i;gr(t,e)}},a)}(t,ki(e),n)}else Oi(e)&&Mi(e,function(e){pr(t,e)})}function gr(t,e){var n=fr(t,e),i=ki(n);return function(t,e,n){if(0!==e.length){for(var i=[],r=[],s=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=function(a){var c,l=e[a],h=xt(n,l.path),u=!1;if((0,o.hu)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,c=l.abortReason,r=r.concat(Wn(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,c="maxretry",r=r.concat(Wn(t.serverSyncTree_,l.currentWriteId,!0));else{var d=dr(t,l.path,s);l.currentInputSnapshot=d;var p=e[a].update(d.val());if(void 0!==p){Li("transaction failed: Data returned ",p,l.path);var g=se(p);"object"==typeof p&&null!=p&&(0,o.r3)(p,".priority")||(g=g.updatePriority(d.getPriority()));var f=l.currentWriteId,_=tr(t),m=yi(g,d,_);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=m,l.currentWriteId=rr(t),s.splice(s.indexOf(f),1),r=(r=r.concat($n(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally))).concat(Wn(t.serverSyncTree_,f,!0))}else u=!0,c="nodata",r=r.concat(Wn(t.serverSyncTree_,l.currentWriteId,!0))}Ji(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===c?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(c),!1,null)}))},c=0;c<e.length;c++)a(c);for(yr(t,t.transactionQueueTree_),c=0;c<i.length;c++)U(i[c]);pr(t,t.transactionQueueTree_)}}(t,_r(t,n),i),i}function fr(t,e){var n,i=t.transactionQueueTree_;for(n=gt(e);null!==n&&void 0===xi(i);)i=bi(i,n),n=gt(e=_t(e));return i}function _r(t,e){var n=[];return mr(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function mr(t,e,n){var i=xi(e);if(i)for(var r=0;r<i.length;r++)n.push(i[r]);Mi(e,function(e){mr(t,e,n)})}function yr(t,e){var n=xi(e);if(n){for(var i=0,r=0;r<n.length;r++)2!==n[r].status&&(n[i]=n[r],i++);n.length=i,Pi(e,n.length>0?n:void 0)}Mi(e,function(e){yr(t,e)})}function vr(t,e){var n=ki(fr(t,e)),i=bi(t.transactionQueueTree_,e);return function(t,e,n){for(var i=t.parent;null!==i;){if(e(i))return!0;i=i.parent}}(i,function(e){Cr(t,e)}),Cr(t,i),wi(i,function(e){Cr(t,e)}),n}function Cr(t,e){var n=xi(e);if(n){for(var i=[],r=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?((0,o.hu)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):((0,o.hu)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),r=r.concat(Wn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?Pi(e,void 0):n.length=s+1,Ji(t.eventQueue_,ki(e),r),a=0;a<i.length;a++)U(i[a])}}var br=function(t,e){var n=xr(t),i=n.namespace;return"firebase.com"===n.domain&&w(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||w("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new J(n.host,n.secure,i,e,"ws"===n.scheme||"wss"===n.scheme,"",i!==n.subdomain),path:new dt(n.pathString)}},xr=function(t){var e="",n="",i="",r="",o="",a=!0,c="https",l=443;if("string"==typeof t){var h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));var u=t.indexOf("/");-1===u&&(u=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}e+="/"+r}return e}(t.substring(u,d)));var p=function(t){var e,n,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var r=(0,s.XA)(t.split("&")),o=r.next();!o.done;o=r.next()){var a=o.value;if(0!==a.length){var c=a.split("=");2===c.length?i[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):k("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}(t.substring(Math.min(t.length,d)));(h=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,l=parseInt(e.substring(h+1),10)):h=e.length;var g=e.slice(0,h);if("localhost"===g.toLowerCase())n="localhost";else if(g.split(".").length<=2)n=g;else{var f=e.indexOf(".");i=e.substring(0,f).toLowerCase(),n=e.substring(f+1),o=i}"ns"in p&&(o=p.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:a,scheme:c,pathString:r,namespace:o}},Pr=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},t}(),Or=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Mr=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),wr=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.BH;return sr(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){ji("OnDisconnect.remove",this._path);var t=new o.BH;return ar(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){ji("OnDisconnect.set",this._path),Ni("OnDisconnect.set",t,this._path,!1);var e=new o.BH;return ar(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){ji("OnDisconnect.setWithPriority",this._path),Ni("OnDisconnect.setWithPriority",t,this._path,!1),Ri("OnDisconnect.setWithPriority",e,!1);var n=new o.BH;return function(t,e,n,i,r){var o=se(n,i);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,i){"ok"===n&&Ae(t.onDisconnect_,e,o),ur(0,r,n,i)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){ji("OnDisconnect.update",this._path),Zi("OnDisconnect.update",t,this._path,!1);var e=new o.BH;return function(t,e,n,i){if((0,o.xb)(n))return P("onDisconnect().update() called with empty data.  Don't do anything."),void ur(0,i,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(r,o){"ok"===r&&L(n,function(n,i){var r=se(i);Ae(t.onDisconnect_,Ct(e,n),r)}),ur(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),kr=function(){function t(t,e,n,i){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return bt(this._path)?null:mt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ar(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=ke(this._queryParams),e=F(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return ke(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=(0,o.m9)(e))instanceof t))return!1;var n=this._repo===e._repo,i=Ot(this._path,e._path);return n&&i&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function Tr(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Sr(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Zt){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==S)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==E)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===Kt){if(null!=e&&!Fi(e)||null!=n&&!Fi(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(t.getIndex()instanceof le||t.getIndex()===he,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Er(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ar=function(t){function e(e,n){return t.call(this,e,n,new xe,!1)||this}return(0,s.ZT)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=vt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(kr),Ir=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new dt(e),i=Nr(this.ref,e);return new t(this._node.getChild(n),i,Kt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(i,r){return e(new t(r,Nr(n.ref,i),Kt))})},t.prototype.hasChild=function(t){var e=new dt(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Dr(t,e){return(t=(0,o.m9)(t))._checkNotDeleted("ref"),void 0!==e?Nr(t._root,e):t._root}function Fr(t,e){(t=(0,o.m9)(t))._checkNotDeleted("refFromURL");var n=br(e,t._repo.repoInfo_.nodeAdmin);zi("refFromURL",n);var i=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||i.host===t._repo.repoInfo_.host||w("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),Dr(t,n.path.toString())}function Nr(t,e){var n;return null===gt((t=(0,o.m9)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Bi("child","path",n,!1)):Bi("child","path",e,!1),new Ar(t._repo,Ct(t._path,e))}function Lr(t,e){t=(0,o.m9)(t),ji("push",t._path),Ni("push",e,t._path,!0);var n,i=Xi(t._repo),r=de(i),s=Nr(t,r),a=Nr(t,r);return n=null!=e?Rr(a,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function Zr(t){return ji("remove",t._path),Rr(t,null)}function Rr(t,e){t=(0,o.m9)(t),ji("set",t._path),Ni("set",e,t._path,!1);var n=new o.BH;return or(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function qr(t,e){t=(0,o.m9)(t),ji("setPriority",t._path),Ri("setPriority",e,!1);var n=new o.BH;return or(t._repo,Ct(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Ur(t,e,n){if(ji("setWithPriority",t._path),Ni("setWithPriority",e,t._path,!1),Ri("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var i=new o.BH;return or(t._repo,t._path,e,n,i.wrapCallback(function(){})),i.promise}function Br(t,e){Zi("update",e,t._path,!1);var n=new o.BH;return function(t,e,n,i){hr(t,"update",{path:e.toString(),value:n});var r=!0,s=tr(t),a={};if(L(n,function(n,i){r=!1,a[n]=mi(Ct(e,n),se(i),t.serverSyncTree_,s)}),r)P("update() called with empty data.  Don't do anything."),ur(0,i,"ok",void 0);else{var c=rr(t),l=function(t,e,n,i){!function(t,e,n,i){(0,o.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=tn(t.visibleWrites,e,n),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i);var r=We.fromObject(n);return ni(t,new je({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,e,a,c);Gi(t.eventQueue_,l),t.server_.merge(e.toString(),n,function(n,r){var o="ok"===n;o||k("update at "+e+" failed: "+n);var s=Wn(t.serverSyncTree_,c,!o),a=s.length>0?gr(t,e):e;Ji(t.eventQueue_,a,s),ur(0,i,n,r)}),L(n,function(n){var i=vr(t,Ct(e,n));gr(t,i)}),Ji(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var jr=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Pr("value",this,new Ir(t.snapshotNode,new Ar(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Or(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),zr=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Or(this,t,e):null},t.prototype.createEvent=function(t,e){(0,o.hu)(null!=t.childName,"Child events should have a childName.");var n=Nr(new Ar(e._repo,e._path),t.childName),i=e._queryParams.getIndex();return new Pr(t.type,this,new Ir(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Vr(t,e,n,i,r){var o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){var s=n,a=function(e,n){cr(t._repo,t,l),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var c=new Mr(n,o||void 0),l="value"===e?new jr(c):new zr(e,c);return function(t,e,n){var i;i=".info"===gt(e._path)?ti(t.infoSyncTree_,e,n):ti(t.serverSyncTree_,e,n),Yi(t.eventQueue_,e._path,i)}(t._repo,t,l),function(){return cr(t._repo,t,l)}}function Hr(t,e,n,i){return Vr(t,"value",e,n,i)}function Gr(t,e,n,i){return Vr(t,"child_added",e,n,i)}function Yr(t,e,n,i){return Vr(t,"child_changed",e,n,i)}function Jr(t,e,n,i){return Vr(t,"child_moved",e,n,i)}function Qr(t,e,n,i){return Vr(t,"child_removed",e,n,i)}function $r(t,e,n){var i=null,r=n?new Mr(n):null;"value"===e?i=new jr(r):e&&(i=new zr(e,r)),cr(t._repo,t,i)}var Wr=function(){return function(){}}(),Kr=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Ni("endAt",this._value,t._path,!0);var e=Oe(t._queryParams,this._value,this._key);if(Er(e),Sr(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kr(t._repo,t._path,e,t._orderByCalled)},e}(Wr);function Xr(t,e){return Ui("endAt","key",e,!0),new Kr(t,e)}var to=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Ni("endBefore",this._value,t._path,!1);var e,n,i,r,o=(n=this._value,i=this._key,(e=t._queryParams).index_===Zt?("string"==typeof n&&(n=ge(n)),r=Oe(e,n,i)):r=Oe(e,n,null==i?S:ge(i)),r.endBeforeSet_=!0,r);if(Er(o),Sr(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kr(t._repo,t._path,o,t._orderByCalled)},e}(Wr);function eo(t,e){return Ui("endBefore","key",e,!0),new to(t,e)}var no=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Ni("startAt",this._value,t._path,!0);var e=Pe(t._queryParams,this._value,this._key);if(Er(e),Sr(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new kr(t._repo,t._path,e,t._orderByCalled)},e}(Wr);function io(t,e){return void 0===t&&(t=null),Ui("startAt","key",e,!0),new no(t,e)}var ro=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Ni("startAfter",this._value,t._path,!1);var e,n,i,r,o=(n=this._value,i=this._key,(e=t._queryParams).index_===Zt?("string"==typeof n&&(n=pe(n)),r=Pe(e,n,i)):r=Pe(e,n,null==i?E:pe(i)),r.startAfterSet_=!0,r);if(Er(o),Sr(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new kr(t._repo,t._path,o,t._orderByCalled)},e}(Wr);function oo(t,e){return Ui("startAfter","key",e,!0),new ro(t,e)}var so=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,s.ZT)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new kr(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Wr);function ao(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new so(t)}var co=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,s.ZT)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new kr(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Wr);function lo(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new co(t)}var ho=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Tr(t,"orderByChild");var e=new dt(this._path);if(bt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new le(e),i=Me(t._queryParams,n);return Sr(i),new kr(t._repo,t._path,i,!0)},e}(Wr);function uo(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Bi("orderByChild","path",t,!1),new ho(t)}var po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Tr(t,"orderByKey");var e=Me(t._queryParams,Zt);return Sr(e),new kr(t._repo,t._path,e,!0)},e}(Wr);function go(){return new po}var fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Tr(t,"orderByPriority");var e=Me(t._queryParams,Kt);return Sr(e),new kr(t._repo,t._path,e,!0)},e}(Wr);function _o(){return new fo}var mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Tr(t,"orderByValue");var e=Me(t._queryParams,he);return Sr(e),new kr(t._repo,t._path,e,!0)},e}(Wr);function yo(){return new mo}var vo=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return(0,s.ZT)(e,t),e.prototype._apply=function(t){if(Ni("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Kr(this._value,this._key)._apply(new no(this._value,this._key)._apply(t))},e}(Wr);function Co(t,e){return Ui("equalTo","key",e,!0),new vo(t,e)}function bo(t){for(var e,n,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var a=(0,o.m9)(t);try{for(var c=(0,s.XA)(i),l=c.next();!l.done;l=c.next()){var h=l.value;a=h._apply(a)}}catch(u){e={error:u}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a}!function(t){(0,o.hu)(!An,"__referenceConstructor has already been defined"),An=t}(Ar),function(t){(0,o.hu)(!Rn,"__referenceConstructor has already been defined"),Rn=t}(Ar);var xo={},Po=!1;function Oo(t,e,n,i,r){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||w("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),P("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=br(o,r),c=a.repoInfo,l=void 0;"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(s=!0,c=(a=br(o="http://"+l+"?ns="+c.namespace,r)).repoInfo):s=!a.repoInfo.secure;var h=r&&s?new V(V.OWNER):new z(t.name,t.options,e);zi("Invalid Firebase Database URL",a),bt(a.path)||w("Database URL must point to the root of a Firebase Database (not including a child path).");var u=function(t,e,n,i){var r=xo[e.name];r||(xo[e.name]=r={});var o=r[t.toURLString()];return o&&w("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Ki(t,Po,n,i),r[t.toURLString()]=o,o}(c,t,h,new j(t.name,n));return new Mo(u,t)}var Mo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=X(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Te(t.repoInfo_,function(e,n,i,r){er(t,e,n,i,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return nr(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Dt(t.repoInfo_,e,function(e,n,i,r){er(t,e,n,i,r)},function(e){nr(t,e)},function(e){!function(t,e){L(e,function(e,n){ir(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var i,r;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(i=function(){return new Ne(t.stats_,t.server_)},r=t.repoInfo_.toString(),K[r]||(K[r]=i()),K[r]),t.infoData_=new Se,t.infoSyncTree_=new Qn({startListening:function(e,n,i,r){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Kn(t.infoSyncTree_,e._path,s),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),ir(t,"connected",!1),t.serverSyncTree_=new Qn({startListening:function(e,n,i,r){return t.server_.listen(e,i,n,function(n,i){var o=r(n,i);Ji(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ar(this._repo,pt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,(n=xo[e=this.app.name])&&n[t.key]===t||w("Database "+e+"("+t.repoInfo_+") has already been deleted."),lr(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&w("Cannot call "+t+" on a deleted database.")},t}();function wo(t){(t=(0,o.m9)(t))._checkNotDeleted("goOffline"),lr(t._repo)}function ko(t){var e;(t=(0,o.m9)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(Wi)}var To={".sv":"timestamp"},So=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Eo(t,e,n){var i;if(t=(0,o.m9)(t),ji("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var r=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i,s=new o.BH,a=Hr(t,function(){});return function(e,n,i,r,a,c){hr(e,"transaction on "+n);var l={path:n,update:i,onComplete:function(e,n,i){var r=null;e?s.reject(e):(r=new Ir(i,new Ar(t._repo,t._path),Kt),s.resolve(new So(n,r)))},status:null,order:m(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=dr(e,n,void 0);l.currentInputSnapshot=h;var u=l.update(h.val());if(void 0===u)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Li("transaction failed: Data returned ",u,l.path),l.status=0;var d=bi(e.transactionQueueTree_,n),p=xi(d)||[];p.push(l),Pi(d,p);var g=void 0;"object"==typeof u&&null!==u&&(0,o.r3)(u,".priority")?(g=(0,o.DV)(u,".priority"),(0,o.hu)(Fi(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(ei(e.serverSyncTree_,n)||re.EMPTY_NODE).getPriority().val();var f=tr(e),_=se(u,g),y=yi(_,h,f);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=y,l.currentWriteId=rr(e);var v=$n(e.serverSyncTree_,n,y,l.currentWriteId,l.applyLocally);Ji(e.eventQueue_,n,v),pr(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,r),s.promise}var Ao=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var i=this._delegate.setWithPriority(t,e);return n&&i.then(function(){return n(null)},function(t){return n(t)}),i},t.prototype.update=function(t,e){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",e,!0);var r=this._delegate.update(t);return e&&r.then(function(){return e(null)},function(t){return e(t)}),r},t}(),Io=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Do=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Bi("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Bi("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(i){return e(new t(n._database,i))})},t.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new No(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Fo=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,i,r){var s,a=this;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",n,!1);var c=t.getCancelAndContextArgs_("Query.on",i,r),l=function(t,e){n.call(c.context,new Do(a.database,t),e)};l.userCallback=n,l.context=c.context;var h=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return Hr(this._delegate,l,h),n;case"child_added":return Gr(this._delegate,l,h),n;case"child_removed":return Qr(this._delegate,l,h),n;case"child_changed":return Yr(this._delegate,l,h),n;case"child_moved":return Jr(this._delegate,l,h),n;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if((0,o.Dv)("Query.off",0,3,arguments.length),qi("Query.off",t,!0),(0,o.Wj)("Query.off","callback",e,!0),(0,o.lb)("Query.off","context",n,!0),e){var i=function(){};i.userCallback=e,i.context=n,$r(this._delegate,t,i)}else $r(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,i=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var r=xt(t,n);i=i||zn(e,r)});var r=t.syncPointTree_.get(n);r?i=i||zn(r,pt()):(r=new qn,t.syncPointTree_=t.syncPointTree_.set(n,r));var o=null!=i,s=o?new ze(i,!0,!1):null;return Qe(Bn(r,e,hn(t.pendingWriteTree_,e._path),o?s.getNode():re.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var i=se(n),r=Kn(t.serverSyncTree_,e._path,i);return Yi(t.eventQueue_,e._path,r),Promise.resolve(i)},function(n){return hr(t,"get for query "+(0,o.Pz)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=(0,o.m9)(t))._repo,t).then(function(e){return new Ir(e,new Ar(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new Do(t.database,e)})},t.prototype.once=function(e,n,i,r){var s=this;(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",i,r),c=new o.BH,l=function(t,e){var i=new Do(s.database,t);n&&n.call(a.context,i,e),c.resolve(i)};l.userCallback=n,l.context=a.context;var h=function(t){a.cancel&&a.cancel.call(a.context,t),c.reject(t)};switch(e){case"value":Hr(this._delegate,l,h,{onlyOnce:!0});break;case"child_added":Gr(this._delegate,l,h,{onlyOnce:!0});break;case"child_removed":Qr(this._delegate,l,h,{onlyOnce:!0});break;case"child_changed":Yr(this._delegate,l,h,{onlyOnce:!0});break;case"child_moved":Jr(this._delegate,l,h,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},t.prototype.limitToFirst=function(e){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new t(this.database,bo(this._delegate,ao(e)))},t.prototype.limitToLast=function(e){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new t(this.database,bo(this._delegate,lo(e)))},t.prototype.orderByChild=function(e){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new t(this.database,bo(this._delegate,uo(e)))},t.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new t(this.database,bo(this._delegate,go()))},t.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new t(this.database,bo(this._delegate,_o()))},t.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new t(this.database,bo(this._delegate,yo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new t(this.database,bo(this._delegate,io(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new t(this.database,bo(this._delegate,oo(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new t(this.database,bo(this._delegate,Xr(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new t(this.database,bo(this._delegate,eo(e,n)))},t.prototype.equalTo=function(e,n){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new t(this.database,bo(this._delegate,Co(e,n)))},t.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:void 0,context:void 0};if(e&&n)i.cancel=e,(0,o.Wj)(t,"cancel",i.cancel,!0),i.context=n,(0,o.lb)(t,"context",i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error((0,o.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new No(this.database,new Ar(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),No=function(t){function e(e,n){var i=t.call(this,e,new kr(n._repo,n._path,new xe,!1))||this;return i.database=e,i._delegate=n,i}return(0,s.ZT)(e,t),e.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Nr(this._delegate,t))},e.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",e,!0);var n=Rr(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ji("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",e,!0);var r=Br(this._delegate,t);return e&&r.then(function(){return e(null)},function(t){return e(t)}),r},e.prototype.setWithPriority=function(t,e,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);var i=Ur(this._delegate,t,e);return n&&i.then(function(){return n(null)},function(t){return n(t)}),i},e.prototype.remove=function(t){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",t,!0);var e=Zr(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var i=this;(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,o.Wj)("Reference.transaction","onComplete",e,!0),Vi("Reference.transaction","applyLocally",n,!0);var r=Eo(this._delegate,t,{applyLocally:n}).then(function(t){return new Io(t.committed,new Do(i.database,t.snapshot))});return e&&r.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),r},e.prototype.setPriority=function(t,e){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",e,!0);var n=qr(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var i=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",n,!0);var r=Lr(this._delegate,t),s=r.then(function(t){return new e(i.database,t)});n&&s.then(function(){return n(null)},function(t){return n(t)});var a=new e(this.database,r);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return ji("Reference.onDisconnect",this._delegate._path),new Ao(new wr(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Fo),Lo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,i){void 0===i&&(i={}),(t=(0,o.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&w("Cannot call useEmulator() after instance has already been initialized.");var r=t._repoInternal,s=void 0;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&w('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new V(V.OWNER);else if(i.mockUserToken){var a=(0,o.Sg)(i.mockUserToken,t.app.options.projectId);s=new V(a)}!function(t,e,n,i){t.repoInfo_=new J(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),i&&(t.authTokenProvider_=i)}(r,e,n,s)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if((0,o.Dv)("database.ref",0,1,arguments.length),t instanceof No){var e=Fr(this._delegate,t.toString());return new No(this,e)}return e=Dr(this._delegate,t),new No(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";(0,o.Dv)(e,1,1,arguments.length);var n=Fr(this._delegate,t);return new No(this,n)},t.prototype.goOffline=function(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),wo(this._delegate)},t.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),ko(this._delegate)},t.ServerValue={TIMESTAMP:To,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Zo=Object.freeze({__proto__:null,forceLongPolling:function(){st.forceDisallow(),it.forceAllow()},forceWebSockets:function(){it.forceDisallow()},isWebSocketsAvailable:function(){return st.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Fe(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var i=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);L(n,function(t,e){for(var n=t,r=t.length;r<i+2;r++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,i=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;l(t.version);var c=new r.zt("auth-internal",new r.H0("database-standalone"));return c.setComponent(new r.wA("auth-internal",function(){return i},"PRIVATE")),{instance:new Lo(Oo(e,c,void 0,n,a),e),namespace:o}}}),Ro=Dt;Dt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Dt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var qo=Object.freeze({__proto__:null,DataConnection:Ro,RealTimeConnection:ct,hijackHash:function(t){var e=Dt.prototype.put;return Dt.prototype.put=function(n,i,r,o){void 0!==o&&(o=t()),e.call(this,n,i,r,o)},function(){Dt.prototype.put=e}},ConnectionTarget:J,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){Po=t}(t)}}),Uo=Lo.ServerValue;!function(e){l(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new r.wA("database",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Lo(Oo(i,r,o,n),i)},"PUBLIC").setServiceProps({Reference:No,Query:Fo,Database:Lo,DataSnapshot:Do,enableLogging:x,INTERNAL:Zo,ServerValue:Uo,TEST_ACCESS:qo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.1"),(0,o.Yr)()&&(t.exports=n)}(i.Z)},308:(t,e,n)=>{"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var r;n.d(e,{in:()=>s,Yd:()=>u,Ub:()=>d,Am:()=>p});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,l=((r={})[s.DEBUG]="log",r[s.VERBOSE]="log",r[s.INFO]="info",r[s.WARN]="warn",r[s.ERROR]="error",r),h=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=l[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,i(["["+o+"]  "+t.name+":"],n))}},u=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=h,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.DEBUG],t)),this._logHandler.apply(this,i([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.VERBOSE],t)),this._logHandler.apply(this,i([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.INFO],t)),this._logHandler.apply(this,i([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.WARN],t)),this._logHandler.apply(this,i([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.ERROR],t)),this._logHandler.apply(this,i([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function p(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=r.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=o;i<r.length;i++)n(r[i])}},250:(t,e,n)=>{"use strict";n.d(e,{BH:()=>d,LL:()=>C,ZR:()=>v,gQ:()=>D,hu:()=>r,g5:()=>o,US:()=>a,h$:()=>c,r3:()=>T,Sg:()=>p,ne:()=>F,p$:()=>h,ZB:()=>u,gK:()=>R,m9:()=>z,GJ:()=>k,jU:()=>_,xb:()=>E,uI:()=>g,UG:()=>f,Yr:()=>y,b$:()=>m,w9:()=>w,cI:()=>P,UI:()=>A,xO:()=>I,DV:()=>S,ug:()=>j,dS:()=>B,Pz:()=>O,Dv:()=>Z,Wj:()=>q,lb:()=>U});var i=n(4762),r=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],s=r+1<t.length,a=s?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,h=(15&a)<<2|l>>6,u=63&l;c||(u=64,s||(h=64)),i.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[u])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var s=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,c=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==s||null==a||null==c)throw Error();i.push(o<<2|s>>4),64!==a&&(i.push(s<<4&240|a>>2),64!==c&&i.push(a<<6&192|c))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=s(t);return a.encodeByteArray(e,!0)},l=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,i.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),a.encodeString(JSON.stringify(s),!1),""].join(".")}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function _(){return"object"==typeof self&&self.self===self}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return!1}var v=function(t){function e(n,i,r){var o=t.call(this,i)||this;return o.code=n,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,C.prototype.create),o}return(0,i.ZT)(e,t),e}(Error),C=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],s=o?b(o,i):"Error",a=this.serviceName+": "+s+" ("+r+").",c=new v(r,a,i);return c},t}();function b(t,e){return t.replace(x,function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"})}var x=/\{\$([^}]+)}/g;function P(t){return JSON.parse(t)}function O(t){return JSON.stringify(t)}var M=function(t){var e={},n={},i={},r="";try{var o=t.split(".");e=P(l(o[0])||""),n=P(l(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:i,signature:r}},w=function(t){var e=M(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},k=function(t){var e=M(t).claims;return"object"==typeof e&&!0===e.admin};function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function E(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function I(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var o=r[i];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var D=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((u=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|u>>>31);var r,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=l^a&(c^l),o=1518500249):(r=a^c^l,o=1859775393):i<60?(r=a&c|l&(a|c),o=2400959708):(r=a^c^l,o=3395469782);var u=(s<<5|s>>>27)+r+h+o+n[i]&4294967295;h=l,l=c,c=4294967295&(a<<30|a>>>2),a=s,s=u}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}();function F(t,e){var n=new N(t,e);return n.subscribe.bind(n)}var N=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=L),void 0===i.error&&(i.error=L),void 0===i.complete&&(i.complete=L);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function L(){}var Z=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")};function R(t,e){return t+" failed: "+e+" argument "}function q(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(R(t,e)+"must be a valid function.")}function U(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(R(t,e)+"must be a valid context object.")}var B=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var s=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},j=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};function z(t){return t&&t._delegate?t._delegate:t}},1858:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i.Z});var i=n(1062);i.Z.registerVersion("firebase","8.6.2","app")},4911:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__,root,factory;"undefined"!=typeof navigator&&(root=window||{},factory=function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bmRnd,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=e.length;for(t=0;t<n;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"==typeof t&&t.length){var e,n=createSizedArray(t.length),i=t.length;for(e=0;e<i;e+=1)n[e]=Math.abs(t[e]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bmRnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,i){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=i<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,i){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=i<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}roundValues(!1);var createElementID=(_count=0,function(){return"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,n){var i,r,o,s,a,c,l,h;switch(c=n*(1-e),l=n*(1-(a=6*t-(s=Math.floor(6*t)))*e),h=n*(1-(1-a)*e),s%6){case 0:i=n,r=h,o=c;break;case 1:i=l,r=n,o=c;break;case 2:i=c,r=n,o=h;break;case 3:i=c,r=l,o=n;break;case 4:i=h,r=c,o=n;break;case 5:i=n,r=c,o=l}return[i,r,o]}function RGBtoHSV(t,e,n){var i,r=Math.max(t,e,n),o=Math.min(t,e,n),s=r-o,a=0===r?0:s/r,c=r/255;switch(r){case o:i=0;break;case t:i=e-n+s*(e<n?6:0),i/=6*s;break;case e:i=n-t+2*s,i/=6*s;break;case n:i=t-e+4*s,i/=6*s}return[i,a,c]}function addSaturationToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t,e,n=[];for(t=0;t<256;t+=1)e=t.toString(16),n[t]=1===e.length?"0"+e:e;return function(t,e,i){return t<0&&(t=0),e<0&&(e=0),i<0&&(i=0),"#"+n[t]+n[e]+n[i]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var n=this._cbs[t].length,i=0;i<n;i+=1)this._cbs[t][i](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),(function(){this.removeEventListener(t,e)}).bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var n=0,i=this._cbs[t].length;n<i;)this._cbs[t][n]===e&&(this._cbs[t].splice(n,1),n-=1,i-=1),n+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray=function(){function t(t,e){var n,i=0,r=[];switch(t){case"int16":case"uint8c":n=1;break;default:n=1.1}for(i=0;i<e;i+=1)r.push(n);return r}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,n){return"float32"===e?new Float32Array(n):"int16"===e?new Int16Array(n):"uint8c"===e?new Uint8ClampedArray(n):t(e,n)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums,Matrix=function(){var t=Math.cos,e=Math.sin,n=Math.tan,i=Math.round;function r(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(n){if(0===n)return this;var i=t(n),r=e(n);return this._t(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1)}function s(n){if(0===n)return this;var i=t(n),r=e(n);return this._t(1,0,0,0,0,i,-r,0,0,r,i,0,0,0,0,1)}function a(n){if(0===n)return this;var i=t(n),r=e(n);return this._t(i,0,r,0,0,1,0,0,-r,0,i,0,0,0,0,1)}function c(n){if(0===n)return this;var i=t(n),r=e(n);return this._t(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1)}function l(t,e){return this._t(1,e,t,1,0,0)}function h(t,e){return this.shear(n(t),n(e))}function u(i,r){var o=t(r),s=e(r);return this._t(o,s,0,0,-s,o,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(i),1,0,0,0,0,1,0,0,0,0,1)._t(o,-s,0,0,s,o,0,0,0,0,1,0,0,0,0,1)}function d(t,e,n){return n||0===n||(n=1),1===t&&1===e&&1===n?this:this._t(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1)}function p(t,e,n,i,r,o,s,a,c,l,h,u,d,p,g,f){return this.props[0]=t,this.props[1]=e,this.props[2]=n,this.props[3]=i,this.props[4]=r,this.props[5]=o,this.props[6]=s,this.props[7]=a,this.props[8]=c,this.props[9]=l,this.props[10]=h,this.props[11]=u,this.props[12]=d,this.props[13]=p,this.props[14]=g,this.props[15]=f,this}function g(t,e,n){return n=n||0,0!==t||0!==e||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1):this}function f(t,e,n,i,r,o,s,a,c,l,h,u,d,p,g,f){var _=this.props;if(1===t&&0===e&&0===n&&0===i&&0===r&&1===o&&0===s&&0===a&&0===c&&0===l&&1===h&&0===u)return _[12]=_[12]*t+_[15]*d,_[13]=_[13]*o+_[15]*p,_[14]=_[14]*h+_[15]*g,_[15]*=f,this._identityCalculated=!1,this;var m=_[0],y=_[1],v=_[2],C=_[3],b=_[4],x=_[5],P=_[6],O=_[7],M=_[8],w=_[9],k=_[10],T=_[11],S=_[12],E=_[13],A=_[14],I=_[15];return _[0]=m*t+y*r+v*c+C*d,_[1]=m*e+y*o+v*l+C*p,_[2]=m*n+y*s+v*h+C*g,_[3]=m*i+y*a+v*u+C*f,_[4]=b*t+x*r+P*c+O*d,_[5]=b*e+x*o+P*l+O*p,_[6]=b*n+x*s+P*h+O*g,_[7]=b*i+x*a+P*u+O*f,_[8]=M*t+w*r+k*c+T*d,_[9]=M*e+w*o+k*l+T*p,_[10]=M*n+w*s+k*h+T*g,_[11]=M*i+w*a+k*u+T*f,_[12]=S*t+E*r+A*c+I*d,_[13]=S*e+E*o+A*l+I*p,_[14]=S*n+E*s+A*h+I*g,_[15]=S*i+E*a+A*u+I*f,this._identityCalculated=!1,this}function _(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function m(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function y(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function v(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function C(t,e,n){return{x:t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}}function b(t,e,n){return t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12]}function x(t,e,n){return t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13]}function P(t,e,n){return t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}function O(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,n=-this.props[1]/t,i=-this.props[4]/t,r=this.props[0]/t,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,a=new Matrix;return a.props[0]=e,a.props[1]=n,a.props[4]=i,a.props[5]=r,a.props[12]=o,a.props[13]=s,a}function M(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function w(t){var e,n=t.length,i=[];for(e=0;e<n;e+=1)i[e]=M(t[e]);return i}function k(t,e,n){var i=createTypedArray("float32",6);if(this.isIdentity())i[0]=t[0],i[1]=t[1],i[2]=e[0],i[3]=e[1],i[4]=n[0],i[5]=n[1];else{var r=this.props[0],o=this.props[1],s=this.props[4],a=this.props[5],c=this.props[12],l=this.props[13];i[0]=t[0]*r+t[1]*s+c,i[1]=t[0]*o+t[1]*a+l,i[2]=e[0]*r+e[1]*s+c,i[3]=e[0]*o+e[1]*a+l,i[4]=n[0]*r+n[1]*s+c,i[5]=n[0]*o+n[1]*a+l}return i}function T(t,e,n){return this.isIdentity()?[t,e,n]:[t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]]}function S(t,e){if(this.isIdentity())return t+","+e;var n=this.props;return Math.round(100*(t*n[0]+e*n[4]+n[12]))/100+","+Math.round(100*(t*n[1]+e*n[5]+n[13]))/100}function E(){for(var t=0,e=this.props,n="matrix3d(";t<16;)n+=i(1e4*e[t])/1e4,n+=15===t?")":",",t+=1;return n}function A(t){return t<1e-6&&t>0||t>-1e-6&&t<0?i(1e4*t)/1e4:t}function I(){var t=this.props;return"matrix("+A(t[0])+","+A(t[1])+","+A(t[4])+","+A(t[5])+","+A(t[12])+","+A(t[13])+")"}return function(){this.reset=r,this.rotate=o,this.rotateX=s,this.rotateY=a,this.rotateZ=c,this.skew=h,this.skewFromAxis=u,this.shear=l,this.scale=d,this.setTransform=p,this.translate=g,this.transform=f,this.applyToPoint=C,this.applyToX=b,this.applyToY=x,this.applyToZ=P,this.applyToPointArray=T,this.applyToTriplePoints=k,this.applyToPointStringified=S,this.toCSS=E,this.to2dCSS=I,this.clone=y,this.cloneFromProps=v,this.equals=m,this.inversePoints=w,this.inversePoint=M,this.getInverseMatrix=O,this._t=this.transform,this.isIdentity=_,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(t,e){var n=this,i=256,r=e.pow(i,6),o=e.pow(2,52),s=2*o,a=255;function c(t){var e,n=t.length,r=this,o=0,s=r.i=r.j=0,c=r.S=[];for(n||(t=[n++]);o<i;)c[o]=o++;for(o=0;o<i;o++)c[o]=c[s=a&s+t[o%n]+(e=c[o])],c[s]=e;r.g=function(t){for(var e,n=0,o=r.i,s=r.j,c=r.S;t--;)e=c[o=a&o+1],n=n*i+c[a&(c[o]=c[s=a&s+e])+(c[s]=e)];return r.i=o,r.j=s,n}}function l(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function h(t,e){var n,i=[],r=typeof t;if(e&&"object"==r)for(n in t)try{i.push(h(t[n],e-1))}catch(o){}return i.length?i:"string"==r?t:t+"\0"}function u(t,e){for(var n,i=t+"",r=0;r<i.length;)e[a&r]=a&(n^=19*e[a&r])+i.charCodeAt(r++);return d(e)}function d(t){return String.fromCharCode.apply(0,t)}e.seedrandom=function(a,p,g){var f=[],_=u(h((p=!0===p?{entropy:!0}:p||{}).entropy?[a,d(t)]:null===a?function(){try{var e=new Uint8Array(i);return(n.crypto||n.msCrypto).getRandomValues(e),d(e)}catch(s){var r=n.navigator,o=r&&r.plugins;return[+new Date,n,o,n.screen,d(t)]}}():a,3),f),m=new c(f),y=function(){for(var t=m.g(6),e=r,n=0;t<o;)t=(t+n)*i,e*=i,n=m.g(1);for(;t>=s;)t/=2,e/=2,n>>>=1;return(t+n)/e};return y.int32=function(){return 0|m.g(4)},y.quick=function(){return m.g(4)/4294967296},y.double=y,u(d(m.S),t),(p.pass||g||function(t,n,i,r){return r&&(r.S&&l(r,m),t.state=function(){return l(m,{})}),i?(e.random=t,n):t})(y,_,"global"in p?p.global:this==e,p.state)},u(e.random(),t)}([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(t,n,i,r,o){var s=o||("bez_"+t+"_"+n+"_"+i+"_"+r).replace(/\./g,"p");if(e[s])return e[s];var a=new l([t,n,i,r]);return e[s]=a,a}},e={},n=.1,i="function"==typeof Float32Array;function r(t,e){return 1-3*e+3*t}function o(t,e){return 3*e-6*t}function s(t){return 3*t}function a(t,e,n){return((r(e,n)*t+o(e,n))*t+s(e))*t}function c(t,e,n){return 3*r(e,n)*t*t+2*o(e,n)*t+s(e)}function l(t){this._p=t,this._mSampleValues=i?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return l.prototype={get:function(t){var e=this._p[0],n=this._p[1],i=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),e===n&&i===r?t:0===t?0:1===t?1:a(this._getTForX(t),n,r)},_precompute:function(){var t=this._p[0],e=this._p[1],n=this._p[2],i=this._p[3];this._precomputed=!0,t===e&&n===i||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;i<11;++i)this._mSampleValues[i]=a(i*n,t,e)},_getTForX:function(t){for(var e=this._p[0],i=this._p[2],r=this._mSampleValues,o=0,s=1;10!==s&&r[s]<=t;++s)o+=n;var l=o+(t-r[--s])/(r[s+1]-r[s])*n,h=c(l,e,i);return h>=.001?function(t,e,n,i){for(var r=0;r<4;++r){var o=c(e,n,i);if(0===o)return e;e-=(a(e,n,i)-t)/o}return e}(t,l,e,i):0===h?l:function(t,e,n,i,r){var o,s,c=0;do{(o=a(s=e+(n-e)/2,i,r)-t)>0?n=s:e=s}while(Math.abs(o)>1e-7&&++c<10);return s}(t,o,o+n,e,i)}},t}();function extendPrototype(t,e){var n,i,r=t.length;for(n=0;n<r;n+=1)for(var o in i=t[n].prototype)Object.prototype.hasOwnProperty.call(i,o)&&(e.prototype[o]=i[o])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){var t=Math;function e(t,e,n,i,r,o){var s=t*i+e*r+n*o-r*i-o*t-n*e;return s>-.001&&s<.001}var n=function(t,e,n,i){var r,o,s,a,c,l,h=defaultCurveSegments,u=0,d=[],p=[],g=bezierLengthPool.newElement();for(s=n.length,r=0;r<h;r+=1){for(c=r/(h-1),l=0,o=0;o<s;o+=1)a=bmPow(1-c,3)*t[o]+3*bmPow(1-c,2)*c*n[o]+3*(1-c)*bmPow(c,2)*i[o]+bmPow(c,3)*e[o],d[o]=a,null!==p[o]&&(l+=bmPow(d[o]-p[o],2)),p[o]=d[o];l&&(u+=l=bmSqrt(l)),g.percents[r]=c,g.lengths[r]=u}return g.addedLength=u,g};function i(t){this.segmentLength=0,this.points=new Array(t)}function r(t,e){this.partialLength=t,this.point=e}var o,s=(o={},function(t,n,s,a){var c=(t[0]+"_"+t[1]+"_"+n[0]+"_"+n[1]+"_"+s[0]+"_"+s[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!o[c]){var l,h,u,d,p,g,f,_=defaultCurveSegments,m=0,y=null;2===t.length&&(t[0]!==n[0]||t[1]!==n[1])&&e(t[0],t[1],n[0],n[1],t[0]+s[0],t[1]+s[1])&&e(t[0],t[1],n[0],n[1],n[0]+a[0],n[1]+a[1])&&(_=2);var v=new i(_);for(u=s.length,l=0;l<_;l+=1){for(f=createSizedArray(u),p=l/(_-1),g=0,h=0;h<u;h+=1)d=bmPow(1-p,3)*t[h]+3*bmPow(1-p,2)*p*(t[h]+s[h])+3*(1-p)*bmPow(p,2)*(n[h]+a[h])+bmPow(p,3)*n[h],f[h]=d,null!==y&&(g+=bmPow(f[h]-y[h],2));m+=g=bmSqrt(g),v.points[l]=new r(g,f),y=f}v.segmentLength=m,o[c]=v}return o[c]});function a(t,e){var n=e.percents,i=e.lengths,r=n.length,o=bmFloor((r-1)*t),s=t*e.addedLength,a=0;if(o===r-1||0===o||s===i[o])return n[o];for(var c=i[o]>s?-1:1,l=!0;l;)if(i[o]<=s&&i[o+1]>s?(a=(s-i[o])/(i[o+1]-i[o]),l=!1):o+=c,o<0||o>=r-1){if(o===r-1)return n[o];l=!1}return n[o]+(n[o+1]-n[o])*a}var c=createTypedArray("float32",8);return{getSegmentsLength:function(t){var e,i=segmentsLengthPool.newElement(),r=t.c,o=t.v,s=t.o,a=t.i,c=t._length,l=i.lengths,h=0;for(e=0;e<c-1;e+=1)l[e]=n(o[e],o[e+1],s[e],a[e+1]),h+=l[e].addedLength;return r&&c&&(l[e]=n(o[e],o[0],s[e],a[0]),h+=l[e].addedLength),i.totalLength=h,i},getNewSegment:function(e,n,i,r,o,s,l){o<0?o=0:o>1&&(o=1);var h,u=a(o,l),d=a(s=s>1?1:s,l),p=e.length,g=1-u,f=1-d,_=g*g*g,m=u*g*g*3,y=u*u*g*3,v=u*u*u,C=g*g*f,b=u*g*f+g*u*f+g*g*d,x=u*u*f+g*u*d+u*g*d,P=u*u*d,O=g*f*f,M=u*f*f+g*d*f+g*f*d,w=u*d*f+g*d*d+u*f*d,k=u*d*d,T=f*f*f,S=d*f*f+f*d*f+f*f*d,E=d*d*f+f*d*d+d*f*d,A=d*d*d;for(h=0;h<p;h+=1)c[4*h]=t.round(1e3*(_*e[h]+m*i[h]+y*r[h]+v*n[h]))/1e3,c[4*h+1]=t.round(1e3*(C*e[h]+b*i[h]+x*r[h]+P*n[h]))/1e3,c[4*h+2]=t.round(1e3*(O*e[h]+M*i[h]+w*r[h]+k*n[h]))/1e3,c[4*h+3]=t.round(1e3*(T*e[h]+S*i[h]+E*r[h]+A*n[h]))/1e3;return c},getPointInSegment:function(e,n,i,r,o,s){var c=a(o,s),l=1-c;return[t.round(1e3*(l*l*l*e[0]+(c*l*l+l*c*l+l*l*c)*i[0]+(c*c*l+l*c*c+c*l*c)*r[0]+c*c*c*n[0]))/1e3,t.round(1e3*(l*l*l*e[1]+(c*l*l+l*c*l+l*l*c)*i[1]+(c*c*l+l*c*c+c*l*c)*r[1]+c*c*c*n[1]))/1e3]},buildBezierData:s,pointOnLine2D:e,pointOnLine3D:function(n,i,r,o,s,a,c,l,h){if(0===r&&0===a&&0===h)return e(n,i,o,s,c,l);var u,d=t.sqrt(t.pow(o-n,2)+t.pow(s-i,2)+t.pow(a-r,2)),p=t.sqrt(t.pow(c-n,2)+t.pow(l-i,2)+t.pow(h-r,2)),g=t.sqrt(t.pow(c-o,2)+t.pow(l-s,2)+t.pow(h-a,2));return(u=d>p?d>g?d-p-g:g-p-d:g>p?g-p-d:p-d-g)>-1e-4&&u<1e-4}}}!function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),r=setTimeout(function(){e(n+i)},i);return t=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction();function dataFunctionManager(){function t(r,o,s){var a,c,l,h,u,d,p,g=r.length;for(c=0;c<g;c+=1)if("ks"in(a=r[c])&&!a.completed){if(a.completed=!0,a.tt&&(r[c-1].td=a.tt),a.hasMask){var f=a.masksProperties;for(h=f.length,l=0;l<h;l+=1)if(f[l].pt.k.i)i(f[l].pt.k);else for(d=f[l].pt.k.length,u=0;u<d;u+=1)f[l].pt.k[u].s&&i(f[l].pt.k[u].s[0]),f[l].pt.k[u].e&&i(f[l].pt.k[u].e[0])}0===a.ty?(a.layers=e(a.refId,o),t(a.layers,o,s)):4===a.ty?n(a.shapes):5===a.ty&&(0!==(p=a).t.a.length||"m"in p.t.p||(p.singleShape=!0))}}function e(t,e){for(var n=0,i=e.length;n<i;){if(e[n].id===t)return e[n].layers.__used?JSON.parse(JSON.stringify(e[n].layers)):(e[n].layers.__used=!0,e[n].layers);n+=1}return null}function n(t){var e,r,o;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)i(t[e].ks.k);else for(o=t[e].ks.k.length,r=0;r<o;r+=1)t[e].ks.k[r].s&&i(t[e].ks.k[r].s[0]),t[e].ks.k[r].e&&i(t[e].ks.k[r].e[0]);else"gr"===t[e].ty&&n(t[e].it)}function i(t){var e,n=t.i.length;for(e=0;e<n;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function r(t,e){var n=e?e.split("."):[100,100,100];return t[0]>n[0]||!(n[0]>t[0])&&(t[1]>n[1]||!(n[1]>t[1])&&(t[2]>n[2]||!(n[2]>t[2])&&null))}var o,s=function(){var t=[4,4,14];function e(t){var e,n,i=t.length;for(e=0;e<i;e+=1)5===t[e].ty&&((n=t[e]).t.d={k:[{s:n.t.d,t:0}]})}return function(n){if(r(t,n.v)&&(e(n.layers),n.assets)){var i,o=n.assets.length;for(i=0;i<o;i+=1)n.assets[i].layers&&e(n.assets[i].layers)}}}(),a=(o=[4,7,99],function(t){if(t.chars&&!r(o,t.v)){var e,n,s,a,c,l=t.chars.length;for(e=0;e<l;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(s=(c=t.chars[e].data.shapes[0].it).length,n=0;n<s;n+=1)(a=c[n].ks.k).__converted||(i(c[n].ks.k),a.__converted=!0)}}),c=function(){var t=[4,1,9];function e(t){var n,i,r,o=t.length;for(n=0;n<o;n+=1)if("gr"===t[n].ty)e(t[n].it);else if("fl"===t[n].ty||"st"===t[n].ty)if(t[n].c.k&&t[n].c.k[0].i)for(r=t[n].c.k.length,i=0;i<r;i+=1)t[n].c.k[i].s&&(t[n].c.k[i].s[0]/=255,t[n].c.k[i].s[1]/=255,t[n].c.k[i].s[2]/=255,t[n].c.k[i].s[3]/=255),t[n].c.k[i].e&&(t[n].c.k[i].e[0]/=255,t[n].c.k[i].e[1]/=255,t[n].c.k[i].e[2]/=255,t[n].c.k[i].e[3]/=255);else t[n].c.k[0]/=255,t[n].c.k[1]/=255,t[n].c.k[2]/=255,t[n].c.k[3]/=255}function n(t){var n,i=t.length;for(n=0;n<i;n+=1)4===t[n].ty&&e(t[n].shapes)}return function(e){if(r(t,e.v)&&(n(e.layers),e.assets)){var i,o=e.assets.length;for(i=0;i<o;i+=1)e.assets[i].layers&&n(e.assets[i].layers)}}}(),l=function(){var t=[4,4,18];function e(t){var n,i,r;for(n=t.length-1;n>=0;n-=1)if("sh"===t[n].ty)if(t[n].ks.k.i)t[n].ks.k.c=t[n].closed;else for(r=t[n].ks.k.length,i=0;i<r;i+=1)t[n].ks.k[i].s&&(t[n].ks.k[i].s[0].c=t[n].closed),t[n].ks.k[i].e&&(t[n].ks.k[i].e[0].c=t[n].closed);else"gr"===t[n].ty&&e(t[n].it)}function n(t){var n,i,r,o,s,a,c=t.length;for(i=0;i<c;i+=1){if((n=t[i]).hasMask){var l=n.masksProperties;for(o=l.length,r=0;r<o;r+=1)if(l[r].pt.k.i)l[r].pt.k.c=l[r].cl;else for(a=l[r].pt.k.length,s=0;s<a;s+=1)l[r].pt.k[s].s&&(l[r].pt.k[s].s[0].c=l[r].cl),l[r].pt.k[s].e&&(l[r].pt.k[s].e[0].c=l[r].cl)}4===n.ty&&e(n.shapes)}}return function(e){if(r(t,e.v)&&(n(e.layers),e.assets)){var i,o=e.assets.length;for(i=0;i<o;i+=1)e.assets[i].layers&&n(e.assets[i].layers)}}}(),h={completeData:function(e,n){e.__complete||(c(e),s(e),a(e),l(e),t(e.layers,e.assets,n),e.__complete=!0)}};return h.checkColors=c,h.checkChars=a,h.checkShapes=l,h.completeLayers=t,h}var dataManager=dataFunctionManager();function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],n="normal",i="normal",r=e.length,o=0;o<r;o+=1)switch(e[o].toLowerCase()){case"italic":i="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200"}return{style:i,weight:t.fWeight||n}}var FontManager=function(){var t={w:0,size:0,shapes:[]},e=[];function n(t,e){var n=createTag("span");n.setAttribute("aria-hidden",!0),n.style.fontFamily=e;var i=createTag("span");i.innerText="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(i),document.body.appendChild(n);var r=i.offsetWidth;return i.style.fontFamily=function(t){var e,n=t.split(","),i=n.length,r=[];for(e=0;e<i;e+=1)"sans-serif"!==n[e]&&"monospace"!==n[e]&&r.push(n[e]);return r.join(",")}(t)+", "+e,{node:i,w:r,parent:n}}function i(t,e){var n=createNS("text");n.style.fontSize="100px";var i=getFontProperties(e);return n.setAttribute("font-family",e.fFamily),n.setAttribute("font-style",i.style),n.setAttribute("font-weight",i.weight),n.textContent="1",e.fClass?(n.style.fontFamily="inherit",n.setAttribute("class",e.fClass)):n.style.fontFamily=e.fFamily,t.appendChild(n),createTag("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,n}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return r.getCombinedCharacterCodes=function(){return e},r.prototype={addChars:function(t){if(t){var e;this.chars||(this.chars=[]);var n,i,r=t.length,o=this.chars.length;for(e=0;e<r;e+=1){for(n=0,i=!1;n<o;)this.chars[n].style===t[e].style&&this.chars[n].fFamily===t[e].fFamily&&this.chars[n].ch===t[e].ch&&(i=!0),n+=1;i||(this.chars.push(t[e]),o+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var r,o=t.list,s=o.length,a=s;for(r=0;r<s;r+=1){var c,l,h=!0;if(o[r].loaded=!1,o[r].monoCase=n(o[r].fFamily,"monospace"),o[r].sansCase=n(o[r].fFamily,"sans-serif"),o[r].fPath){if("p"===o[r].fOrigin||3===o[r].origin){if((c=document.querySelectorAll('style[f-forigin="p"][f-family="'+o[r].fFamily+'"], style[f-origin="3"][f-family="'+o[r].fFamily+'"]')).length>0&&(h=!1),h){var u=createTag("style");u.setAttribute("f-forigin",o[r].fOrigin),u.setAttribute("f-origin",o[r].origin),u.setAttribute("f-family",o[r].fFamily),u.type="text/css",u.innerText="@font-face {font-family: "+o[r].fFamily+"; font-style: normal; src: url('"+o[r].fPath+"');}",e.appendChild(u)}}else if("g"===o[r].fOrigin||1===o[r].origin){for(c=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),l=0;l<c.length;l+=1)-1!==c[l].href.indexOf(o[r].fPath)&&(h=!1);if(h){var d=createTag("link");d.setAttribute("f-forigin",o[r].fOrigin),d.setAttribute("f-origin",o[r].origin),d.type="text/css",d.rel="stylesheet",d.href=o[r].fPath,document.body.appendChild(d)}}else if("t"===o[r].fOrigin||2===o[r].origin){for(c=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),l=0;l<c.length;l+=1)o[r].fPath===c[l].src&&(h=!1);if(h){var p=createTag("link");p.setAttribute("f-forigin",o[r].fOrigin),p.setAttribute("f-origin",o[r].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",o[r].fPath),e.appendChild(p)}}}else o[r].loaded=!0,a-=1;o[r].helper=i(e,o[r]),o[r].cache={},this.fonts.push(o[r])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,n,i){for(var r=0,o=this.chars.length;r<o;){if(this.chars[r].ch===e&&this.chars[r].style===n&&this.chars[r].fFamily===i)return this.chars[r];r+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",e,n,i)),t},getFontByName:function(t){for(var e=0,n=this.fonts.length;e<n;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,n){var i=this.getFontByName(e),r=t.charCodeAt(0);if(!i.cache[r+1]){var o=i.helper;if(" "===t){o.textContent="|"+t+"|";var s=o.getComputedTextLength();o.textContent="||";var a=o.getComputedTextLength();i.cache[r+1]=(s-a)/100}else o.textContent=t,i.cache[r+1]=o.getComputedTextLength()/100}return i.cache[r+1]*n},checkLoadedFonts:function(){var t,e=this.fonts.length,n=e;for(t=0;t<e;t+=1)this.fonts[t].loaded?n-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:((this.fonts[t].monoCase.node.offsetWidth!==this.fonts[t].monoCase.w||this.fonts[t].sansCase.node.offsetWidth!==this.fonts[t].sansCase.w)&&(n-=1,this.fonts[t].loaded=!0),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},r}(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function n(t,e){var n,r=this.offsetTime;"multidimensional"===this.propType&&(n=createTypedArray("float32",this.pv.length));for(var o,s,a,c,l,h,u,d,p=e.lastIndex,g=p,f=this.keyframes.length-1,_=!0;_;){if(o=this.keyframes[g],s=this.keyframes[g+1],g===f-1&&t>=s.t-r){o.h&&(o=s),p=0;break}if(s.t-r>t){p=g;break}g<f-1?g+=1:(p=0,_=!1)}var m,y,v,C,b,x,P,O,M,w,k=s.t-r,T=o.t-r;if(o.to){o.bezierData||(o.bezierData=bez.buildBezierData(o.s,s.s||o.e,o.to,o.ti));var S=o.bezierData;if(t>=k||t<T){var E=t>=k?S.points.length-1:0;for(c=S.points[E].point.length,a=0;a<c;a+=1)n[a]=S.points[E].point[a]}else{o.__fnct?d=o.__fnct:(d=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y,o.n).get,o.__fnct=d),l=d((t-T)/(k-T));var A,I=S.segmentLength*l,D=e.lastFrame<t&&e._lastKeyframeIndex===g?e._lastAddedLength:0;for(u=e.lastFrame<t&&e._lastKeyframeIndex===g?e._lastPoint:0,_=!0,h=S.points.length;_;){if(D+=S.points[u].partialLength,0===I||0===l||u===S.points.length-1){for(c=S.points[u].point.length,a=0;a<c;a+=1)n[a]=S.points[u].point[a];break}if(I>=D&&I<D+S.points[u+1].partialLength){for(A=(I-D)/S.points[u+1].partialLength,c=S.points[u].point.length,a=0;a<c;a+=1)n[a]=S.points[u].point[a]+(S.points[u+1].point[a]-S.points[u].point[a])*A;break}u<h-1?u+=1:_=!1}e._lastPoint=u,e._lastAddedLength=D-S.points[u].partialLength,e._lastKeyframeIndex=g}}else{var F;if(f=o.s.length,m=s.s||o.e,this.sh&&1!==o.h)t>=k?(n[0]=m[0],n[1]=m[1],n[2]=m[2]):t<=T?(n[0]=o.s[0],n[1]=o.s[1],n[2]=o.s[2]):(y=n,C=(v=function(t,e,n){var i,r,o,s,a,c=[],l=t[0],h=t[1],u=t[2],d=t[3],p=e[0],g=e[1],f=e[2],_=e[3];return(r=l*p+h*g+u*f+d*_)<0&&(r=-r,p=-p,g=-g,f=-f,_=-_),1-r>1e-6?(i=Math.acos(r),o=Math.sin(i),s=Math.sin((1-n)*i)/o,a=Math.sin(n*i)/o):(s=1-n,a=n),c[0]=s*l+a*p,c[1]=s*h+a*g,c[2]=s*u+a*f,c[3]=s*d+a*_,c}(i(o.s),i(m),(t-T)/(k-T)))[0],b=v[1],x=v[2],P=v[3],O=Math.atan2(2*b*P-2*C*x,1-2*b*b-2*x*x),M=Math.asin(2*C*b+2*x*P),w=Math.atan2(2*C*P-2*b*x,1-2*C*C-2*x*x),y[0]=O/degToRads,y[1]=M/degToRads,y[2]=w/degToRads);else for(g=0;g<f;g+=1)1!==o.h&&(t>=k?l=1:t<T?l=0:(o.o.x.constructor===Array?(o.__fnct||(o.__fnct=[]),o.__fnct[g]?d=o.__fnct[g]:(d=BezierFactory.getBezierEasing(void 0===o.o.x[g]?o.o.x[0]:o.o.x[g],void 0===o.o.y[g]?o.o.y[0]:o.o.y[g],void 0===o.i.x[g]?o.i.x[0]:o.i.x[g],void 0===o.i.y[g]?o.i.y[0]:o.i.y[g]).get,o.__fnct[g]=d)):o.__fnct?d=o.__fnct:(d=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y).get,o.__fnct=d),l=d((t-T)/(k-T)))),m=s.s||o.e,F=1===o.h?o.s[g]:o.s[g]+(m[g]-o.s[g])*l,"multidimensional"===this.propType?n[g]=F:n=F}return e.lastIndex=p,n}function i(t){var e=t[0]*degToRads,n=t[1]*degToRads,i=t[2]*degToRads,r=Math.cos(e/2),o=Math.cos(n/2),s=Math.cos(i/2),a=Math.sin(e/2),c=Math.sin(n/2),l=Math.sin(i/2);return[a*c*s+r*o*l,a*o*s+r*c*l,r*c*s-a*o*l,r*o*s-a*c*l]}function r(){var e=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=i&&e>=i||this._caching.lastFrame<n&&e<n))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(e,this._caching);this.pv=r}return this._caching.lastFrame=e,this.pv}function o(t){var n;if("unidimensional"===this.propType)e(this.v-(n=t*this.mult))>1e-5&&(this.v=n,this._mdf=!0);else for(var i=0,r=this.v.length;i<r;)e(this.v[i]-(n=t[i]*this.mult))>1e-5&&(this.v[i]=n,this._mdf=!0),i+=1}function s(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function c(t,e,n,i){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=s,this.setVValue=o,this.addEffect=a}function l(t,e,n,i){var r;this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var c=e.k.length;for(this.v=createTypedArray("float32",c),this.pv=createTypedArray("float32",c),this.vel=createTypedArray("float32",c),r=0;r<c;r+=1)this.v[r]=e.k[r]*this.mult,this.pv[r]=e.k[r];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=s,this.setVValue=o,this.addEffect=a}function h(e,i,c,l){this.propType="unidimensional",this.keyframes=i.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=i,this.mult=c||1,this.elem=e,this.container=l,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=s,this.setVValue=o,this.interpolateValue=n,this.effectsSequence=[r.bind(this)],this.addEffect=a}function u(e,i,c,l){var h;this.propType="multidimensional";var u,d,p,g,f=i.k.length;for(h=0;h<f-1;h+=1)i.k[h].to&&i.k[h].s&&i.k[h+1]&&i.k[h+1].s&&(d=i.k[h+1].s,p=i.k[h].to,g=i.k[h].ti,(2===(u=i.k[h].s).length&&(u[0]!==d[0]||u[1]!==d[1])&&bez.pointOnLine2D(u[0],u[1],d[0],d[1],u[0]+p[0],u[1]+p[1])&&bez.pointOnLine2D(u[0],u[1],d[0],d[1],d[0]+g[0],d[1]+g[1])||3===u.length&&(u[0]!==d[0]||u[1]!==d[1]||u[2]!==d[2])&&bez.pointOnLine3D(u[0],u[1],u[2],d[0],d[1],d[2],u[0]+p[0],u[1]+p[1],u[2]+p[2])&&bez.pointOnLine3D(u[0],u[1],u[2],d[0],d[1],d[2],d[0]+g[0],d[1]+g[1],d[2]+g[2]))&&(i.k[h].to=null,i.k[h].ti=null),u[0]===d[0]&&u[1]===d[1]&&0===p[0]&&0===p[1]&&0===g[0]&&0===g[1]&&(2===u.length||u[2]===d[2]&&0===p[2]&&0===g[2])&&(i.k[h].to=null,i.k[h].ti=null));this.effectsSequence=[r.bind(this)],this.data=i,this.keyframes=i.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=c||1,this.elem=e,this.container=l,this.comp=e.comp,this.getValue=s,this.setVValue=o,this.interpolateValue=n,this.frameId=-1;var _=i.k[0].s.length;for(this.v=createTypedArray("float32",_),this.pv=createTypedArray("float32",_),h=0;h<_;h+=1)this.v[h]=t,this.pv[h]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",_)},this.addEffect=a}return{getProp:function(t,e,n,i,r){var o;if(e.k.length)if("number"==typeof e.k[0])o=new l(t,e,i,r);else switch(n){case 0:o=new h(t,e,i,r);break;case 1:o=new u(t,e,i,r)}else o=new c(t,e,i,r);return o.effectsSequence.length&&r.addDynamicProperty(o),o}}}(),TransformPropertyFactory=function(){var t=[0,0];function e(t,e,n){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var i,r=e.or.k.length;for(i=0;i<r;i+=1)e.or.k[i].to=null,e.or.k[i].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),this.o=e.o?PropertyFactory.getProp(t,e.o,0,.01,t):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?t.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var n;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var i,r;if(n=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(i=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(i=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(i=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){i=[],r=[];var o=this.px,s=this.py;o._caching.lastFrame+o.offsetTime<=o.keyframes[0].t?(i[0]=o.getValueAtTime((o.keyframes[0].t+.01)/n,0),i[1]=s.getValueAtTime((s.keyframes[0].t+.01)/n,0),r[0]=o.getValueAtTime(o.keyframes[0].t/n,0),r[1]=s.getValueAtTime(s.keyframes[0].t/n,0)):o._caching.lastFrame+o.offsetTime>=o.keyframes[o.keyframes.length-1].t?(i[0]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/n,0),i[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/n,0),r[0]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/n,0),r[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/n,0)):(i=[o.pv,s.pv],r[0]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/n,o.offsetTime),r[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/n,s.offsetTime))}else i=r=t;this.v.rotate(-Math.atan2(i[1]-r[1],i[0]-r[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,n,i){return new e(t,n,i)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var n=0;n<e;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,i,r){var o;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o;break;default:o=[]}(!o[i]||o[i]&&!r)&&(o[i]=pointPool.newElement()),o[i][0]=t,o[i][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,i,r,o,s,a){this.setXYAt(t,e,"v",s,a),this.setXYAt(n,i,"o",s,a),this.setXYAt(r,o,"i",s,a)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,i=this.i,r=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],i[0][0],i[0][1],n[0][0],n[0][1],0,!1),r=1);var o,s=this._length-1,a=this._length;for(o=r;o<a;o+=1)t.setTripleAt(e[s][0],e[s][1],i[s][0],i[s][1],n[s][0],n[s][1],o,!1),s-=1;return t};var ShapePropertyFactory=function(){var t=-999999;function e(t,e,n){var i,r,o,s,a,c,l,h,u=n.lastIndex,d=this.keyframes;if(t<d[0].t-this.offsetTime)i=d[0].s[0],o=!0,u=0;else if(t>=d[d.length-1].t-this.offsetTime)i=d[d.length-1].s?d[d.length-1].s[0]:d[d.length-2].e[0],o=!0;else{for(var p,g,f=u,_=d.length-1,m=!0;m&&(p=d[f],!((g=d[f+1]).t-this.offsetTime>t));)f<_-1?f+=1:m=!1;if(u=f,!(o=1===p.h)){if(t>=g.t-this.offsetTime)h=1;else if(t<p.t-this.offsetTime)h=0;else{var y;p.__fnct?y=p.__fnct:(y=BezierFactory.getBezierEasing(p.o.x,p.o.y,p.i.x,p.i.y).get,p.__fnct=y),h=y((t-(p.t-this.offsetTime))/(g.t-this.offsetTime-(p.t-this.offsetTime)))}r=g.s?g.s[0]:p.e[0]}i=p.s[0]}for(c=e._length,l=i.i[0].length,n.lastIndex=u,s=0;s<c;s+=1)for(a=0;a<l;a+=1)e.i[s][a]=o?i.i[s][a]:i.i[s][a]+(r.i[s][a]-i.i[s][a])*h,e.o[s][a]=o?i.o[s][a]:i.o[s][a]+(r.o[s][a]-i.o[s][a])*h,e.v[s][a]=o?i.v[s][a]:i.v[s][a]+(r.v[s][a]-i.v[s][a])*h}function n(){var e=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return r!==t&&(r<n&&e<n||r>i&&e>i)||(this._caching.lastIndex=r<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function i(){this.paths=this.localShapeCollection}function r(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var n,i=t._length;for(n=0;n<i;n+=1)if(t.v[n][0]!==e.v[n][0]||t.v[n][1]!==e.v[n][1]||t.o[n][0]!==e.o[n][0]||t.o[n][1]!==e.o[n][1]||t.i[n][0]!==e.i[n][0]||t.i[n][1]!==e.i[n][1])return!1;return!0})(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function o(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var n=this.effectsSequence.length;for(e=0;e<n;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function s(t,e,n){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shapePool.clone(3===n?e.pt.k:e.ks.k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function c(e,r,o){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===o?r.pt.k:r.ks.k,this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=i,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[n.bind(this)]}s.prototype.interpolateShape=e,s.prototype.getValue=o,s.prototype.setVValue=r,s.prototype.addEffect=a,c.prototype.getValue=o,c.prototype.interpolateShape=e,c.prototype.setVValue=r,c.prototype.addEffect=a;var l=function(){var t=roundCorner;function e(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],n=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2,o=3!==this.d,s=this.v;s.v[0][0]=e,s.v[0][1]=n-r,s.v[1][0]=o?e+i:e-i,s.v[1][1]=n,s.v[2][0]=e,s.v[2][1]=n+r,s.v[3][0]=o?e-i:e+i,s.v[3][1]=n,s.i[0][0]=o?e-i*t:e+i*t,s.i[0][1]=n-r,s.i[1][0]=o?e+i:e-i,s.i[1][1]=n-r*t,s.i[2][0]=o?e+i*t:e-i*t,s.i[2][1]=n+r,s.i[3][0]=o?e-i:e+i,s.i[3][1]=n+r*t,s.o[0][0]=o?e+i*t:e-i*t,s.o[0][1]=n-r,s.o[1][0]=o?e+i:e-i,s.o[1][1]=n+r*t,s.o[2][0]=o?e-i*t:e+i*t,s.o[2][1]=n+r,s.o[3][0]=o?e-i:e+i,s.o[3][1]=n-r*t}},extendPrototype([DynamicPropertyContainer],e),e}(),h=function(){function t(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,n,i,r=2*Math.floor(this.pt.v),o=2*Math.PI/r,s=!0,a=this.or.v,c=this.ir.v,l=this.os.v,h=this.is.v,u=2*Math.PI*a/(2*r),d=2*Math.PI*c/(2*r),p=-Math.PI/2;p+=this.r.v;var g=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<r;t+=1){n=s?l:h,i=s?u:d;var f=(e=s?a:c)*Math.cos(p),_=e*Math.sin(p),m=0===f&&0===_?0:_/Math.sqrt(f*f+_*_),y=0===f&&0===_?0:-f/Math.sqrt(f*f+_*_);this.v.setTripleAt(f+=+this.p.v[0],_+=+this.p.v[1],f-m*i*n*g,_-y*i*n*g,f+m*i*n*g,_+y*i*n*g,t,!0),s=!s,p+=o*g}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),n=2*Math.PI/e,i=this.or.v,r=this.os.v,o=2*Math.PI*i/(4*e),s=.5*-Math.PI,a=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var c=i*Math.cos(s),l=i*Math.sin(s),h=0===c&&0===l?0:l/Math.sqrt(c*c+l*l),u=0===c&&0===l?0:-c/Math.sqrt(c*c+l*l);this.v.setTripleAt(c+=+this.p.v[0],l+=+this.p.v[1],c-h*o*r*a,l-u*o*r*a,c+h*o*r*a,l+u*o*r*a,t,!0),s+=n*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function t(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],n=this.s.v[0]/2,i=this.s.v[1]/2,r=bmMin(n,i,this.r.v),o=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+n,e-i+r,t+n,e-i+r,t+n,e-i+o,0,!0),this.v.setTripleAt(t+n,e+i-r,t+n,e+i-o,t+n,e+i-r,1,!0),0!==r?(this.v.setTripleAt(t+n-r,e+i,t+n-r,e+i,t+n-o,e+i,2,!0),this.v.setTripleAt(t-n+r,e+i,t-n+o,e+i,t-n+r,e+i,3,!0),this.v.setTripleAt(t-n,e+i-r,t-n,e+i-r,t-n,e+i-o,4,!0),this.v.setTripleAt(t-n,e-i+r,t-n,e-i+o,t-n,e-i+r,5,!0),this.v.setTripleAt(t-n+r,e-i,t-n+r,e-i,t-n+o,e-i,6,!0),this.v.setTripleAt(t+n-r,e-i,t+n-o,e-i,t+n-r,e-i,7,!0)):(this.v.setTripleAt(t-n,e+i,t-n+o,e+i,t-n,e+i,2),this.v.setTripleAt(t-n,e-i,t-n,e-i+o,t-n,e-i,3))):(this.v.setTripleAt(t+n,e-i+r,t+n,e-i+o,t+n,e-i+r,0,!0),0!==r?(this.v.setTripleAt(t+n-r,e-i,t+n-r,e-i,t+n-o,e-i,1,!0),this.v.setTripleAt(t-n+r,e-i,t-n+o,e-i,t-n+r,e-i,2,!0),this.v.setTripleAt(t-n,e-i+r,t-n,e-i+r,t-n,e-i+o,3,!0),this.v.setTripleAt(t-n,e+i-r,t-n,e+i-o,t-n,e+i-r,4,!0),this.v.setTripleAt(t-n+r,e+i,t-n+r,e+i,t-n+o,e+i,5,!0),this.v.setTripleAt(t+n-r,e+i,t+n-o,e+i,t+n-r,e+i,6,!0),this.v.setTripleAt(t+n,e+i-r,t+n,e+i-r,t+n,e+i-o,7,!0)):(this.v.setTripleAt(t-n,e-i,t-n+o,e-i,t-n,e-i,1,!0),this.v.setTripleAt(t-n,e+i,t-n,e+i-o,t-n,e+i,2,!0),this.v.setTripleAt(t+n,e+i,t+n-o,e+i,t+n,e+i,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],t),t}();return{getShapeProp:function(t,e,n){var i;return 3===n||4===n?i=(3===n?e.pt:e.ks).k.length?new c(t,e,n):new s(t,e,n):5===n?i=new u(t,e):6===n?i=new l(t,e):7===n&&(i=new h(t,e)),i.k&&t.addDynamicProperty(i),i},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return c}}}(),ShapeModifiers=(ob={},modifiers={},ob.registerModifier=function(t,e){modifiers[t]||(modifiers[t]=e)},ob.getModifier=function(t,e,n){return new modifiers[t](e,n)},ob),ob,modifiers;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,n,i){var r;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(i);var o,s=e.length||0;for(r=0;r<s;r+=1)o=PropertyFactory.getProp(t,e[r].v,0,0,this),this.k=o.k||this.k,this.dataProps[r]={n:e[r].n,p:o};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var i=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=i,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,i,r){var o=[];e<=1?o.push({s:t,e:e}):t>=1?o.push({s:t-1,e:e-1}):(o.push({s:t,e:1}),o.push({s:0,e:e-1}));var s,a,c=[],l=o.length;for(s=0;s<l;s+=1)(a=o[s]).e*r<i||a.s*r>i+n||c.push([a.s*r<=i?0:(a.s*r-i)/n,a.e*r>=i+n?1:(a.e*r-i)/n]);return c.length||c.push([0,0]),c},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n,i,r;if(this._mdf||t){var o=this.o.v%360/360;if(o<0&&(o+=1),(e=this.s.v>1?1+o:this.s.v<0?0+o:this.s.v+o)>(n=this.e.v>1?1+o:this.e.v<0?0+o:this.e.v+o)){var s=e;e=n,n=s}e=1e-4*Math.round(1e4*e),n=1e-4*Math.round(1e4*n),this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var a,c,l,h,u,d=this.shapes.length,p=0;if(n===e)for(r=0;r<d;r+=1)this.shapes[r].localShapeCollection.releaseShapes(),this.shapes[r].shape._mdf=!0,this.shapes[r].shape.paths=this.shapes[r].localShapeCollection,this._mdf&&(this.shapes[r].pathsData.length=0);else if(1===n&&0===e||0===n&&1===e){if(this._mdf)for(r=0;r<d;r+=1)this.shapes[r].pathsData.length=0,this.shapes[r].shape._mdf=!0}else{var g,f,_=[];for(r=0;r<d;r+=1)if((g=this.shapes[r]).shape._mdf||this._mdf||t||2===this.m){if(c=(i=g.shape.paths)._length,u=0,!g.shape._mdf&&g.pathsData.length)u=g.totalShapeLength;else{for(l=this.releasePathsData(g.pathsData),a=0;a<c;a+=1)h=bez.getSegmentsLength(i.shapes[a]),l.push(h),u+=h.totalLength;g.totalShapeLength=u,g.pathsData=l}p+=u,g.shape._mdf=!0}else g.shape.paths=g.localShapeCollection;var m,y=e,v=n,C=0;for(r=d-1;r>=0;r-=1)if((g=this.shapes[r]).shape._mdf){for((f=g.localShapeCollection).releaseShapes(),2===this.m&&d>1?(m=this.calculateShapeEdges(e,n,g.totalShapeLength,C,p),C+=g.totalShapeLength):m=[[y,v]],c=m.length,a=0;a<c;a+=1){y=m[a][0],v=m[a][1],_.length=0,v<=1?_.push({s:g.totalShapeLength*y,e:g.totalShapeLength*v}):y>=1?_.push({s:g.totalShapeLength*(y-1),e:g.totalShapeLength*(v-1)}):(_.push({s:g.totalShapeLength*y,e:g.totalShapeLength}),_.push({s:0,e:g.totalShapeLength*(v-1)}));var b=this.addShapes(g,_[0]);if(_[0].s!==_[0].e){if(_.length>1)if(g.shape.paths.shapes[g.shape.paths._length-1].c){var x=b.pop();this.addPaths(b,f),b=this.addShapes(g,_[1],x)}else this.addPaths(b,f),b=this.addShapes(g,_[1]);this.addPaths(b,f)}}g.shape.paths=f}}},TrimModifier.prototype.addPaths=function(t,e){var n,i=t.length;for(n=0;n<i;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,i,r,o,s){r.setXYAt(e[0],e[1],"o",o),r.setXYAt(n[0],n[1],"i",o+1),s&&r.setXYAt(t[0],t[1],"v",o),r.setXYAt(i[0],i[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,i){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),i&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var i,r,o,s,a,c,l,h,u=t.pathsData,d=t.shape.paths.shapes,p=t.shape.paths._length,g=0,f=[],_=!0;for(n?(a=n._length,h=n._length):(n=shapePool.newElement(),a=0,h=0),f.push(n),i=0;i<p;i+=1){for(c=u[i].lengths,n.c=d[i].c,o=d[i].c?c.length:c.length+1,r=1;r<o;r+=1)if(g+(s=c[r-1]).addedLength<e.s)g+=s.addedLength,n.c=!1;else{if(g>e.e){n.c=!1;break}e.s<=g&&e.e>=g+s.addedLength?(this.addSegment(d[i].v[r-1],d[i].o[r-1],d[i].i[r],d[i].v[r],n,a,_),_=!1):(l=bez.getNewSegment(d[i].v[r-1],d[i].v[r],d[i].o[r-1],d[i].i[r],(e.s-g)/s.addedLength,(e.e-g)/s.addedLength,c[r-1]),this.addSegmentFromArray(l,n,a,_),_=!1,n.c=!1),g+=s.addedLength,a+=1}if(d[i].c&&c.length){if(s=c[r-1],g<=e.e){var m=c[r-1].addedLength;e.s<=g&&e.e>=g+m?(this.addSegment(d[i].v[r-1],d[i].o[r-1],d[i].i[0],d[i].v[0],n,a,_),_=!1):(l=bez.getNewSegment(d[i].v[r-1],d[i].v[0],d[i].o[r-1],d[i].i[0],(e.s-g)/m,(e.e-g)/m,c[r-1]),this.addSegmentFromArray(l,n,a,_),_=!1,n.c=!1)}else n.c=!1;g+=s.addedLength,a+=1}if(n._length&&(n.setXYAt(n.v[h][0],n.v[h][1],"i",h),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),g>e.e)break;i<p-1&&(n=shapePool.newElement(),_=!0,f.push(n),a=0)}return f},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n,i=shapePool.newElement();i.c=t.c;var r,o,s,a,c,l,h,u,d,p,g,f,_=t._length,m=0;for(n=0;n<_;n+=1)o=t.i[n],(r=t.v[n])[0]===(s=t.o[n])[0]&&r[1]===s[1]&&r[0]===o[0]&&r[1]===o[1]?0!==n&&n!==_-1||t.c?(a=0===n?t.v[_-1]:t.v[n-1],l=(c=Math.sqrt(Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)))?Math.min(c/2,e)/c:0,i.setTripleAt(h=g=r[0]+(a[0]-r[0])*l,u=f=r[1]-(r[1]-a[1])*l,h-(h-r[0])*roundCorner,u-(u-r[1])*roundCorner,g,f,m),m+=1,a=n===_-1?t.v[0]:t.v[n+1],l=(c=Math.sqrt(Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)))?Math.min(c/2,e)/c:0,i.setTripleAt(h=d=r[0]+(a[0]-r[0])*l,u=p=r[1]+(a[1]-r[1])*l,d,p,g=h-(h-r[0])*roundCorner,f=u-(u-r[1])*roundCorner,m),m+=1):(i.setTripleAt(r[0],r[1],s[0],s[1],o[0],o[1],m),m+=1):(i.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],m),m+=1);return i},RoundCornersModifier.prototype.processShapes=function(t){var e,n,i,r,o,s,a=this.shapes.length,c=this.rd.v;if(0!==c)for(n=0;n<a;n+=1){if(s=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||t)for(s.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,r=o.shape.paths._length,i=0;i<r;i+=1)s.addShape(this.processPath(e[i],c));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n=e/100,i=[0,0],r=t._length,o=0;for(o=0;o<r;o+=1)i[0]+=t.v[o][0],i[1]+=t.v[o][1];i[0]/=r,i[1]/=r;var s=shapePool.newElement();for(s.c=t.c,o=0;o<r;o+=1)s.setTripleAt(t.v[o][0]+(i[0]-t.v[o][0])*n,t.v[o][1]+(i[1]-t.v[o][1])*n,t.o[o][0]+(i[0]-t.o[o][0])*-n,t.o[o][1]+(i[1]-t.o[o][1])*-n,t.i[o][0]+(i[0]-t.i[o][0])*-n,t.i[o][1]+(i[1]-t.i[o][1])*-n,o);return s},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,i,r,o,s,a=this.shapes.length,c=this.amount.v;if(0!==c)for(n=0;n<a;n+=1){if(s=(o=this.shapes[n]).localShapeCollection,o.shape._mdf||this._mdf||t)for(s.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,r=o.shape.paths._length,i=0;i<r;i+=1)s.addShape(this.processPath(e[i],c));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,i,r,o){var s=o?-1:1,a=i.s.v[0]+(1-i.s.v[0])*(1-r),c=i.s.v[1]+(1-i.s.v[1])*(1-r);t.translate(i.p.v[0]*s*r,i.p.v[1]*s*r,i.p.v[2]),e.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),e.rotate(-i.r.v*s*r),e.translate(i.a.v[0],i.a.v[1],i.a.v[2]),n.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),n.scale(o?1/a:a,o?1/c:c),n.translate(i.a.v[0],i.a.v[1],i.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,i){for(this.elem=t,this.arr=e,this.pos=n,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);n>0;)this._elements.unshift(e[n-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,i=t.length;for(n=0;n<i;n+=1)t[n]._render=e,"gr"===t[n].ty&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,i,r,o,s=!1;if(this._mdf||t){var a,c=Math.ceil(this.c.v);if(this._groups.length<c){for(;this._groups.length<c;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes(),s=!0}for(o=0,i=0;i<=this._groups.length-1;i+=1){if(this._groups[i]._render=a=o<c,this.changeGroupRender(this._groups[i].it,a),!a){var h=this.elemsData[i].it,u=h[h.length-1];0!==u.transform.op.v?(u.transform.op._mdf=!0,u.transform.op.v=0):u.transform.op._mdf=!1}o+=1}this._currentCopies=c;var d=this.o.v,p=d%1,g=d>0?Math.floor(d):Math.ceil(d),f=this.pMatrix.props,_=this.rMatrix.props,m=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,v,C=0;if(d>0){for(;C<g;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),C+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),C+=p)}else if(d<0){for(;C>g;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),C-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),C-=p)}for(i=1===this.data.m?0:this._currentCopies-1,r=1===this.data.m?1:-1,o=this._currentCopies;o;){if(v=(n=(e=this.elemsData[i].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+i/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==C){for((0!==i&&1===r||i!==this._currentCopies-1&&-1===r)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8],_[9],_[10],_[11],_[12],_[13],_[14],_[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),y=0;y<v;y+=1)n[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<v;y+=1)n[y]=this.matrix.props[y];C+=1,o-=1,i+=r}}else for(o=this._currentCopies,i=0,r=1;o;)n=(e=this.elemsData[i].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,o-=1,i+=r;return s},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<n;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var n=0,i=this.o.length/2;n<i;){if(Math.abs(t[4*n]-t[4*e+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n,i,r=4*this.data.p;for(e=0;e<r;e+=1)n=e%4==0?100:255,i=Math.round(this.prop.v[e]*n),this.c[e]!==i&&(this.c[e]=i,this._cmdf=!t);if(this.o.length)for(r=this.prop.v.length,e=4*this.data.p;e<r;e+=1)n=e%2==0?100:1,i=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==i&&(this.o[e-4*this.data.p]=i,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,n,i){if(0===e)return"";var r,o=t.o,s=t.i,a=t.v,c=" M"+i.applyToPointStringified(a[0][0],a[0][1]);for(r=1;r<e;r+=1)c+=" C"+i.applyToPointStringified(o[r-1][0],o[r-1][1])+" "+i.applyToPointStringified(s[r][0],s[r][1])+" "+i.applyToPointStringified(a[r][0],a[r][1]);return n&&e&&(c+=" C"+i.applyToPointStringified(o[r-1][0],o[r-1][1])+" "+i.applyToPointStringified(s[0][0],s[0][1])+" "+i.applyToPointStringified(a[0][0],a[0][1]),c+="z"),c},audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):Howl?new Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(t,e,n){var i="";if(t.e)i=t.p;else if(e){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),i=e+r}else i=n,i+=t.u?t.u:"",i+=t.p;return i}function r(t){var e=0,n=setInterval((function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(n)),e+=1}).bind(this),50)}function o(t){var e={assetData:t},n=i(t,this.assetsPath,this.path);return assetLoader.load(n,(function(t){e.img=t,this._footageLoaded()}).bind(this),(function(){e.img={},this._footageLoaded()}).bind(this)),e}function s(){this._imageLoaded=e.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=r.bind(this),this.createFootageData=o.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return s.prototype={loadAssets:function(t,e){var n;this.imagesLoadedCb=e;var i=t.length;for(n=0;n<i;n+=1)t[n].layers||(t[n].t?3===t[n].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[n]))):(this.totalImages+=1,this.images.push(this._createImageData(t[n]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,n=this.images.length;e<n;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(e){var n=i(e,this.assetsPath,this.path),r=createTag("img");r.crossOrigin="anonymous",r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",(function(){o.img=t,this._imageLoaded()}).bind(this),!1),r.src=n;var o={img:r,assetData:e};return o},createImageData:function(e){var n=i(e,this.assetsPath,this.path),r=createNS("image");isSafari?this.testImageLoaded(r):r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",(function(){o.img=t,this._imageLoaded()}).bind(this),!1),r.setAttributeNS("http://www.w3.org/1999/xlink","href",n),this._elementHelper.append?this._elementHelper.append(r):this._elementHelper.appendChild(r);var o={img:r,assetData:e};return o},imageLoaded:e,footageLoaded:n,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},s}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),filtersFactory={createFilter:function(t,e){var n=createNS("filter");return n.setAttribute("id",t),!0!==e&&(n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%")),n},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}},assetLoader=function(){function t(t){return t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(e,n,i){var r,o=new XMLHttpRequest;try{o.responseType="json"}catch(s){}o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)r=t(o),n(r);else try{r=t(o),n(r)}catch(s){i&&i(s)}},o.open("GET",e,!0),o.send()}}}();function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function TextAnimatorDataProperty(t,e,n){var i={propType:!1},r=PropertyFactory.getProp,o=e.a;this.a={r:o.r?r(t,o.r,0,degToRads,n):i,rx:o.rx?r(t,o.rx,0,degToRads,n):i,ry:o.ry?r(t,o.ry,0,degToRads,n):i,sk:o.sk?r(t,o.sk,0,degToRads,n):i,sa:o.sa?r(t,o.sa,0,degToRads,n):i,s:o.s?r(t,o.s,1,.01,n):i,a:o.a?r(t,o.a,1,0,n):i,o:o.o?r(t,o.o,0,.01,n):i,p:o.p?r(t,o.p,1,0,n):i,sw:o.sw?r(t,o.sw,0,0,n):i,sc:o.sc?r(t,o.sc,1,0,n):i,fc:o.fc?r(t,o.fc,1,0,n):i,fh:o.fh?r(t,o.fh,0,0,n):i,fs:o.fs?r(t,o.fs,0,.01,n):i,fb:o.fb?r(t,o.fb,0,.01,n):i,t:o.t?r(t,o.t,0,0,n):i},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function LetterProps(t,e,n,i,r,o){this.o=t,this.sw=e,this.sc=n,this.fc=i,this.m=r,this.p=o,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!i,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e=this._textData.a.length,n=PropertyFactory.getProp;for(t=0;t<e;t+=1)this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,this._textData.a[t],this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,i,r,o,s,a,c,l,h,u,d,p,g,f,_,m,y,v,C=this._moreOptions.alignment.v,b=this._animatorsData,x=this._textData,P=this.mHelper,O=this._renderType,M=this.renderedLetters.length,w=t.l;if(this._hasMaskedPath){if(v=this._pathData.m,!this._pathData.n||this._pathData._mdf){var k,T=v.v;for(this._pathData.r&&(T=T.reverse()),s={tLength:0,segments:[]},o=T._length-1,m=0,r=0;r<o;r+=1)k=bez.buildBezierData(T.v[r],T.v[r+1],[T.o[r][0]-T.v[r][0],T.o[r][1]-T.v[r][1]],[T.i[r+1][0]-T.v[r+1][0],T.i[r+1][1]-T.v[r+1][1]]),s.tLength+=k.segmentLength,s.segments.push(k),m+=k.segmentLength;r=o,v.v.c&&(k=bez.buildBezierData(T.v[r],T.v[0],[T.o[r][0]-T.v[r][0],T.o[r][1]-T.v[r][1]],[T.i[0][0]-T.v[0][0],T.i[0][1]-T.v[0][1]]),s.tLength+=k.segmentLength,s.segments.push(k),m+=k.segmentLength),this._pathData.pi=s}if(d=0,u=1,l=0,h=!0,f=(s=this._pathData.pi).segments,(a=this._pathData.f.v)<0&&v.v.c)for(s.tLength<Math.abs(a)&&(a=-Math.abs(a)%s.tLength),u=(g=f[d=f.length-1].points).length-1;a<0;)a+=g[u].partialLength,(u-=1)<0&&(u=(g=f[d-=1].points).length-1);p=(g=f[d].points)[u-1],_=(c=g[u]).partialLength}o=w.length,n=0,i=0;var S,E,A,I,D,F=1.2*t.finalSize*.714,N=!0;A=b.length;var L,Z,R,q,U,B,j,z,V,H,G,Y,J=-1,Q=a,$=d,W=u,K=-1,X="",tt=this.defaultPropsArray;if(2===t.j||1===t.j){var et=0,nt=0,it=2===t.j?-.5:-1,rt=0,ot=!0;for(r=0;r<o;r+=1)if(w[r].n){for(et&&(et+=nt);rt<r;)w[rt].animatorJustifyOffset=et,rt+=1;et=0,ot=!0}else{for(E=0;E<A;E+=1)(S=b[E].a).t.propType&&(ot&&2===t.j&&(nt+=S.t.v*it),et+=(D=b[E].s.getMult(w[r].anIndexes[E],x.a[E].s.totalChars)).length?S.t.v*D[0]*it:S.t.v*D*it);ot=!1}for(et&&(et+=nt);rt<r;)w[rt].animatorJustifyOffset=et,rt+=1}for(r=0;r<o;r+=1){if(P.reset(),q=1,w[r].n)n=0,i+=t.yOffset,i+=N?1:0,a=Q,N=!1,this._hasMaskedPath&&(p=(g=f[d=$].points)[(u=W)-1],_=(c=g[u]).partialLength,l=0),X="",G="",V="",Y="",tt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(K!==w[r].line){switch(t.j){case 1:a+=m-t.lineWidths[w[r].line];break;case 2:a+=(m-t.lineWidths[w[r].line])/2}K=w[r].line}J!==w[r].ind&&(w[J]&&(a+=w[J].extra),a+=w[r].an/2,J=w[r].ind),a+=C[0]*w[r].an*.005;var st=0;for(E=0;E<A;E+=1)(S=b[E].a).p.propType&&(st+=(D=b[E].s.getMult(w[r].anIndexes[E],x.a[E].s.totalChars)).length?S.p.v[0]*D[0]:S.p.v[0]*D),S.a.propType&&(st+=(D=b[E].s.getMult(w[r].anIndexes[E],x.a[E].s.totalChars)).length?S.a.v[0]*D[0]:S.a.v[0]*D);for(h=!0;h;)l+_>=a+st||!g?(Z=p.point[0]+(c.point[0]-p.point[0])*(y=(a+st-l)/c.partialLength),R=p.point[1]+(c.point[1]-p.point[1])*y,P.translate(-C[0]*w[r].an*.005,-C[1]*F*.01),h=!1):g&&(l+=c.partialLength,(u+=1)>=g.length&&(u=0,f[d+=1]?g=f[d].points:v.v.c?(u=0,g=f[d=0].points):(l-=c.partialLength,g=null)),g&&(p=c,_=(c=g[u]).partialLength));P.translate(-(L=w[r].an/2-w[r].add),0,0)}else P.translate(-(L=w[r].an/2-w[r].add),0,0),P.translate(-C[0]*w[r].an*.005,-C[1]*F*.01,0);for(E=0;E<A;E+=1)(S=b[E].a).t.propType&&(D=b[E].s.getMult(w[r].anIndexes[E],x.a[E].s.totalChars),0===n&&0===t.j||(this._hasMaskedPath?a+=D.length?S.t.v*D[0]:S.t.v*D:n+=D.length?S.t.v*D[0]:S.t.v*D));for(t.strokeWidthAnim&&(B=t.sw||0),t.strokeColorAnim&&(U=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(j=[t.fc[0],t.fc[1],t.fc[2]]),E=0;E<A;E+=1)(S=b[E].a).a.propType&&((D=b[E].s.getMult(w[r].anIndexes[E],x.a[E].s.totalChars)).length?P.translate(-S.a.v[0]*D[0],-S.a.v[1]*D[1],S.a.v[2]*D[2]):P.translate(-S.a.v[0]*D,-S.a.v[1]*D,S.a.v[2]*D));for(E=0;E<A;E+=1)(S=b[E].a).s.propType&&((D=b[E].s.getMult(w[r].anIndexes[E],x.a[E].s.totalChars)).length?P.scale(1+(S.s.v[0]-1)*D[0],1+(S.s.v[1]-1)*D[1],1):P.scale(1+(S.s.v[0]-1)*D,1+(S.s.v[1]-1)*D,1));for(E=0;E<A;E+=1){if(S=b[E].a,D=b[E].s.getMult(w[r].anIndexes[E],x.a[E].s.totalChars),S.sk.propType&&(D.length?P.skewFromAxis(-S.sk.v*D[0],S.sa.v*D[1]):P.skewFromAxis(-S.sk.v*D,S.sa.v*D)),S.r.propType&&P.rotateZ(D.length?-S.r.v*D[2]:-S.r.v*D),S.ry.propType&&P.rotateY(D.length?S.ry.v*D[1]:S.ry.v*D),S.rx.propType&&P.rotateX(D.length?S.rx.v*D[0]:S.rx.v*D),S.o.propType&&(q+=D.length?(S.o.v*D[0]-q)*D[0]:(S.o.v*D-q)*D),t.strokeWidthAnim&&S.sw.propType&&(B+=D.length?S.sw.v*D[0]:S.sw.v*D),t.strokeColorAnim&&S.sc.propType)for(z=0;z<3;z+=1)U[z]+=D.length?(S.sc.v[z]-U[z])*D[0]:(S.sc.v[z]-U[z])*D;if(t.fillColorAnim&&t.fc){if(S.fc.propType)for(z=0;z<3;z+=1)j[z]+=D.length?(S.fc.v[z]-j[z])*D[0]:(S.fc.v[z]-j[z])*D;S.fh.propType&&(j=addHueToRGB(j,D.length?S.fh.v*D[0]:S.fh.v*D)),S.fs.propType&&(j=addSaturationToRGB(j,D.length?S.fs.v*D[0]:S.fs.v*D)),S.fb.propType&&(j=addBrightnessToRGB(j,D.length?S.fb.v*D[0]:S.fb.v*D))}}for(E=0;E<A;E+=1)(S=b[E].a).p.propType&&(D=b[E].s.getMult(w[r].anIndexes[E],x.a[E].s.totalChars),this._hasMaskedPath?D.length?P.translate(0,S.p.v[1]*D[0],-S.p.v[2]*D[1]):P.translate(0,S.p.v[1]*D,-S.p.v[2]*D):D.length?P.translate(S.p.v[0]*D[0],S.p.v[1]*D[1],-S.p.v[2]*D[2]):P.translate(S.p.v[0]*D,S.p.v[1]*D,-S.p.v[2]*D));if(t.strokeWidthAnim&&(V=B<0?0:B),t.strokeColorAnim&&(H="rgb("+Math.round(255*U[0])+","+Math.round(255*U[1])+","+Math.round(255*U[2])+")"),t.fillColorAnim&&t.fc&&(G="rgb("+Math.round(255*j[0])+","+Math.round(255*j[1])+","+Math.round(255*j[2])+")"),this._hasMaskedPath){if(P.translate(0,-t.ls),P.translate(0,C[1]*F*.01+i,0),x.p.p){var at=180*Math.atan((c.point[1]-p.point[1])/(c.point[0]-p.point[0]))/Math.PI;c.point[0]<p.point[0]&&(at+=180),P.rotate(-at*Math.PI/180)}P.translate(Z,R,0),a-=C[0]*w[r].an*.005,w[r+1]&&J!==w[r+1].ind&&(a+=w[r].an/2,a+=.001*t.tr*t.finalSize)}else{switch(P.translate(n,i,0),t.ps&&P.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:P.translate(w[r].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[w[r].line]),0,0);break;case 2:P.translate(w[r].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[w[r].line])/2,0,0)}P.translate(0,-t.ls),P.translate(L,0,0),P.translate(C[0]*w[r].an*.005,C[1]*F*.01,0),n+=w[r].l+.001*t.tr*t.finalSize}"html"===O?X=P.toCSS():"svg"===O?X=P.to2dCSS():tt=[P.props[0],P.props[1],P.props[2],P.props[3],P.props[4],P.props[5],P.props[6],P.props[7],P.props[8],P.props[9],P.props[10],P.props[11],P.props[12],P.props[13],P.props[14],P.props[15]],Y=q}M<=r?(I=new LetterProps(Y,V,H,G,X,tt),this.renderedLetters.push(I),M+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(I=this.renderedLetters[r]).update(Y,V,H,G,X,tt)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,n,i,r,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,s=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,s=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,s=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,s=!0),this.m!==r&&(this.m=r,this._mdf.m=!0,s=!0),!o.length||this.p[0]===o[0]&&this.p[1]===o[1]&&this.p[4]===o[4]&&this.p[5]===o[5]&&this.p[12]===o[12]&&this.p[13]===o[13]||(this.p=o,this._mdf.p=!0,s=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var i;this.lock=!0,this._mdf=!1;var r=this.effectsSequence.length,o=t||this.data.d.k[this.keysIndex].s;for(i=0;i<r;i+=1)o=this.effectsSequence[i](n!==this.keysIndex?o:this.currentData,o.t);e!==o&&this.setCurrentData(o),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,i=t.length;n<=i-1&&!(n===i-1||t[n+1].t>e);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,n=FontManager.getCombinedCharacterCodes(),i=[],r=0,o=t.length;r<o;)e=t.charCodeAt(r),-1!==n.indexOf(e)?i[i.length-1]+=t.charAt(r):e>=55296&&e<=56319&&(e=t.charCodeAt(r+1))>=56320&&e<=57343?(i.push(t.substr(r,2)),r+=1):i.push(t.charAt(r)),r+=1;return i},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,n,i,r,o,s,a,c=this.elem.globalData.fontManager,l=this.data,h=[],u=0,d=l.m.g,p=0,g=0,f=0,_=[],m=0,y=0,v=c.getFontByName(t.f),C=0,b=getFontProperties(v);t.fWeight=b.weight,t.fStyle=b.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),n=t.finalText.length,t.finalLineHeight=t.lh;var x,P=t.tr/1e3*t.finalSize;if(t.sz)for(var O,M,w=!0,k=t.sz[0],T=t.sz[1];w;){O=0,m=0,n=(M=this.buildFinalText(t.t)).length,P=t.tr/1e3*t.finalSize;var S=-1;for(e=0;e<n;e+=1)x=M[e].charCodeAt(0),i=!1," "===M[e]?S=e:13!==x&&3!==x||(m=0,i=!0,O+=t.finalLineHeight||1.2*t.finalSize),c.chars?(a=c.getCharData(M[e],v.fStyle,v.fFamily),C=i?0:a.w*t.finalSize/100):C=c.measureText(M[e],t.f,t.finalSize),m+C>k&&" "!==M[e]?(-1===S?n+=1:e=S,O+=t.finalLineHeight||1.2*t.finalSize,M.splice(e,S===e?1:0,"\r"),S=-1,m=0):(m+=C,m+=P);O+=v.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&T<O?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=M,n=t.finalText.length,w=!1)}m=-P,C=0;var E,A=0;for(e=0;e<n;e+=1)if(i=!1,13===(x=(E=t.finalText[e]).charCodeAt(0))||3===x?(A=0,_.push(m),y=m>y?m:y,m=-2*P,r="",i=!0,f+=1):r=E,c.chars?(a=c.getCharData(E,v.fStyle,c.getFontByName(t.f).fFamily),C=i?0:a.w*t.finalSize/100):C=c.measureText(r,t.f,t.finalSize)," "===E?A+=C+P:(m+=C+P+A,A=0),h.push({l:C,an:C,add:p,n:i,anIndexes:[],val:r,line:f,animatorJustifyOffset:0}),2==d){if(p+=C,""===r||" "===r||e===n-1){for(""!==r&&" "!==r||(p-=C);g<=e;)h[g].an=p,h[g].ind=u,h[g].extra=C,g+=1;u+=1,p=0}}else if(3==d){if(p+=C,""===r||e===n-1){for(""===r&&(p-=C);g<=e;)h[g].an=p,h[g].ind=u,h[g].extra=C,g+=1;p=0,u+=1}}else h[u].ind=u,h[u].extra=0,u+=1;if(t.l=h,y=m>y?m:y,_.push(m),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=y,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=_;var I,D,F,N,L=l.a;s=L.length;var Z=[];for(o=0;o<s;o+=1){for((I=L[o]).a.sc&&(t.strokeColorAnim=!0),I.a.sw&&(t.strokeWidthAnim=!0),(I.a.fc||I.a.fh||I.a.fs||I.a.fb)&&(t.fillColorAnim=!0),N=0,F=I.s.b,e=0;e<n;e+=1)(D=h[e]).anIndexes[o]=N,(1==F&&""!==D.val||2==F&&""!==D.val&&" "!==D.val||3==F&&(D.n||" "==D.val||e==n-1)||4==F&&(D.n||e==n-1))&&(1===I.s.rn&&Z.push(N),N+=1);l.a[o].s.totalChars=N;var R,q=-1;if(1===I.s.rn)for(e=0;e<n;e+=1)q!=(D=h[e]).anIndexes[o]&&(q=D.anIndexes[o],R=Z.splice(Math.floor(Math.random()*Z.length),1)[0]),D.anIndexes[o]=R}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=v.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){var n=this.copyData({},this.data.d.k[e=void 0===e?this.keysIndex:e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,n=Math.floor;function i(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return i.prototype={getMult:function(i){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var r=0,o=0,s=1,a=1;this.ne.v>0?r=this.ne.v/100:o=-this.ne.v/100,this.xe.v>0?s=1-this.xe.v/100:a=1+this.xe.v/100;var c=BezierFactory.getBezierEasing(r,o,s,a).get,l=0,h=this.finalS,u=this.finalE,d=this.data.sh;if(2===d)l=c(l=u===h?i>=u?1:0:t(0,e(.5/(u-h)+(i-h)/(u-h),1)));else if(3===d)l=c(l=u===h?i>=u?0:1:1-t(0,e(.5/(u-h)+(i-h)/(u-h),1)));else if(4===d)u===h?l=0:(l=t(0,e(.5/(u-h)+(i-h)/(u-h),1)))<.5?l*=2:l=1-2*(l-.5),l=c(l);else if(5===d){if(u===h)l=0;else{var p=u-h,g=-p/2+(i=e(t(0,i+.5-h),u-h)),f=p/2;l=Math.sqrt(1-g*g/(f*f))}l=c(l)}else 6===d?(u===h?l=0:(i=e(t(0,i+.5-h),u-h),l=(1+Math.cos(Math.PI+2*Math.PI*i/(u-h)))/2),l=c(l)):(i>=n(h)&&(l=t(0,e(i-h<0?e(u,1)-(h-i):u-i,1))),l=c(l));return l*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/e,i=this.s.v/e+n,r=this.e.v/e+n;if(i>r){var o=i;i=r,r=o}this.finalS=i,this.finalE=r}},extendPrototype([DynamicPropertyContainer],i),{getTextSelectorProp:function(t,e,n){return new i(t,e,n)}}}(),poolFactory=function(t,e,n){var i=0,r=t,o=createSizedArray(r);return{newElement:function(){return i?o[i-=1]:e()},release:function(t){i===r&&(o=pooling.double(o),r*=2),n&&n(t),o[i]=t,i+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},pointPool=poolFactory(8,function(){return createTypedArray("float32",2)}),shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(t){var e,n=t._length;for(e=0;e<n;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}),factory.clone=function(t){var e,n=factory.newElement(),i=void 0===t._length?t.v.length:t._length;for(n.setLength(i),n.c=t.c,e=0;e<i;e+=1)n.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return n},factory),factory,shapeCollectionPool=function(){var t={newShapeCollection:function(){return e?i[e-=1]:new ShapeCollection},release:function(t){var r,o=t._length;for(r=0;r<o;r+=1)shapePool.release(t.shapes[r]);t._length=0,e===n&&(i=pooling.double(i),n*=2),i[e]=t,e+=1}},e=0,n=4,i=createSizedArray(n);return t}(),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(t){var e,n=t.lengths.length;for(e=0;e<n;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0}),bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}),markerParser=function(){function t(t){for(var e,n=t.split("\r\n"),i={},r=0,o=0;o<n.length;o+=1)2===(e=n[o].split(":")).length&&(i[e[0]]=e[1].trim(),r+=1);if(0===r)throw new Error;return i}return function(e){for(var n=[],i=0;i<e.length;i+=1){var r=e[i],o={time:r.tm,duration:r.dr};try{o.payload=JSON.parse(e[i].cm)}catch(s){try{o.payload=t(e[i].cm)}catch(a){o.payload={name:e[i]}}}n.push(o)}return n}}();function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var i=createNS("title"),r=createElementID();i.setAttribute("id",r),i.textContent=e.title,this.svgElement.appendChild(i),n+=r}if(e&&e.description){var o=createNS("desc"),s=createElementID();o.setAttribute("id",s),o.textContent=e.description,this.svgElement.appendChild(o),n+=" "+s}n&&this.svgElement.setAttribute("aria-labelledby",n);var a=createNS("defs");this.svgElement.appendChild(a);var c=createNS("g");this.svgElement.appendChild(c),this.layerElement=c,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i,r,o=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var a,c,l,h,u,d,p=this.masksProperties,g=0,f=[],_=createElementID(),m="clipPath",y="clip-path";for(i=0;i<s;i+=1)if(("a"!==p[i].mode&&"n"!==p[i].mode||p[i].inv||100!==p[i].o.k||p[i].o.x)&&(m="mask",y="mask"),"s"!==p[i].mode&&"i"!==p[i].mode||0!==g?l=null:((l=createNS("rect")).setAttribute("fill","#ffffff"),l.setAttribute("width",this.element.comp.data.w||0),l.setAttribute("height",this.element.comp.data.h||0),f.push(l)),r=createNS("path"),"n"===p[i].mode)this.viewData[i]={op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3),elem:r,lastPath:""},o.appendChild(r);else{var v;if(g+=1,r.setAttribute("fill","s"===p[i].mode?"#000000":"#ffffff"),r.setAttribute("clip-rule","nonzero"),0!==p[i].x.k?(m="mask",y="mask",d=PropertyFactory.getProp(this.element,p[i].x,0,null,this.element),v=createElementID(),(h=createNS("filter")).setAttribute("id",v),(u=createNS("feMorphology")).setAttribute("operator","erode"),u.setAttribute("in","SourceGraphic"),u.setAttribute("radius","0"),h.appendChild(u),o.appendChild(h),r.setAttribute("stroke","s"===p[i].mode?"#000000":"#ffffff")):(u=null,d=null),this.storedData[i]={elem:r,x:d,expan:u,lastPath:"",lastOperator:"",filterId:v,lastRadius:0},"i"===p[i].mode){c=f.length;var C=createNS("g");for(a=0;a<c;a+=1)C.appendChild(f[a]);var b=createNS("mask");b.setAttribute("mask-type","alpha"),b.setAttribute("id",_+"_"+g),b.appendChild(r),o.appendChild(b),C.setAttribute("mask","url("+locationHref+"#"+_+"_"+g+")"),f.length=0,f.push(C)}else f.push(r);p[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:r,lastPath:"",op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3),invRect:l},this.viewData[i].prop.k||this.drawPath(p[i],this.viewData[i].prop.v,this.viewData[i])}for(this.maskElement=createNS(m),s=f.length,i=0;i<s;i+=1)this.maskElement.appendChild(f[i]);g>0&&(this.maskElement.setAttribute("id",_),this.element.maskedElement.setAttribute(y,"url("+locationHref+"#"+_+")"),o.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;for(var i=0,r=t.length;i<r;){if(t[i].mProps.dynamicProperties.length){this._isAnimated=!0;break}i+=1}}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,n,i=this.layers.length;for(this.completeLayers=!0,e=i-1;e>=0;e-=1)this.elements[e]||(n=this.layers[e]).ip-n.st<=t-this.layers[e].st&&n.op-n.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var n,i=t.length,r=this.layers.length;for(e=0;e<i;e+=1)for(n=0;n<r;){if(this.layers[n].id===t[e].id){this.layers[n]=t[e];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){for(var i=this.elements,r=this.layers,o=0,s=r.length;o<s;)r[o].ind==e&&(i[o]&&!0!==i[o]?(n.push(i[o]),i[o].setAsParent(),void 0!==r[o].parent?this.buildElementParenting(t,r[o].parent,n):t.setHierarchy(n)):(this.buildItem(o),this.addPendingElement(t))),o+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var i=this.createComp(t[e]);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),i=createNS("rect");i.setAttribute("width",t.w),i.setAttribute("height",t.h),i.setAttribute("x",0),i.setAttribute("y",0);var r=createElementID();n.setAttribute("id",r),n.appendChild(i),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+r+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var n=this.createItem(this.layers[t]);e[t]=n,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?n.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(n)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,n=this.elements.length;e<n;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){for(var i,r=0;r<e;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(i=this.elements[r].getBaseElement()),r+=1;i?this.layerElement.insertBefore(n,i):this.layerElement.appendChild(n)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var n=this.contextData.cTr.props;this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])}else this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e,n=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var i=this.contextData.saved[this.contextData.cArrPos];for(e=0;e<16;e+=1)i[e]=n[e];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,n=this.contextData.saved[this.contextData.cArrPos],i=this.contextData.cTr.props;for(e=0;e<16;e+=1)i[e]=n[e];this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),this.contextData.cO=n=this.contextData.savedOp[this.contextData.cArrPos],this.globalData.currentGlobalAlpha!==n&&(this.canvasContext.globalAlpha=n,this.globalData.currentGlobalAlpha=n)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var n="0px 0px 0px";e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,e["-webkit-transform"]=n,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,n,i;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",(t=this.animationItem.wrapper.offsetWidth)*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var r=this.renderConfig.preserveAspectRatio.split(" "),o=r[1]||"meet",s=r[0]||"xMidYMid",a=s.substr(0,4),c=s.substr(4);(i=this.transformCanvas.w/this.transformCanvas.h)>(n=t/e)&&"meet"===o||i<n&&"slice"===o?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===a&&(i<n&&"meet"===o||i>n&&"slice"===o)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===a&&(i<n&&"meet"===o||i>n&&"slice"===o)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===c&&(i>n&&"meet"===o||i<n&&"slice"===o)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===c&&(i>n&&"meet"===o||i<n&&"slice"===o)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var n;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var i=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=0;n<i;n+=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=i-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var i=this.layers[e];if(i.ddd&&this.supports3d)this.addTo3dContainer(n,e);else if(this.threeDElements)this.addTo3dContainer(n,e);else{for(var r,o,s=0;s<e;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(o=this.elements[s],r=(this.layers[s].ddd?this.getThreeDContainerByPos(s):o.getBaseElement())||r),s+=1;r?i.ddd&&this.supports3d||this.layerElement.insertBefore(n,r):i.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,n=this.threeDElements.length;e<n;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(t,e){var n,i,r=createTag("div");styleDiv(r);var o=createTag("div");if(styleDiv(o),"3d"===e){(n=r.style).width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";var s="50% 50%";n.webkitTransformOrigin=s,n.mozTransformOrigin=s,n.transformOrigin=s;var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(i=o.style).transform=a,i.webkitTransform=a}r.appendChild(o);var c={container:o,perspectiveElem:r,startPos:t,endPos:t,type:e};return this.threeDElements.push(c),c},HybridRenderer.prototype.build3dContainers=function(){var t,e,n=this.layers.length,i="";for(t=0;t<n;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==i&&(i="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==i&&(i="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(n=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var n=0,i=this.threeDElements.length;n<i;){if(e<=this.threeDElements[n].endPos){for(var r,o=this.threeDElements[n].startPos;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(r=this.elements[o].getBaseElement()),o+=1;r?this.threeDElements[n].container.insertBefore(t,r):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper,i=e.style;i.width=t.w+"px",i.height=t.h+"px",this.resizerElem=e,styleDiv(e),i.transformStyle="flat",i.mozTransformStyle="flat",i.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),i.overflow="hidden";var r=createNS("svg");r.setAttribute("width","1"),r.setAttribute("height","1"),styleDiv(r),this.resizerElem.appendChild(r);var o=createNS("defs");r.appendChild(o),this.data=t,this.setupGlobalData(t,r),this.globalData.defs=o,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,n,i,r=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>r/o?(t=r/this.globalData.compSize.w,e=r/this.globalData.compSize.w,n=0,i=(o-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(t=o/this.globalData.compSize.h,e=o/this.globalData.compSize.h,n=(r-this.globalData.compSize.w*(o/this.globalData.compSize.h))/2,i=0);var s=this.resizerElem.style;s.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+n+","+i+",0,1)",s.transform=s.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,n=this.globalData.compSize.h,i=this.threeDElements.length;for(t=0;t<i;t+=1){var r=this.threeDElements[t].perspectiveElem.style;r.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(n,2))+"px",r.perspective=r.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length,i=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var r=this.createComp(t[e],i,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,n=this.element.finalTransform.mat,i=this.masksProperties.length;for(e=0;e<i;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var r=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),r.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,(t+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,n){var i,r,o=" M"+e.v[0][0]+","+e.v[0][1];for(r=e._length,i=1;i<r;i+=1)o+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[i][0]+","+e.i[i][1]+" "+e.v[i][0]+","+e.v[i][1];if(e.c&&r>1&&(o+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==o){var s="";n.elem&&(e.c&&(s=t.inv?this.solidPath+o:o),n.elem.setAttribute("d",s)),n.lastPath=o}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var n,i=this.dynamicProperties.length;for(n=0;n<i;n+=1)(e||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,n=0,i=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<i;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(e.cloneFromProps(t=this.finalTransform.mProp.v.props),n=0;n<i;n+=1)e.transform((t=this.hierarchy[n].finalTransform.mProp.v.props)[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var n,i=!0,r=this.comp;i;)r.finalTransform?(r.data.hasMask&&e.splice(0,0,r.finalTransform),r=r.comp):i=!1;var o,s=e.length;for(n=0;n<s;n+=1)o=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-o[0],t[1]-o[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),i=createNS(1===e.t?"linearGradient":"radialGradient");i.setAttribute("id",n),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var r,o,s,a=[];for(s=4*e.g.p,o=0;o<s;o+=4)r=createNS("stop"),i.appendChild(r),a.push(r);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+n+")"),this.gf=i,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,i,r,o=createNS("mask"),s=createNS("path");o.appendChild(s);var a=createElementID(),c=createElementID();o.setAttribute("id",c);var l=createNS(1===t.t?"linearGradient":"radialGradient");l.setAttribute("id",a),l.setAttribute("spreadMethod","pad"),l.setAttribute("gradientUnits","userSpaceOnUse"),r=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var h=this.stops;for(i=4*t.g.p;i<r;i+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),l.appendChild(n),h.push(n);s.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+a+")"),this.of=l,this.ms=o,this.ost=h,this.maskId=c,e.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function n(t,e,n){(n||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(n||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function i(n,i,r){var o,s,a,c,l,h,u,d,p,g,f,_=i.styles.length,m=i.lvl;for(h=0;h<_;h+=1){if(c=i.sh._mdf||r,i.styles[h].lvl<m){for(d=e.reset(),g=m-i.styles[h].lvl,f=i.transformers.length-1;!c&&g>0;)c=i.transformers[f].mProps._mdf||c,g-=1,f-=1;if(c)for(g=m-i.styles[h].lvl,f=i.transformers.length-1;g>0;)d.transform((p=i.transformers[f].mProps.v.props)[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),g-=1,f-=1}else d=t;if(s=(u=i.sh.paths)._length,c){for(a="",o=0;o<s;o+=1)(l=u.shapes[o])&&l._length&&(a+=buildShapeString(l,l._length,l.c,d));i.caches[h]=a}else a=i.caches[h];i.styles[h].d+=!0===n.hd?"":a,i.styles[h]._mdf=c||i.styles[h]._mdf}}function r(t,e,n){var i=e.style;(e.c._mdf||n)&&i.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n)&&i.pElem.setAttribute("fill-opacity",e.o.v)}function o(t,e,n){s(t,e,n),a(0,e,n)}function s(t,e,n){var i,r,o,s,a,c=e.gf,l=e.g._hasOpacity,h=e.s.v,u=e.e.v;if((e.o._mdf||n)&&e.style.pElem.setAttribute("gf"===t.ty?"fill-opacity":"stroke-opacity",e.o.v),e.s._mdf||n){var d=1===t.t?"x1":"cx",p="x1"===d?"y1":"cy";c.setAttribute(d,h[0]),c.setAttribute(p,h[1]),l&&!e.g._collapsable&&(e.of.setAttribute(d,h[0]),e.of.setAttribute(p,h[1]))}if(e.g._cmdf||n){var g=e.g.c;for(o=(i=e.cst).length,r=0;r<o;r+=1)(s=i[r]).setAttribute("offset",g[4*r]+"%"),s.setAttribute("stop-color","rgb("+g[4*r+1]+","+g[4*r+2]+","+g[4*r+3]+")")}if(l&&(e.g._omdf||n)){var f=e.g.o;for(o=(i=e.g._collapsable?e.cst:e.ost).length,r=0;r<o;r+=1)s=i[r],e.g._collapsable||s.setAttribute("offset",f[2*r]+"%"),s.setAttribute("stop-opacity",f[2*r+1])}if(1===t.t)(e.e._mdf||n)&&(c.setAttribute("x2",u[0]),c.setAttribute("y2",u[1]),l&&!e.g._collapsable&&(e.of.setAttribute("x2",u[0]),e.of.setAttribute("y2",u[1])));else if((e.s._mdf||e.e._mdf||n)&&(a=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)),c.setAttribute("r",a),l&&!e.g._collapsable&&e.of.setAttribute("r",a)),e.e._mdf||e.h._mdf||e.a._mdf||n){a||(a=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)));var _=Math.atan2(u[1]-h[1],u[0]-h[0]),m=e.h.v;m>=1?m=.99:m<=-1&&(m=-.99);var y=a*m,v=Math.cos(_+e.a.v)*y+h[0],C=Math.sin(_+e.a.v)*y+h[1];c.setAttribute("fx",v),c.setAttribute("fy",C),l&&!e.g._collapsable&&(e.of.setAttribute("fx",v),e.of.setAttribute("fy",C))}}function a(t,e,n){var i=e.style,r=e.d;r&&(r._mdf||n)&&r.dashStr&&(i.pElem.setAttribute("stroke-dasharray",r.dashStr),i.pElem.setAttribute("stroke-dashoffset",r.dashoffset[0])),e.c&&(e.c._mdf||n)&&i.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n)&&i.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||n)&&(i.pElem.setAttribute("stroke-width",e.w.v),i.msElem&&i.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return r;case"gf":return s;case"gs":return o;case"st":return a;case"sh":case"el":case"rc":case"sr":return i;case"tr":return n;default:return null}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,n,i){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var r,o=4;"rc"===e.ty?o=5:"el"===e.ty?o=6:"sr"===e.ty&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,o,t);var s,a=n.length;for(r=0;r<a;r+=1)n[r].closed||(s={transforms:i.addTransformSequence(n[r].transforms),trNodes:[]},this.styledShapes.push(s),n[r].elements.push(s))}function BaseElement(){}function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,n){this.initElement(t,e,n)}function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(i),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function FootageElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,n)}function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var n=createNS("feColorMatrix");if(n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),t.appendChild(n),(n=createNS("feColorMatrix")).setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result","f2"),t.appendChild(n),this.matrixFilter=n,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var i,r=createNS("feMerge");t.appendChild(r),(i=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),r.appendChild(i),(i=createNS("feMergeNode")).setAttribute("in","f2"),r.appendChild(i)}}function SVGFillFilter(t,e){this.filterManager=e;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(n),this.matrixFilter=n}function SVGGaussianBlurEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var n=createNS("feGaussianBlur");t.appendChild(n),this.feGaussianBlur=n}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),t.appendChild(n);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),this.matrixFilter=i;var r=createNS("feFuncR");r.setAttribute("type","table"),i.appendChild(r),this.feFuncR=r;var o=createNS("feFuncG");o.setAttribute("type","table"),i.appendChild(o),this.feFuncG=o;var s=createNS("feFuncB");s.setAttribute("type","table"),i.appendChild(s),this.feFuncB=s}function SVGProLevelsFilter(t,e){this.filterManager=e;var n=this.filterManager.effectElements,i=createNS("feComponentTransfer");(n[10].p.k||0!==n[10].p.v||n[11].p.k||1!==n[11].p.v||n[12].p.k||1!==n[12].p.v||n[13].p.k||0!==n[13].p.v||n[14].p.k||1!==n[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(n[17].p.k||0!==n[17].p.v||n[18].p.k||1!==n[18].p.v||n[19].p.k||1!==n[19].p.v||n[20].p.k||0!==n[20].p.v||n[21].p.k||1!==n[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(n[24].p.k||0!==n[24].p.v||n[25].p.k||1!==n[25].p.v||n[26].p.k||1!==n[26].p.v||n[27].p.k||0!==n[27].p.v||n[28].p.k||1!==n[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(n[31].p.k||0!==n[31].p.v||n[32].p.k||1!==n[32].p.v||n[33].p.k||1!==n[33].p.v||n[34].p.k||0!==n[34].p.v||n[35].p.k||1!==n[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),i=createNS("feComponentTransfer")),(n[3].p.k||0!==n[3].p.v||n[4].p.k||1!==n[4].p.v||n[5].p.k||1!==n[5].p.v||n[6].p.k||0!==n[6].p.v||n[7].p.k||1!==n[7].p.v)&&(i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(t,e){var n=e.container.globalData.renderConfig.filterSize;t.setAttribute("x",n.x),t.setAttribute("y",n.y),t.setAttribute("width",n.width),t.setAttribute("height",n.height),this.filterManager=e;var i=createNS("feGaussianBlur");i.setAttribute("in","SourceAlpha"),i.setAttribute("result","drop_shadow_1"),i.setAttribute("stdDeviation","0"),this.feGaussianBlur=i,t.appendChild(i);var r=createNS("feOffset");r.setAttribute("dx","25"),r.setAttribute("dy","0"),r.setAttribute("in","drop_shadow_1"),r.setAttribute("result","drop_shadow_2"),this.feOffset=r,t.appendChild(r);var o=createNS("feFlood");o.setAttribute("flood-color","#00ff00"),o.setAttribute("flood-opacity","1"),o.setAttribute("result","drop_shadow_3"),this.feFlood=o,t.appendChild(o);var s=createNS("feComposite");s.setAttribute("in","drop_shadow_3"),s.setAttribute("in2","drop_shadow_2"),s.setAttribute("operator","in"),s.setAttribute("result","drop_shadow_4"),t.appendChild(s);var a,c=createNS("feMerge");t.appendChild(c),a=createNS("feMergeNode"),c.appendChild(a),(a=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=a,this.feMerge=c,this.originalNodeAdded=!1,c.appendChild(a)}ShapeTransformManager.prototype={addTransformSequence:function(t){var e,n=t.length,i="_";for(e=0;e<n;e+=1)i+=t[e].transform.key+"_";var r=this.sequences[i];return r||(r={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=r,this.sequenceList.push(r)),r},processSequence:function(t,e){for(var n,i=0,r=t.transforms.length,o=e;i<r&&!e;){if(t.transforms[i].transform.mProps._mdf){o=!0;break}i+=1}if(o)for(t.finalTransform.reset(),i=r-1;i>=0;i-=1)t.finalTransform.transform((n=t.transforms[i].transform.mProps.v.props)[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]);t._mdf=o},processSequences:function(t){var e,n=this.sequenceList.length;for(e=0;e<n;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,n){this.globalData=e,this.comp=n,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,n,i=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var r=createNS("mask");r.setAttribute("id",this.layerId),r.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),r.appendChild(this.layerElement),i=r,this.globalData.defs.appendChild(r),featureSupport.maskType||1!=this.data.td||(r.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(this.layerElement),i=n,r.appendChild(n),n.setAttribute("filter","url("+locationHref+"#"+t+")"))}else if(2==this.data.td){var o=createNS("mask");o.setAttribute("id",this.layerId),o.setAttribute("mask-type","alpha");var s=createNS("g");o.appendChild(s),t=createElementID(),e=filtersFactory.createFilter(t);var a=createNS("feComponentTransfer");a.setAttribute("in","SourceGraphic"),e.appendChild(a);var c=createNS("feFuncA");c.setAttribute("type","table"),c.setAttribute("tableValues","1.0 0.0"),a.appendChild(c),this.globalData.defs.appendChild(e);var l=createNS("rect");l.setAttribute("width",this.comp.data.w),l.setAttribute("height",this.comp.data.h),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("fill","#ffffff"),l.setAttribute("opacity","0"),s.setAttribute("filter","url("+locationHref+"#"+t+")"),s.appendChild(l),s.appendChild(this.layerElement),i=s,featureSupport.maskType||(o.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),s.appendChild(l),n.appendChild(this.layerElement),i=n,s.appendChild(n)),this.globalData.defs.appendChild(o)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),i=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var h=createNS("clipPath"),u=createNS("path");u.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var d=createElementID();if(h.setAttribute("id",d),h.appendChild(u),this.globalData.defs.appendChild(h),this.checkMasks()){var p=createNS("g");p.setAttribute("clip-path","url("+locationHref+"#"+d+")"),p.appendChild(this.layerElement),this.transformedElement=p,i?i.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+d+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,n=this.shapeModifiers.length;for(e=0;e<n;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,n=0,i=e.length;n<i;){if(e[n].elem===t)return e[n].pos;n+=1}return 0},addProcessedElement:function(t,e){for(var n=this.processedElements,i=n.length;i;)if(n[i-=1].elem===t)return void(n[i].pos=e);n.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var n,i,r=e.length,o="";for(n=0;n<r;n+=1)o+=buildShapeString(i=e[n].ks.k,i.i.length,!0,t);return o},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,i,r){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0)}e.translate(i,r,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=i-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},AudioElement.prototype.prepareFrame=function(t){this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this._currentTime=this.tm._placeholder?t/this.data.sr:this.tm.v},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this.audio.volume(t)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,n=t.length,i=[],r="";e<n;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(i.push(r),r=""):r+=t[e],e+=1;return i.push(r),i},SVGTextLottieElement.prototype.buildNewText=function(){var t,e,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),this.layerElement.setAttribute("fill",n.fc?this.buildColor(n.fc):"rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var i=this.globalData.fontManager.getFontByName(n.f);if(i.fClass)this.layerElement.setAttribute("class",i.fClass);else{this.layerElement.setAttribute("font-family",i.fFamily);var r=n.fWeight;this.layerElement.setAttribute("font-style",n.fStyle),this.layerElement.setAttribute("font-weight",r)}this.layerElement.setAttribute("aria-label",n.t);var o,s=n.l||[],a=!!this.globalData.fontManager.chars;e=s.length;var c,l=this.mHelper,h="",u=this.data.singleShape,d=0,p=0,g=!0,f=.001*n.tr*n.finalSize;if(!u||a||n.sz){var _,m,y=this.textSpans.length;for(t=0;t<e;t+=1)a&&u&&0!==t||(o=y>t?this.textSpans[t]:createNS(a?"path":"text"),y<=t&&(o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=o,this.layerElement.appendChild(o)),o.style.display="inherit"),l.reset(),l.scale(n.finalSize/100,n.finalSize/100),u&&(s[t].n&&(d=-f,p+=n.yOffset,p+=g?1:0,g=!1),this.applyTextPropertiesToMatrix(n,l,s[t].line,d,p),d+=s[t].l||0,d+=f),a?(c=(_=(m=this.globalData.fontManager.getCharData(n.finalText[t],i.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily))&&m.data||{}).shapes?_.shapes[0].it:[],u?h+=this.createPathShape(l,c):o.setAttribute("d",this.createPathShape(l,c))):(u&&o.setAttribute("transform","translate("+l.props[12]+","+l.props[13]+")"),o.textContent=s[t].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));u&&o&&o.setAttribute("d",h)}else{var v=this.textContainer,C="start";switch(n.j){case 1:C="end";break;case 2:C="middle";break;default:C="start"}v.setAttribute("text-anchor",C),v.setAttribute("letter-spacing",f);var b=this.buildTextContents(n.finalText);for(e=b.length,p=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)(o=this.textSpans[t]||createNS("tspan")).textContent=b[t],o.setAttribute("x",0),o.setAttribute("y",p),o.style.display="inherit",v.appendChild(o),this.textSpans[t]=o,p+=n.finalLineHeight;this.layerElement.appendChild(v)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var n,i,r=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(e=o.length,t=0;t<e;t+=1)o[t].n||(i=this.textSpans[t],(n=r[t])._mdf.m&&i.setAttribute("transform",n.m),n._mdf.o&&i.setAttribute("opacity",n.o),n._mdf.sw&&i.setAttribute("stroke-width",n.sw),n._mdf.sc&&i.setAttribute("stroke",n.sc),n._mdf.fc&&i.setAttribute("fill",n.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,n,i,r=this.shapes.length,o=this.stylesList.length,s=[],a=!1;for(n=0;n<o;n+=1){for(i=this.stylesList[n],a=!1,s.length=0,t=0;t<r;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(i)&&(s.push(e),a=e._isAnimated||a);s.length>1&&a&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,i=new SVGStyleData(t,e),r=i.pElem;return"st"===t.ty?n=new SVGStrokeStyleData(this,t,i):"fl"===t.ty?n=new SVGFillStyleData(this,t,i):"gf"!==t.ty&&"gs"!==t.ty||(n=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,i),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),r.setAttribute("mask","url("+locationHref+"#"+n.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(r.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),r.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),r.setAttribute("fill-opacity","0"),1===t.lj&&r.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&r.setAttribute("fill-rule","evenodd"),t.ln&&r.setAttribute("id",t.ln),t.cl&&r.setAttribute("class",t.cl),t.bm&&(r.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(i),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),i=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var i=4;"rc"===t.ty?i=5:"el"===t.ty?i=6:"sr"===t.ty&&(i=7);var r=new SVGShapeData(e,n,ShapePropertyFactory.getShapeProp(this,t,i,this));return this.shapes.push(r),this.addShapeToModifiers(r),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var n=0,i=this.animatedContents.length;n<i;){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,n=t.styles,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||n.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,i,r,o,s){var a,c,l,h,u,d=[].concat(o),p=t.length-1,g=[],f=[];for(a=p;a>=0;a-=1){if((u=this.searchProcessedElement(t[a]))?e[a]=n[u-1]:t[a]._render=s,"fl"===t[a].ty||"st"===t[a].ty||"gf"===t[a].ty||"gs"===t[a].ty)u?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],r),t[a]._render&&i.appendChild(e[a].style.pElem),g.push(e[a].style);else if("gr"===t[a].ty){if(u)for(l=e[a].it.length,c=0;c<l;c+=1)e[a].prevViewData[c]=e[a].it[c];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,e[a].gr,r+1,d,s),t[a]._render&&i.appendChild(e[a].gr)}else"tr"===t[a].ty?(u||(e[a]=this.createTransformElement(t[a],i)),d.push(e[a].transform)):"sh"===t[a].ty||"rc"===t[a].ty||"el"===t[a].ty||"sr"===t[a].ty?(u||(e[a]=this.createShapeElement(t[a],d,r)),this.setElementStyles(e[a])):"tm"===t[a].ty||"rd"===t[a].ty||"ms"===t[a].ty||"pb"===t[a].ty?(u?(h=e[a]).closed=!1:((h=ShapeModifiers.getModifier(t[a].ty)).init(this,t[a]),e[a]=h,this.shapeModifiers.push(h)),f.push(h)):"rp"===t[a].ty&&(u?(h=e[a]).closed=!0:(h=ShapeModifiers.getModifier(t[a].ty),e[a]=h,h.init(this,t,a,e),this.shapeModifiers.push(h),s=!1),f.push(h));this.addProcessedElement(t[a],a+1)}for(p=g.length,a=0;a<p;a+=1)g[a].closed=!0;for(p=f.length,a=0;a<p;a+=1)f[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,n=this.animatedContents.length;for(t=0;t<n;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v;this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+this.filterManager.effectElements[2].p.v/100+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==n?0:e)+" "+(2==n?0:e)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,n,i,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(i=this.elem.maskManager.masksProperties.length,n=0):i=1+(n=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);n<i;n+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:n});if(3===this.filterManager.effectElements[10].p.v){var o=createNS("mask"),s=createElementID();o.setAttribute("id",s),o.setAttribute("mask-type","alpha"),o.appendChild(e),this.elem.globalData.defs.appendChild(o);var a=createNS("g");for(a.setAttribute("mask","url("+locationHref+"#"+s+")");r[0];)a.appendChild(r[0]);this.elem.layerElement.appendChild(a),this.masker=o,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var n,i,r=this.paths.length;for(e=0;e<r;e+=1)if(-1!==this.paths[e].m&&(n=this.elem.maskManager.viewData[this.paths[e].m],i=this.paths[e].p,(t||this.filterManager._mdf||n.prop._mdf)&&i.setAttribute("d",n.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var o;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),c=i.getTotalLength();o="0 0 0 "+c*s+" ";var l,h=Math.floor(c*(a-s)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(l=0;l<h;l+=1)o+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";o+="0 "+10*c+" 0 0"}else o="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;i.setAttribute("stroke-dasharray",o)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var u=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*u[0])+","+bmFloor(255*u[1])+","+bmFloor(255*u[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,r=i[1]+" "+n[1]+" "+e[1],o=i[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i[0]+" "+n[0]+" "+e[0]),this.feFuncG.setAttribute("tableValues",r),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,i,r){for(var o,s,a=0,c=Math.min(t,e),l=Math.max(t,e),h=Array.call(null,{length:256}),u=0,d=r-i,p=e-t;a<=256;)s=(o=a/256)<=c?p<0?r:i:o>=l?p<0?i:r:i+d*Math.pow((o-t)/p,1/n),h[u]=s,u+=1,a+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,r=n*Math.cos(i),o=n*Math.sin(i);this.feOffset.setAttribute("dx",r),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGEffects(t){var e,n,i=t.data.ef?t.data.ef.length:0,r=createElementID(),o=filtersFactory.createFilter(r,!0),s=0;for(this.filters=[],e=0;e<i;e+=1)n=null,20===t.data.ef[e].ty?(s+=1,n=new SVGTintFilter(o,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(s+=1,n=new SVGFillFilter(o,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?n=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(s+=1,n=new SVGTritoneFilter(o,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(s+=1,n=new SVGProLevelsFilter(o,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(s+=1,n=new SVGDropShadowEffect(o,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?n=new SVGMatte3Effect(o,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(s+=1,n=new SVGGaussianBlurEffect(o,t.effectsManager.effectElements[e])),n&&this.filters.push(n);s&&(t.globalData.defs.appendChild(o),t.layerElement.setAttribute("filter","url("+locationHref+"#"+r+")")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){var t;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,n)}function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){var n;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i=this.masksProperties.length,r=!1;for(n=0;n<i;n+=1)"n"!==this.masksProperties[n].mode&&(r=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=r,r&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}function CVSolidElement(t,e,n){this.initElement(t,e,n)}function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}function CVEffects(){}function HBaseElement(){}function HSolidElement(t,e,n){this.initElement(t,e,n)}function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var i=PropertyFactory.getProp;if(this.pe=i(this,t.pe,0,0,this),t.ks.p.s?(this.px=i(this,t.ks.p.x,1,0,this),this.py=i(this,t.ks.p.y,1,0,this),this.pz=i(this,t.ks.p.z,1,0,this)):this.p=i(this,t.ks.p,1,0,this),t.ks.a&&(this.a=i(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var r,o=t.ks.or.k.length;for(r=0;r<o;r+=1)t.ks.or.k[r].to=null,t.ks.or.k[r].ti=null}this.or=i(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,t.ks.rx,0,degToRads,this),this.ry=i(this,t.ks.ry,0,degToRads,this),this.rz=i(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,n=_svgMatteSymbols.length;e<n;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){for(var i,r=n.children,o=0,s=r.length;o<s&&r[o]!==t.layerElement;)o+=1;o<=s-2&&(i=r[o+1]);var a=createNS("use");a.setAttribute("href","#"+e),i?n.insertBefore(a,i):n.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),i=createNS("mask");i.setAttribute("id",e.layerId),i.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var r=t.globalData.defs;r.appendChild(i);var o=createNS("symbol");o.setAttribute("id",n),this.replaceInParent(e,n),o.appendChild(e.layerElement),r.appendChild(o);var s=createNS("use");s.setAttribute("href","#"+n),i.appendChild(s),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,i=e.length;n<i;)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var n=0;for(n=this._length;n<t;n+=1)this.saved[n]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var t=0===this.data.ty;this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,n,i=t.getContext("2d"),r=this.img.width,o=this.img.height,s=r/o,a=this.assetData.w/this.assetData.h,c=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>a&&"xMidYMid slice"===c||s<a&&"xMidYMid slice"!==c?e=(n=o)*a:n=(e=r)/a,i.drawImage(this.img,(r-e)/2,(o-n)/2,e,n,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,n,i,r=this.element.finalTransform.mat,o=this.element.canvasContext,s=this.masksProperties.length;for(o.beginPath(),t=0;t<s;t+=1)if("n"!==this.masksProperties[t].mode){var a;this.masksProperties[t].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compSize.w,0),o.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),o.lineTo(0,this.element.globalData.compSize.h),o.lineTo(0,0)),e=r.applyToPointArray((i=this.viewData[t].v).v[0][0],i.v[0][1],0),o.moveTo(e[0],e[1]);var c=i._length;for(a=1;a<c;a+=1)n=r.applyToTriplePoints(i.o[a-1],i.i[a],i.v[a]),o.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=r.applyToTriplePoints(i.o[a-1],i.i[0],i.v[0]),o.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),o.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},i={};if("fl"===t.ty||"st"===t.ty?(i.c=PropertyFactory.getProp(this,t.c,1,255,this),i.c.k||(n.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(i.s=PropertyFactory.getProp(this,t.s,1,null,this),i.e=PropertyFactory.getProp(this,t.e,1,null,this),i.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),i.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),i.g=new GradientProperty(this,t.g,this)),i.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty){if(n.lc=this.lcEnum[t.lc]||"round",n.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(n.ml=t.ml),i.w=PropertyFactory.getProp(this,t.w,0,null,this),i.w.k||(n.wi=i.w.v),t.d){var r=new DashProperty(this,t.d,"canvas",this);i.d=r,i.d.k||(n.da=i.d.dashArray,n.do=i.d.dashoffset[0])}}else n.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(n),i.style=n,i},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,i,r){var o,s,a,c,l,h,u=t.length-1,d=[],p=[],g=[].concat(r);for(o=u;o>=0;o-=1){if((c=this.searchProcessedElement(t[o]))?e[o]=n[c-1]:t[o]._shouldRender=i,"fl"===t[o].ty||"st"===t[o].ty||"gf"===t[o].ty||"gs"===t[o].ty)c?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],g),d.push(e[o].style);else if("gr"===t[o].ty){if(c)for(a=e[o].it.length,s=0;s<a;s+=1)e[o].prevViewData[s]=e[o].it[s];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,i,g)}else"tr"===t[o].ty?(c||(h=this.createTransformElement(t[o]),e[o]=h),g.push(e[o]),this.addTransformToStyleList(e[o])):"sh"===t[o].ty||"rc"===t[o].ty||"el"===t[o].ty||"sr"===t[o].ty?c||(e[o]=this.createShapeElement(t[o])):"tm"===t[o].ty||"rd"===t[o].ty||"pb"===t[o].ty?(c?(l=e[o]).closed=!1:((l=ShapeModifiers.getModifier(t[o].ty)).init(this,t[o]),e[o]=l,this.shapeModifiers.push(l)),p.push(l)):"rp"===t[o].ty&&(c?(l=e[o]).closed=!0:(l=ShapeModifiers.getModifier(t[o].ty),e[o]=l,l.init(this,t,o,e),this.shapeModifiers.push(l),i=!1),p.push(l));this.addProcessedElement(t[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),u=p.length,o=0;o<u;o+=1)p[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,n,i,r,o,s,a,c,l=this.stylesList.length,h=this.globalData.renderer,u=this.globalData.canvasContext;for(t=0;t<l;t+=1)if(("st"!==(a=(c=this.stylesList[t]).type)&&"gs"!==a||0!==c.wi)&&c.data._shouldRender&&0!==c.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),o=c.elements,"st"===a||"gs"===a?(u.strokeStyle="st"===a?c.co:c.grd,u.lineWidth=c.wi,u.lineCap=c.lc,u.lineJoin=c.lj,u.miterLimit=c.ml||0):u.fillStyle="fl"===a?c.co:c.grd,h.ctxOpacity(c.coOp),"st"!==a&&"gs"!==a&&u.beginPath(),h.ctxTransform(c.preTransforms.finalTransform.props),n=o.length,e=0;e<n;e+=1){for("st"!==a&&"gs"!==a||(u.beginPath(),c.da&&(u.setLineDash(c.da),u.lineDashOffset=c.do)),r=(s=o[e].trNodes).length,i=0;i<r;i+=1)"m"===s[i].t?u.moveTo(s[i].p[0],s[i].p[1]):"c"===s[i].t?u.bezierCurveTo(s[i].pts[0],s[i].pts[1],s[i].pts[2],s[i].pts[3],s[i].pts[4],s[i].pts[5]):u.closePath();"st"!==a&&"gs"!==a||(u.stroke(),c.da&&u.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&u.fill(c.r),h.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,i){var r,o;for(o=t,r=e.length-1;r>=0;r-=1)"tr"===e[r].ty?this.renderShapeTransform(t,o=n[r].transform):"sh"===e[r].ty||"el"===e[r].ty||"rc"===e[r].ty||"sr"===e[r].ty?this.renderPath(e[r],n[r]):"fl"===e[r].ty?this.renderFill(e[r],n[r],o):"st"===e[r].ty?this.renderStroke(e[r],n[r],o):"gf"===e[r].ty||"gs"===e[r].ty?this.renderGradientFill(e[r],n[r],o):"gr"===e[r].ty&&this.renderShape(o,e[r].it,n[r].it);i&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n,i,r,o=t.trNodes,s=e.paths,a=s._length;o.length=0;var c=t.transforms.finalTransform;for(r=0;r<a;r+=1){var l=s.shapes[r];if(l&&l.v){for(i=l._length,n=1;n<i;n+=1)1===n&&o.push({t:"m",p:c.applyToPointArray(l.v[0][0],l.v[0][1],0)}),o.push({t:"c",pts:c.applyToTriplePoints(l.o[n-1],l.i[n],l.v[n])});1===i&&o.push({t:"m",p:c.applyToPointArray(l.v[0][0],l.v[0][1],0)}),l.c&&i&&(o.push({t:"c",pts:c.applyToTriplePoints(l.o[n-1],l.i[0],l.v[0])}),o.push({t:"z"}))}}t.trNodes=o}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var n,i=e.styledShapes.length;for(n=0;n<i;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var i=e.style;(e.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var i,r=e.style;if(!r.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var o,s=this.globalData.canvasContext,a=e.s.v,c=e.e.v;if(1===t.t)i=s.createLinearGradient(a[0],a[1],c[0],c[1]);else{var l=Math.sqrt(Math.pow(a[0]-c[0],2)+Math.pow(a[1]-c[1],2)),h=Math.atan2(c[1]-a[1],c[0]-a[0]),u=e.h.v;u>=1?u=.99:u<=-1&&(u=-.99);var d=l*u,p=Math.cos(h+e.a.v)*d+a[0],g=Math.sin(h+e.a.v)*d+a[1];i=s.createRadialGradient(p,g,0,a[0],a[1],l)}var f=t.g.p,_=e.g.c,m=1;for(o=0;o<f;o+=1)e.g._hasOpacity&&e.g._collapsable&&(m=e.g.o[2*o+1]),i.addColorStop(_[4*o]/100,"rgba("+_[4*o+1]+","+_[4*o+2]+","+_[4*o+3]+","+m+")");r.grd=i}r.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var i=e.style,r=e.d;r&&(r._mdf||this._isFirstFrame)&&(i.da=r.dashArray,i.do=r.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(i.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var i,r,o,s,a,c,l,h,u,d,p,g,f=this.globalData.fontManager.getFontByName(t.f),_=t.l,m=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,r=t.finalText.length;var y=this.data.singleShape,v=.001*t.tr*t.finalSize,C=0,b=0,x=!0,P=0;for(i=0;i<r;i+=1){for(s=(o=this.globalData.fontManager.getCharData(t.finalText[i],f.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&o.data||{},m.reset(),y&&_[i].n&&(C=-v,b+=t.yOffset,b+=x?1:0,x=!1),u=(l=s.shapes?s.shapes[0].it:[]).length,m.scale(t.finalSize/100,t.finalSize/100),y&&this.applyTextPropertiesToMatrix(t,m,_[i].line,C,b),p=createSizedArray(u),h=0;h<u;h+=1){for(c=l[h].ks.k.i.length,d=l[h].ks.k,g=[],a=1;a<c;a+=1)1===a&&g.push(m.applyToX(d.v[0][0],d.v[0][1],0),m.applyToY(d.v[0][0],d.v[0][1],0)),g.push(m.applyToX(d.o[a-1][0],d.o[a-1][1],0),m.applyToY(d.o[a-1][0],d.o[a-1][1],0),m.applyToX(d.i[a][0],d.i[a][1],0),m.applyToY(d.i[a][0],d.i[a][1],0),m.applyToX(d.v[a][0],d.v[a][1],0),m.applyToY(d.v[a][0],d.v[a][1],0));g.push(m.applyToX(d.o[a-1][0],d.o[a-1][1],0),m.applyToY(d.o[a-1][0],d.o[a-1][1],0),m.applyToX(d.i[0][0],d.i[0][1],0),m.applyToY(d.i[0][0],d.i[0][1],0),m.applyToX(d.v[0][0],d.v[0][1],0),m.applyToY(d.v[0][0],d.v[0][1],0)),p[h]=g}y&&(C+=_[i].l,C+=v),this.textSpans[P]?this.textSpans[P].elem=p:this.textSpans[P]={elem:p},P+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,n,i,r,o,s=this.canvasContext;s.font=this.values.fValue,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,c=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;e=l.length;var h,u,d=null,p=null,g=null;for(t=0;t<e;t+=1)if(!l[t].n){if((a=c[t])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(a.p),this.globalData.renderer.ctxOpacity(a.o)),this.fill){for(a&&a.fc?d!==a.fc&&(d=a.fc,s.fillStyle=a.fc):d!==this.values.fill&&(d=this.values.fill,s.fillStyle=this.values.fill),i=(h=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<i;n+=1)for(o=(u=h[n]).length,this.globalData.canvasContext.moveTo(u[0],u[1]),r=2;r<o;r+=6)this.globalData.canvasContext.bezierCurveTo(u[r],u[r+1],u[r+2],u[r+3],u[r+4],u[r+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(a&&a.sw?g!==a.sw&&(g=a.sw,s.lineWidth=a.sw):g!==this.values.sWidth&&(g=this.values.sWidth,s.lineWidth=this.values.sWidth),a&&a.sc?p!==a.sc&&(p=a.sc,s.strokeStyle=a.sc):p!==this.values.stroke&&(p=this.values.stroke,s.strokeStyle=this.values.stroke),i=(h=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<i;n+=1)for(o=(u=h[n]).length,this.globalData.canvasContext.moveTo(u[0],u[1]),r=2;r<o;r+=6)this.globalData.canvasContext.bezierCurveTo(u[r],u[r+1],u[r+2],u[r+3],u[r+4],u[r+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}a&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var n,i=0;i<e;)this.elements[i]&&this.elements[i].getBaseElement&&(n=this.elements[i].getBaseElement()),i+=1;n?this.layerElement.insertBefore(t,n):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,i=t.length;for(n=0;n<i;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n,i,r,o,s,a=t.sh.v,c=t.transformers,l=a._length;if(!(l<=1)){for(n=0;n<l-1;n+=1)i=this.getTransformedPoint(c,a.v[n]),r=this.getTransformedPoint(c,a.o[n]),o=this.getTransformedPoint(c,a.i[n+1]),s=this.getTransformedPoint(c,a.v[n+1]),this.checkBounds(i,r,o,s,e);a.c&&(i=this.getTransformedPoint(c,a.v[n]),r=this.getTransformedPoint(c,a.o[n]),o=this.getTransformedPoint(c,a.i[0]),s=this.getTransformedPoint(c,a.v[0]),this.checkBounds(i,r,o,s,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,i,r){this.getBoundsOfCurve(t,e,n,i);var o=this.shapeBoundingBox;r.x=bmMin(o.left,r.x),r.xMax=bmMax(o.right,r.xMax),r.y=bmMin(o.top,r.y),r.yMax=bmMax(o.bottom,r.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,i){for(var r,o,s,a,c,l,h,u=[[t[0],i[0]],[t[1],i[1]]],d=0;d<2;++d)o=6*t[d]-12*e[d]+6*n[d],r=-3*t[d]+9*e[d]-9*n[d]+3*i[d],s=3*e[d]-3*t[d],o|=0,s|=0,0==(r|=0)&&0===o||(0===r?(a=-s/o)>0&&a<1&&u[d].push(this.calculateF(a,t,e,n,i,d)):(c=o*o-4*s*r)>=0&&((l=(-o+bmSqrt(c))/(2*r))>0&&l<1&&u[d].push(this.calculateF(l,t,e,n,i,d)),(h=(-o-bmSqrt(c))/(2*r))>0&&h<1&&u[d].push(this.calculateF(h,t,e,n,i,d))));this.shapeBoundingBox.left=bmMin.apply(null,u[0]),this.shapeBoundingBox.top=bmMin.apply(null,u[1]),this.shapeBoundingBox.right=bmMax.apply(null,u[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,u[1])},HShapeElement.prototype.calculateF=function(t,e,n,i,r,o){return bmPow(1-t,3)*e[o]+3*bmPow(1-t,2)*t*n[o]+3*(1-t)*bmPow(t,2)*i[o]+bmPow(t,3)*r[o]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,i=t.length;for(n=0;n<i;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it&&this.calculateBoundingBox(t[n].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var i=this.shapeCont.style,r="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";i.transform=r,i.webkitTransform=r}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=n,e.color=n,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var i,r,o=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",o.fClass)this.innerElem.className=o.fClass;else{e.fontFamily=o.fFamily;var s=t.fWeight;e.fontStyle=t.fStyle,e.fontWeight=s}var a,c,l,h=t.l;r=h.length;var u,d=this.mHelper,p="",g=0;for(i=0;i<r;i+=1){if(this.globalData.fontManager.chars?(this.textPaths[g]?a=this.textPaths[g]:((a=createNS("path")).setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[g]?l=(c=this.textSpans[g]).children[0]:((c=createTag("div")).style.lineHeight=0,(l=createNS("svg")).appendChild(a),styleDiv(c)))):this.isMasked?a=this.textPaths[g]?this.textPaths[g]:createNS("text"):this.textSpans[g]?(c=this.textSpans[g],a=this.textPaths[g]):(styleDiv(c=createTag("span")),styleDiv(a=createTag("span")),c.appendChild(a)),this.globalData.fontManager.chars){var f,_=this.globalData.fontManager.getCharData(t.finalText[i],o.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(f=_?_.data:null,d.reset(),f&&f.shapes&&(u=f.shapes[0].it,d.scale(t.finalSize/100,t.finalSize/100),p=this.createPathShape(d,u),a.setAttribute("d",p)),this.isMasked)this.innerElem.appendChild(a);else{if(this.innerElem.appendChild(c),f&&f.shapes){document.body.appendChild(l);var m=l.getBBox();l.setAttribute("width",m.width+2),l.setAttribute("height",m.height+2),l.setAttribute("viewBox",m.x-1+" "+(m.y-1)+" "+(m.width+2)+" "+(m.height+2));var y=l.style,v="translate("+(m.x-1)+"px,"+(m.y-1)+"px)";y.transform=v,y.webkitTransform=v,h[i].yOffset=m.y-1}else l.setAttribute("width",1),l.setAttribute("height",1);c.appendChild(l)}}else if(a.textContent=h[i].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(a);else{this.innerElem.appendChild(c);var C=a.style,b="translate3d(0,"+-t.finalSize/1.2+"px,0)";C.transform=b,C.webkitTransform=b}this.textSpans[g]=this.isMasked?a:c,this.textSpans[g].style.display="block",this.textPaths[g]=a,g+=1}for(;g<this.textSpans.length;)this.textSpans[g].style.display="none",g+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";(t=this.svgElement.style).transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var n,i,r,o,s,a=0,c=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;for(i=l.length,n=0;n<i;n+=1)l[n].n?a+=1:(o=this.textSpans[n],s=this.textPaths[n],r=c[a],a+=1,r._mdf.m&&(this.isMasked?o.setAttribute("transform",r.m):(o.style.webkitTransform=r.m,o.style.transform=r.m)),o.style.opacity=r.o,r.sw&&r._mdf.sw&&s.setAttribute("stroke-width",r.sw),r.sc&&r._mdf.sc&&s.setAttribute("stroke",r.sc),r.fc&&r._mdf.fc&&(s.setAttribute("fill",r.fc),s.style.color=r.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var h=this.innerElem.getBBox();if(this.currentBBox.w!==h.width&&(this.currentBBox.w=h.width,this.svgElement.setAttribute("width",h.width)),this.currentBBox.h!==h.height&&(this.currentBBox.h=h.height,this.svgElement.setAttribute("height",h.height)),this.currentBBox.w!==h.width+2||this.currentBBox.h!==h.height+2||this.currentBBox.x!==h.x-1||this.currentBBox.y!==h.y-1){this.currentBBox.w=h.width+2,this.currentBBox.h=h.height+2,this.currentBBox.x=h.x-1,this.currentBBox.y=h.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var u="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";(t=this.svgElement.style).transform=u,t.webkitTransform=u}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,n,i,r=this.comp.threeDElements.length;for(t=0;t<r;t+=1)if("3d"===(e=this.comp.threeDElements[t]).type){i=e.container.style;var o=this.pe.v+"px",s="0px 0px 0px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(n=e.perspectiveElem.style).perspective=o,n.webkitPerspective=o,i.transformOrigin=s,i.mozTransformOrigin=s,i.webkitTransformOrigin=s,n.transform=a,n.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,n=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)n=this.hierarchy[t].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var i=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-i.p.v[0],-i.p.v[1],i.p.v[2]),this.mat.rotateX(-i.or.v[0]).rotateY(-i.or.v[1]).rotateZ(i.or.v[2]),this.mat.rotateX(-i.rx.v).rotateY(-i.ry.v).rotateZ(i.rz.v),this.mat.scale(1/i.s.v[0],1/i.s.v[1],1/i.s.v[2]),this.mat.translate(i.a.v[0],i.a.v[1],i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var r;r=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var o=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)),s=[r[0]/o,r[1]/o,r[2]/o],a=Math.sqrt(s[2]*s[2]+s[0]*s[0]),c=Math.atan2(s[1],a),l=Math.atan2(s[0],-s[2]);this.mat.rotateY(l).rotateX(-c)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var h=!this._prevMat.equals(this.mat);if((h||this.pe._mdf)&&this.comp.threeDElements){var u,d,p;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if("3d"===(u=this.comp.threeDElements[t]).type){if(h){var g=this.mat.toCSS();(p=u.container.style).transform=g,p.webkitTransform=g}this.pe._mdf&&((d=u.perspectiveElem.style).perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var t={},e=[],n=0,i=0,r=0,o=!0,s=!1;function a(t){for(var n=0,r=t.target;n<i;)e[n].animation===r&&(e.splice(n,1),n-=1,i-=1,r.isPaused||h()),n+=1}function c(t,n){if(!t)return null;for(var r=0;r<i;){if(e[r].elem===t&&null!==e[r].elem)return e[r].animation;r+=1}var o=new AnimationItem;return u(o,t),o.setData(t,n),o}function l(){r+=1,g()}function h(){r-=1}function u(t,n){t.addEventListener("destroy",a),t.addEventListener("_active",l),t.addEventListener("_idle",h),e.push({elem:n,animation:t}),i+=1}function d(t){var a,c=t-n;for(a=0;a<i;a+=1)e[a].animation.advanceTime(c);n=t,r&&!s?window.requestAnimationFrame(d):o=!0}function p(t){n=t,window.requestAnimationFrame(d)}function g(){!s&&r&&o&&(window.requestAnimationFrame(p),o=!1)}return t.registerAnimation=c,t.loadAnimation=function(t){var e=new AnimationItem;return u(e,null),e.setParams(t),e},t.setSpeed=function(t,n){var r;for(r=0;r<i;r+=1)e[r].animation.setSpeed(t,n)},t.setDirection=function(t,n){var r;for(r=0;r<i;r+=1)e[r].animation.setDirection(t,n)},t.play=function(t){var n;for(n=0;n<i;n+=1)e[n].animation.play(t)},t.pause=function(t){var n;for(n=0;n<i;n+=1)e[n].animation.pause(t)},t.stop=function(t){var n;for(n=0;n<i;n+=1)e[n].animation.stop(t)},t.togglePause=function(t){var n;for(n=0;n<i;n+=1)e[n].animation.togglePause(t)},t.searchAnimations=function(t,e,n){var i,r=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),o=r.length;for(i=0;i<o;i+=1)n&&r[i].setAttribute("data-bm-type",n),c(r[i],t);if(e&&0===o){n||(n="svg");var s=document.getElementsByTagName("body")[0];s.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",n),s.appendChild(a),c(a,t)}},t.resize=function(){var t;for(t=0;t<i;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,n,r){var o;for(o=0;o<i;o+=1)e[o].animation.goToAndStop(t,n,r)},t.destroy=function(t){var n;for(n=i-1;n>=0;n-=1)e[n].animation.destroy(t)},t.freeze=function(){s=!0},t.unfreeze=function(){s=!1,g()},t.setVolume=function(t,n){var r;for(r=0;r<i;r+=1)e[r].animation.setVolume(t,n)},t.mute=function(t){var n;for(n=0;n<i;n+=1)e[n].animation.mute(t)},t.unmute=function(t){var n;for(n=0;n<i;n+=1)e[n].animation.unmute(t)},t.getRegisteredAnimations=function(){var t,n=e.length,i=[];for(t=0;t<n;t+=1)i.push(e[t].animation);return i},t}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[]};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";switch(t.animType?e=t.animType:t.renderer&&(e=t.renderer),e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,this.loop=""===t.loop||null==t.loop||!0===t.loop||!1!==t.loop&&parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.configAnimation(t.animationData):t.path&&(this.path=-1!==t.path.lastIndexOf("\\")?t.path.substr(0,t.path.lastIndexOf("\\")+1):t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(t.path,this.configAnimation.bind(this),(function(){this.trigger("data_failed")}).bind(this)))},AnimationItem.prototype.setData=function(t,e){e&&"object"!=typeof e&&(e=JSON.parse(e));var n={wrapper:t,animationData:e},i=t.attributes;n.path=i.getNamedItem("data-animation-path")?i.getNamedItem("data-animation-path").value:i.getNamedItem("data-bm-path")?i.getNamedItem("data-bm-path").value:i.getNamedItem("bm-path")?i.getNamedItem("bm-path").value:"",n.animType=i.getNamedItem("data-anim-type")?i.getNamedItem("data-anim-type").value:i.getNamedItem("data-bm-type")?i.getNamedItem("data-bm-type").value:i.getNamedItem("bm-type")?i.getNamedItem("bm-type").value:i.getNamedItem("data-bm-renderer")?i.getNamedItem("data-bm-renderer").value:i.getNamedItem("bm-renderer")?i.getNamedItem("bm-renderer").value:"canvas";var r=i.getNamedItem("data-anim-loop")?i.getNamedItem("data-anim-loop").value:i.getNamedItem("data-bm-loop")?i.getNamedItem("data-bm-loop").value:i.getNamedItem("bm-loop")?i.getNamedItem("bm-loop").value:"";"false"===r?n.loop=!1:"true"===r?n.loop=!0:""!==r&&(n.loop=parseInt(r,10));var o=i.getNamedItem("data-anim-autoplay")?i.getNamedItem("data-anim-autoplay").value:i.getNamedItem("data-bm-autoplay")?i.getNamedItem("data-bm-autoplay").value:!i.getNamedItem("bm-autoplay")||i.getNamedItem("bm-autoplay").value;n.autoplay="false"!==o,n.name=i.getNamedItem("data-name")?i.getNamedItem("data-name").value:i.getNamedItem("data-bm-name")?i.getNamedItem("data-bm-name").value:i.getNamedItem("bm-name")?i.getNamedItem("bm-name").value:"","false"===(i.getNamedItem("data-anim-prerender")?i.getNamedItem("data-anim-prerender").value:i.getNamedItem("data-bm-prerender")?i.getNamedItem("data-bm-prerender").value:i.getNamedItem("bm-prerender")?i.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),this.setParams(n)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,n,i=this.animationData.layers,r=i.length,o=t.layers,s=o.length;for(n=0;n<s;n+=1)for(e=0;e<r;){if(i[e].id===o[n].id){i[e]=o[n];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(r=t.assets.length,e=0;e<r;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(n,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,n=0;n<this.markers.length;n+=1)if((e=this.markers[n]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,n){if(!n||this.name===n){var i=Number(t);if(isNaN(i)){var r=this.getMarkerData(t);r&&this.goToAndStop(r.time,!0)}else this.setCurrentRawFrameValue(e?t:t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,n){if(!n||this.name===n){var i=Number(t);if(isNaN(i)){var r=this.getMarkerData(t);r&&(r.duration?this.playSegments([r.time,r.time+r.duration],!0):this.goToAndStop(r.time,!0))}else this.goToAndStop(i,e,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0]){var n,i=t.length;for(n=0;n<i;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,n=this.assets.length;e<n;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var Expressions={initExpressions:function(t){var e=0,n=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=n.length;for(t=0;t<e;t+=1)n[t].release();n.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===n.indexOf(t)&&n.push(t)}}};expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var n,i=t.length,r=[];for(n=0;n<i;n+=1)r[n]=-t[n];return r}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=typeof t,i=typeof e;if("string"===n||"string"===i)return t+e;if(isNumerable(n,t)&&isNumerable(i,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var r=0,o=t.length,s=e.length,a=[];r<o||r<s;)a[r]=("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?t[r]+e[r]:void 0===e[r]?t[r]:t[r]||e[r],r+=1;return a}return 0}var add=sum;function sub(t,e){var n=typeof t,i=typeof e;if(isNumerable(n,t)&&isNumerable(i,e))return"string"===n&&(t=parseInt(t,10)),"string"===i&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var r=0,o=t.length,s=e.length,a=[];r<o||r<s;)a[r]=("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?t[r]-e[r]:void 0===e[r]?t[r]:t[r]||e[r],r+=1;return a}return 0}function mul(t,e){var n,i,r,o=typeof t,s=typeof e;if(isNumerable(o,t)&&isNumerable(s,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(n=createTypedArray("float32",r=t.length),i=0;i<r;i+=1)n[i]=t[i]*e;return n}if(isNumerable(o,t)&&$bm_isInstanceOfArray(e)){for(n=createTypedArray("float32",r=e.length),i=0;i<r;i+=1)n[i]=t*e[i];return n}return 0}function div(t,e){var n,i,r,o=typeof t,s=typeof e;if(isNumerable(o,t)&&isNumerable(s,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(n=createTypedArray("float32",r=t.length),i=0;i<r;i+=1)n[i]=t[i]/e;return n}if(isNumerable(o,t)&&$bm_isInstanceOfArray(e)){for(n=createTypedArray("float32",r=e.length),i=0;i<r;i+=1)n[i]=t/e[i];return n}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof e&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var i=n;n=e,e=i}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return Math.abs(t-(e=e||0));var n;e||(e=helperLengthArray);var i=Math.min(t.length,e.length),r=0;for(n=0;n<i;n+=1)r+=Math.pow(e[n]-t[n],2);return Math.sqrt(r)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,n,i=t[0],r=t[1],o=t[2],s=Math.max(i,r,o),a=Math.min(i,r,o),c=(s+a)/2;if(s===a)e=0,n=0;else{var l=s-a;switch(n=c>.5?l/(2-s-a):l/(s+a),s){case i:e=(r-o)/l+(r<o?6:0);break;case r:e=(o-i)/l+2;break;case o:e=(i-r)/l+4}e/=6}return[e,n,c,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e,n,i,r=t[0],o=t[1],s=t[2];if(0===o)e=s,i=s,n=s;else{var a=s<.5?s*(1+o):s+o-s*o,c=2*s-a;e=hue2rgb(c,a,r+1/3),n=hue2rgb(c,a,r),i=hue2rgb(c,a,r-1/3)}return[e,n,i,t[3]]}function linear(t,e,n,i,r){if(void 0!==i&&void 0!==r||(i=e,r=n,e=0,n=1),n<e){var o=n;n=e,e=o}if(t<=e)return i;if(t>=n)return r;var s,a=n===e?0:(t-e)/(n-e);if(!i.length)return i+(r-i)*a;var c=i.length,l=createTypedArray("float32",c);for(s=0;s<c;s+=1)l[s]=i[s]+(r[s]-i[s])*a;return l}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var n,i=e.length;t||(t=createTypedArray("float32",i));var r=createTypedArray("float32",i),o=BMMath.random();for(n=0;n<i;n+=1)r[n]=t[n]+o*(e[n]-t[n]);return r}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,n,i){var r,o=t.length,s=shapePool.newElement();s.setPathData(!!i,o);var a,c,l=[0,0];for(r=0;r<o;r+=1)s.setTripleAt(t[r][0],t[r][1],(c=n&&n[r]?n[r]:l)[0]+t[r][0],c[1]+t[r][1],(a=e&&e[r]?e[r]:l)[0]+t[r][0],a[1]+t[r][1],r,!0);return s}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=(function(t,e){var n,i,r=this.pv.length?this.pv.length:1,o=createTypedArray("float32",r),s=Math.floor(5*time);for(n=0,i=0;n<s;){for(i=0;i<r;i+=1)o[i]+=-e+2*e*BMMath.random();n+=1}var a=5*time,c=a-Math.floor(a),l=createTypedArray("float32",r);if(r>1){for(i=0;i<r;i+=1)l[i]=this.pv[i]+o[i]+(-e+2*e*BMMath.random())*c;return l}return this.pv+o[0]+(-e+2*e*BMMath.random())*c}).bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],i=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,i,0]}function easeOut(t,e,n,i,r){return applyEase(easeOutBez,t,e,n,i,r)}function easeIn(t,e,n,i,r){return applyEase(easeInBez,t,e,n,i,r)}function ease(t,e,n,i,r){return applyEase(easeInOutBez,t,e,n,i,r)}function applyEase(t,e,n,i,r,o){void 0===r?(r=n,o=i):e=(e-n)/(i-n),e>1?e=1:e<0&&(e=0);var s=t(e);if($bm_isInstanceOfArray(r)){var a,c=r.length,l=createTypedArray("float32",c);for(a=0;a<c;a+=1)l[a]=(o[a]-r[a])*s+r[a];return l}return(o-r)*s+r}function nearestKey(t){var e,n,i,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,i=data.k[0].t;else{for(e=0;e<r-1;e+=1){if(t===data.k[e].t){n=e+1,i=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(n=e+2,i=data.k[e+1].t):(n=e+1,i=data.k[e].t);break}}-1===n&&(n=e+1,i=data.k[e].t)}else n=0,i=0;var o={};return o.index=n,o.time=i/elem.comp.globalData.frameRate,o}function key(t){var e,n,i;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);e={time:data.k[t-=1].t/elem.comp.globalData.frameRate,value:[]};var r=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(i=r.length,n=0;n<i;n+=1)e[n]=r[n],e.value[n]=r[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,n){e.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(t,e,n).bind(n)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),n=this.getValueAtTime(t+-.01),i=0;if(e.length){var r;for(r=0;r<e.length;r+=1)i+=Math.pow(n[r]-e[r],2);i=100*Math.sqrt(i)}else i=0;return i},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,n,i=-.001,r=this.getValueAtTime(t),o=this.getValueAtTime(t+i);if(r.length)for(e=createTypedArray("float32",r.length),n=0;n<r.length;n+=1)e[n]=(o[n]-r[n])/i;else e=(o-r)/i;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};!function(){function t(t,e,n){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var i,r,o,s,a,c=this.comp.renderedFrame,l=this.keyframes,h=l[l.length-1].t;if(c<=h)return this.pv;if(n?r=h-(i=e?Math.abs(h-this.elem.comp.globalData.frameRate*e):Math.max(0,h-this.elem.data.ip)):((!e||e>l.length-1)&&(e=l.length-1),i=h-(r=l[l.length-1-e].t)),"pingpong"===t){if(Math.floor((c-r)/i)%2!=0)return this.getValueAtTime((i-(c-r)%i+r)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var u=this.getValueAtTime(r/this.comp.globalData.frameRate,0),d=this.getValueAtTime(h/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((c-r)%i+r)/this.comp.globalData.frameRate,0),g=Math.floor((c-r)/i);if(this.pv.length){for(s=(a=new Array(u.length)).length,o=0;o<s;o+=1)a[o]=(d[o]-u[o])*g+p[o];return a}return(d-u)*g+p}if("continue"===t){var f=this.getValueAtTime(h/this.comp.globalData.frameRate,0),_=this.getValueAtTime((h-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(f.length)).length,o=0;o<s;o+=1)a[o]=f[o]+(c-h)/this.comp.globalData.frameRate*(f[o]-_[o])/5e-4;return a}return f+(c-h)/.001*(f-_)}}return this.getValueAtTime(((c-r)%i+r)/this.comp.globalData.frameRate,0)}function e(t,e,n){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var i,r,o,s,a,c=this.comp.renderedFrame,l=this.keyframes,h=l[0].t;if(c>=h)return this.pv;if(n?r=h+(i=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-h)):((!e||e>l.length-1)&&(e=l.length-1),i=(r=l[e].t)-h),"pingpong"===t){if(Math.floor((h-c)/i)%2==0)return this.getValueAtTime(((h-c)%i+h)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var u=this.getValueAtTime(h/this.comp.globalData.frameRate,0),d=this.getValueAtTime(r/this.comp.globalData.frameRate,0),p=this.getValueAtTime((i-(h-c)%i+h)/this.comp.globalData.frameRate,0),g=Math.floor((h-c)/i)+1;if(this.pv.length){for(s=(a=new Array(u.length)).length,o=0;o<s;o+=1)a[o]=p[o]-(d[o]-u[o])*g;return a}return p-(d-u)*g}if("continue"===t){var f=this.getValueAtTime(h/this.comp.globalData.frameRate,0),_=this.getValueAtTime((h+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(f.length)).length,o=0;o<s;o+=1)a[o]=f[o]+(f[o]-_[o])*(h-c)/.001;return a}return f+(f-_)*(h-c)/.001}}return this.getValueAtTime((i-((h-c)%i+h))/this.comp.globalData.frameRate,0)}function n(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var n,i,r=this.comp.renderedFrame/this.comp.globalData.frameRate,o=r-t,s=e>1?(r+t-o)/(e-1):1,a=0,c=0;for(n=this.pv.length?createTypedArray("float32",this.pv.length):0;a<e;){if(i=this.getValueAtTime(o+a*s),this.pv.length)for(c=0;c<this.pv.length;c+=1)n[c]+=i[c];else n+=i;a+=1}if(this.pv.length)for(c=0;c<this.pv.length;c+=1)n[c]/=e;else n/=e;return n}function i(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var n=this.a.getValueAtTime(t);e.translate(-n[0]*this.a.mult,-n[1]*this.a.mult,n[2]*this.a.mult)}if(this.appliedTransformations<2){var i=this.s.getValueAtTime(t);e.scale(i[0]*this.s.mult,i[1]*this.s.mult,i[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var r=this.sk.getValueAtTime(t),o=this.sa.getValueAtTime(t);e.skewFromAxis(-r*this.sk.mult,o*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var s=this.r.getValueAtTime(t);e.rotate(-s*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(t),c=this.ry.getValueAtTime(t),l=this.rx.getValueAtTime(t),h=this.or.getValueAtTime(t);e.rotateZ(-a*this.rz.mult).rotateY(c*this.ry.mult).rotateX(l*this.rx.mult).rotateZ(-h[2]*this.or.mult).rotateY(h[1]*this.or.mult).rotateX(h[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var u=this.px.getValueAtTime(t),d=this.py.getValueAtTime(t);if(this.data.p.z){var p=this.pz.getValueAtTime(t);e.translate(u*this.px.mult,d*this.py.mult,-p*this.pz.mult)}else e.translate(u*this.px.mult,d*this.py.mult,0)}else{var g=this.p.getValueAtTime(t);e.translate(g[0]*this.p.mult,g[1]*this.p.mult,-g[2]*this.p.mult)}return e}function r(){return this.v.clone(new Matrix)}var o=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,n){var s=o(t,e,n);return s.getValueAtTime=s.dynamicProperties.length?i.bind(s):r.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s};var s=PropertyFactory.getProp;PropertyFactory.getProp=function(i,r,o,a,c){var l=s(i,r,o,a,c);l.getValueAtTime=l.kf?expressionHelpers.getValueAtTime.bind(l):expressionHelpers.getStaticValueAtTime.bind(l),l.setGroupProperty=expressionHelpers.setGroupProperty,l.loopOut=t,l.loopIn=e,l.smooth=n,l.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(l),l.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(l),l.numKeys=1===r.a?r.k.length:0,l.propertyIndex=r.ix;var h=0;return 0!==o&&(h=createTypedArray("float32",1===r.a?r.k[0].s.length:r.k.length)),l._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:h},expressionHelpers.searchExpressions(i,r,l),l.k&&c.addDynamicProperty(l),l};var a=ShapePropertyFactory.getConstructorFunction(),c=ShapePropertyFactory.getKeyframedConstructorFunction();function l(){}l.prototype={vertices:function(t,e){this.k&&this.getValue();var n,i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0));var r=i._length,o=i[t],s=i.v,a=createSizedArray(r);for(n=0;n<r;n+=1)a[n]="i"===t||"o"===t?[o[n][0]-s[n][0],o[n][1]-s[n][1]]:[o[n][0],o[n][1]];return a},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));for(var i,r=this._segmentsLength,o=r.lengths,s=r.totalLength*t,a=0,c=o.length,l=0;a<c;){if(l+o[a].addedLength>s){var h=n.c&&a===c-1?0:a+1;i=bez.getPointInSegment(n.v[a],n.v[h],n.o[a],n.i[h],(s-l)/o[a].addedLength,o[a]);break}l+=o[a].addedLength,a+=1}return i||(i=n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]]),i},vectorOnPath:function(t,e,n){1==t?t=this.v.c:0==t&&(t=.999);var i=this.pointOnPath(t,e),r=this.pointOnPath(t+.001,e),o=r[0]-i[0],s=r[1]-i[1],a=Math.sqrt(Math.pow(o,2)+Math.pow(s,2));return 0===a?[0,0]:"tangent"===n?[o/a,s/a]:[-s/a,o/a]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([l],a),extendPrototype([l],c),c.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},c.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,n,i,r){var o=h(t,e,n,i,r);return o.propertyIndex=e.ix,o.lock=!1,3===n?expressionHelpers.searchExpressions(t,e.pt,o):4===n&&expressionHelpers.searchExpressions(t,e.ks,o),o.k&&t.addDynamicProperty(o),o}}(),TextProperty.prototype.getExpressionValue=function(t,e){var n=this.calculateExpression(e);if(t.t!==n){var i={};return this.copyData(i,t),i.t=n.toString(),i.__complete=!1,i}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null};var ShapePathInterface=function(t,e,n){var i=e.sh;function r(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?r.path:null}var o=propertyGroupFactory(r,n);return i.setGroupProperty(PropertyInterface("Path",o)),Object.defineProperties(r,{path:{get:function(){return i.k&&i.getValue(),i}},shape:{get:function(){return i.k&&i.getValue(),i}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:n}}),r},propertyGroupFactory=function(t,e){return function(n){return(n=void 0===n?1:n)<=0?t:e(n-1)}},PropertyInterface=function(t,e){var n={_name:t};return function(t){return(t=void 0===t?1:t)<=0?n:e(t-1)}},ShapeExpressionInterface=function(){function t(t,o,u){var d,p=[],g=t?t.length:0;for(d=0;d<g;d+=1)"gr"===t[d].ty?p.push(e(t[d],o[d],u)):"fl"===t[d].ty?p.push(n(t[d],o[d],u)):"st"===t[d].ty?p.push(i(t[d],o[d],u)):"tm"===t[d].ty?p.push(r(t[d],o[d],u)):"tr"===t[d].ty||("el"===t[d].ty?p.push(s(t[d],o[d],u)):"sr"===t[d].ty?p.push(a(t[d],o[d],u)):"sh"===t[d].ty?p.push(ShapePathInterface(t[d],o[d],u)):"rc"===t[d].ty?p.push(c(t[d],o[d],u)):"rd"===t[d].ty?p.push(l(t[d],o[d],u)):"rp"===t[d].ty&&p.push(h(t[d],o[d],u)));return p}function e(e,n,i){var r=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return r.content;default:return r.transform}};r.propertyGroup=propertyGroupFactory(r,i);var s=function(e,n,i){var r,s=function(t){for(var e=0,n=r.length;e<n;){if(r[e]._name===t||r[e].mn===t||r[e].propertyIndex===t||r[e].ix===t||r[e].ind===t)return r[e];e+=1}return"number"==typeof t?r[t-1]:null};s.propertyGroup=propertyGroupFactory(s,i),r=t(e.it,n.it,s.propertyGroup),s.numProperties=r.length;var a=o(e.it[e.it.length-1],n.it[n.it.length-1],s.propertyGroup);return s.transform=a,s.propertyIndex=e.cix,s._name=e.nm,s}(e,n,r.propertyGroup),a=o(e.it[e.it.length-1],n.it[n.it.length-1],r.propertyGroup);return r.content=s,r.transform=a,Object.defineProperty(r,"_name",{get:function(){return e.nm}}),r.numProperties=e.np,r.propertyIndex=e.ix,r.nm=e.nm,r.mn=e.mn,r}function n(t,e,n){function i(t){return"Color"===t||"color"===t?i.color:"Opacity"===t||"opacity"===t?i.opacity:null}return Object.defineProperties(i,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",n)),e.o.setGroupProperty(PropertyInterface("Opacity",n)),i}function i(t,e,n){var i,r=propertyGroupFactory(l,n),o=propertyGroupFactory(c,r);function s(n){Object.defineProperty(c,t.d[n].nm,{get:ExpressionPropertyInterface(e.d.dataProps[n].p)})}var a=t.d?t.d.length:0,c={};for(i=0;i<a;i+=1)s(i),e.d.dataProps[i].p.setGroupProperty(o);function l(t){return"Color"===t||"color"===t?l.color:"Opacity"===t||"opacity"===t?l.opacity:"Stroke Width"===t||"stroke width"===t?l.strokeWidth:null}return Object.defineProperties(l,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return c}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",r)),e.o.setGroupProperty(PropertyInterface("Opacity",r)),e.w.setGroupProperty(PropertyInterface("Stroke Width",r)),l}function r(t,e,n){function i(e){return e===t.e.ix||"End"===e||"end"===e?i.end:e===t.s.ix?i.start:e===t.o.ix?i.offset:null}var r=propertyGroupFactory(i,n);return i.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",r)),e.e.setGroupProperty(PropertyInterface("End",r)),e.o.setGroupProperty(PropertyInterface("Offset",r)),i.propertyIndex=t.ix,i.propertyGroup=n,Object.defineProperties(i,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),i.mn=t.mn,i}function o(t,e,n){function i(e){return t.a.ix===e||"Anchor Point"===e?i.anchorPoint:t.o.ix===e||"Opacity"===e?i.opacity:t.p.ix===e||"Position"===e?i.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?i.rotation:t.s.ix===e||"Scale"===e?i.scale:t.sk&&t.sk.ix===e||"Skew"===e?i.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?i.skewAxis:null}var r=propertyGroupFactory(i,n);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",r)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",r)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",r)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",r)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",r)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",r)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",r))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",r)),Object.defineProperties(i,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),i.ty="tr",i.mn=t.mn,i.propertyGroup=n,i}function s(t,e,n){function i(e){return t.p.ix===e?i.position:t.s.ix===e?i.size:null}var r=propertyGroupFactory(i,n);i.propertyIndex=t.ix;var o="tm"===e.sh.ty?e.sh.prop:e.sh;return o.s.setGroupProperty(PropertyInterface("Size",r)),o.p.setGroupProperty(PropertyInterface("Position",r)),Object.defineProperties(i,{size:{get:ExpressionPropertyInterface(o.s)},position:{get:ExpressionPropertyInterface(o.p)},_name:{value:t.nm}}),i.mn=t.mn,i}function a(t,e,n){function i(e){return t.p.ix===e?i.position:t.r.ix===e?i.rotation:t.pt.ix===e?i.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?i.outerRadius:t.os.ix===e?i.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?i.innerRoundness:null:i.innerRadius}var r=propertyGroupFactory(i,n),o="tm"===e.sh.ty?e.sh.prop:e.sh;return i.propertyIndex=t.ix,o.or.setGroupProperty(PropertyInterface("Outer Radius",r)),o.os.setGroupProperty(PropertyInterface("Outer Roundness",r)),o.pt.setGroupProperty(PropertyInterface("Points",r)),o.p.setGroupProperty(PropertyInterface("Position",r)),o.r.setGroupProperty(PropertyInterface("Rotation",r)),t.ir&&(o.ir.setGroupProperty(PropertyInterface("Inner Radius",r)),o.is.setGroupProperty(PropertyInterface("Inner Roundness",r))),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(o.p)},rotation:{get:ExpressionPropertyInterface(o.r)},points:{get:ExpressionPropertyInterface(o.pt)},outerRadius:{get:ExpressionPropertyInterface(o.or)},outerRoundness:{get:ExpressionPropertyInterface(o.os)},innerRadius:{get:ExpressionPropertyInterface(o.ir)},innerRoundness:{get:ExpressionPropertyInterface(o.is)},_name:{value:t.nm}}),i.mn=t.mn,i}function c(t,e,n){function i(e){return t.p.ix===e?i.position:t.r.ix===e?i.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?i.size:null}var r=propertyGroupFactory(i,n),o="tm"===e.sh.ty?e.sh.prop:e.sh;return i.propertyIndex=t.ix,o.p.setGroupProperty(PropertyInterface("Position",r)),o.s.setGroupProperty(PropertyInterface("Size",r)),o.r.setGroupProperty(PropertyInterface("Rotation",r)),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(o.p)},roundness:{get:ExpressionPropertyInterface(o.r)},size:{get:ExpressionPropertyInterface(o.s)},_name:{value:t.nm}}),i.mn=t.mn,i}function l(t,e,n){function i(e){return t.r.ix===e||"Round Corners 1"===e?i.radius:null}var r=propertyGroupFactory(i,n),o=e;return i.propertyIndex=t.ix,o.rd.setGroupProperty(PropertyInterface("Radius",r)),Object.defineProperties(i,{radius:{get:ExpressionPropertyInterface(o.rd)},_name:{value:t.nm}}),i.mn=t.mn,i}function h(t,e,n){function i(e){return t.c.ix===e||"Copies"===e?i.copies:t.o.ix===e||"Offset"===e?i.offset:null}var r=propertyGroupFactory(i,n),o=e;return i.propertyIndex=t.ix,o.c.setGroupProperty(PropertyInterface("Copies",r)),o.o.setGroupProperty(PropertyInterface("Offset",r)),Object.defineProperties(i,{copies:{get:ExpressionPropertyInterface(o.c)},offset:{get:ExpressionPropertyInterface(o.o)},_name:{value:t.nm}}),i.mn=t.mn,i}return function(e,n,i){var r;function o(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?i:r[t-1];for(var e=0,n=r.length;e<n;){if(r[e]._name===t)return r[e];e+=1}return null}return o.propertyGroup=propertyGroupFactory(o,function(){return i}),r=t(e,n,o.propertyGroup),o.numProperties=r.length,o._name="Contents",o}}(),TextExpressionInterface=function(t){var e,n;function i(t){switch(t){case"ADBE Text Document":return i.sourceText;default:return null}}return Object.defineProperty(i,"sourceText",{get:function(){t.textProperty.getValue();var i=t.textProperty.currentData.t;return i!==e&&(t.textProperty.currentData.t=e,(n=new String(i)).value=i||new String(i)),n}}),i},LayerExpressionInterface=function(){function t(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function e(t,e){var n=this.getMatrix(e);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.applyPoint(n,t)}function n(t,e){var n=this.getMatrix(e);return this.applyPoint(n,t)}function i(t,e){var n=this.getMatrix(e);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.invertPoint(n,t)}function r(t,e){var n=this.getMatrix(e);return this.invertPoint(n,t)}function o(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,i=this._elem.hierarchy.length;for(n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}function s(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,i=this._elem.hierarchy.length;for(n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(e)}function a(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var n,i=this._elem.hierarchy.length;for(n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function c(){return[1,1,1,1]}return function(l){var h;function u(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return u.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return h;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return u.effect;case"ADBE Text Properties":return u.textInterface;default:return null}}u.getMatrix=t,u.invertPoint=s,u.applyPoint=o,u.toWorld=n,u.toWorldVec=e,u.fromWorld=r,u.fromWorldVec=i,u.toComp=n,u.fromComp=a,u.sampleImage=c,u.sourceRectAtTime=l.sourceRectAtTime.bind(l),u._elem=l;var d=getDescriptor(h=TransformExpressionInterface(l.finalTransform.mProp),"anchorPoint");return Object.defineProperties(u,{hasParent:{get:function(){return l.hierarchy.length}},parent:{get:function(){return l.hierarchy[0].layerInterface}},rotation:getDescriptor(h,"rotation"),scale:getDescriptor(h,"scale"),position:getDescriptor(h,"position"),opacity:getDescriptor(h,"opacity"),anchorPoint:d,anchor_point:d,transform:{get:function(){return h}},active:{get:function(){return l.isInRange}}}),u.startTime=l.data.st,u.index=l.data.ind,u.source=l.data.refId,u.height=0===l.data.ty?l.data.h:100,u.width=0===l.data.ty?l.data.w:100,u.inPoint=l.data.ip/l.comp.globalData.frameRate,u.outPoint=l.data.op/l.comp.globalData.frameRate,u._name=l.data.nm,u.registerMaskInterface=function(t){u.mask=new MaskManagerInterface(t,l)},u.registerEffectsInterface=function(t){u.effect=t},u}}(),FootageInterface=(dataInterfaceFactory=function(t){function e(t){return"Outline"===t?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(t){var e="",n=t.getFootageData();function i(t){if(n[t])return e=t,"object"==typeof(n=n[t])?i:n;var r=t.indexOf(e);if(-1!==r){var o=parseInt(t.substr(r+e.length),10);return"object"==typeof(n=n[o])?i:n}return""}return function(){return e="",n=t.getFootageData(),i}}(t),e},function(t){function e(t){return"Data"===t?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,CompExpressionInterface=function(t){function e(e){for(var n=0,i=t.layers.length;n<i;){if(t.layers[n].nm===e||t.layers[n].ind===e)return t.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var n,i,r,o;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?o=ExpressionPropertyInterface(t.p):(n=ExpressionPropertyInterface(t.px),i=ExpressionPropertyInterface(t.py),t.pz&&(r=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?o():[n(),i(),r?r():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,n=this.compositions.length;e<n;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(n,i,r,o){function s(t){for(var e=n.ef,i=0,r=e.length;i<r;){if(t===e[i].nm||t===e[i].mn||t===e[i].ix)return 5===e[i].ty?l[i]:l[i]();i+=1}throw new Error}var a,c=propertyGroupFactory(s,r),l=[],h=n.ef.length;for(a=0;a<h;a+=1)l.push(5===n.ef[a].ty?t(n.ef[a],i.effectElements[a],i.effectElements[a].propertyGroup,o):e(i.effectElements[a],n.ef[a].ty,o,c));return"ADBE Color Control"===n.mn&&Object.defineProperty(s,"color",{get:function(){return l[0]()}}),Object.defineProperties(s,{numProperties:{get:function(){return n.np}},_name:{value:n.nm},propertyGroup:{value:c}}),s.active=s.enabled=0!==n.en,s}function e(t,e,n,i){var r=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",i)),function(){return 10===e?n.comp.compInterface(t.p.v):r()}}return{createEffectsInterface:function(e,n){if(e.effectsManager){var i,r=[],o=e.data.ef,s=e.effectsManager.effectElements.length;for(i=0;i<s;i+=1)r.push(t(o[i],e.effectsManager.effectElements[i],n,e));var a=e.data.ef||[],c=function(t){for(i=0,s=a.length;i<s;){if(t===a[i].nm||t===a[i].mn||t===a[i].ix)return r[i];i+=1}return null};return Object.defineProperty(c,"numProperties",{get:function(){return a.length}}),c}return null}}}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var n,i=createSizedArray(e.viewData.length),r=e.viewData.length;for(n=0;n<r;n+=1)i[n]=new t(e.viewData[n],e.masksProperties[n]);return function(t){for(n=0;n<r;){if(e.masksProperties[n].nm===t)return i[n];n+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(t,e,n){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(i){if(!t.numKeys)return 0;var r;r="s"in e.keyframes[i-1]?e.keyframes[i-1].s:"e"in e.keyframes[i-2]?e.keyframes[i-2].e:e.keyframes[i-2].s;var o="unidimensional"===n?new Number(r):Object.assign({},r);return o.time=e.keyframes[i-1].t/e.elem.comp.globalData.frameRate,o.value="unidimensional"===n?r[0]:r,o},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function i(){return t}return function(r){return r?"unidimensional"===r.propType?function(e){e&&"pv"in e||(e=t);var i=1/e.mult,r=e.pv*i,o=new Number(r);return o.value=r,n(o,e,"unidimensional"),function(){return e.k&&e.getValue(),o.value!==(r=e.v*i)&&((o=new Number(r)).value=r,n(o,e,"unidimensional")),o}}(r):function(t){t&&"pv"in t||(t=e);var i=1/t.mult,r=t.data&&t.data.l||t.pv.length,o=createTypedArray("float32",r),s=createTypedArray("float32",r);return o.value=s,n(o,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<r;e+=1)s[e]=t.v[e]*i,o[e]=s[e];return o}}(r):i}}(),propertyGetTextProp;function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var n,i=t.ef||[];this.effectElements=[];var r,o=i.length;for(n=0;n<o;n+=1)r=new GroupEffect(i[n],e),this.effectElements.push(r)}function GroupEffect(t,e){this.init(t,e)}propertyGetTextProp=TextSelectorProp.getTextSelectorProp,TextSelectorProp.getTextSelectorProp=function(t,e,n){return 1===e.t?new TextExpressionSelectorPropFactory(t,e,n):propertyGetTextProp(t,e,n)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var n;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var i,r=this.data.ef.length,o=this.data.ef;for(n=0;n<r;n+=1){switch(i=null,o[n].ty){case 0:i=new SliderEffect(o[n],e,this);break;case 1:i=new AngleEffect(o[n],e,this);break;case 2:i=new ColorEffect(o[n],e,this);break;case 3:i=new PointEffect(o[n],e,this);break;case 4:case 7:i=new CheckboxEffect(o[n],e,this);break;case 10:i=new LayerIndexEffect(o[n],e,this);break;case 11:i=new MaskIndexEffect(o[n],e,this);break;case 5:i=new EffectsManager(o[n],e,this);break;default:i=new NoValueEffect(o[n],e,this)}i&&this.effectElements.push(i)}};var lottie={};function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n+=1){var i=e[n].split("=");if(decodeURIComponent(i[0])==t)return decodeURIComponent(i[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version="5.7.8";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="",queryString;if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return factory(root)}).call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},8318:(t,e,n)=>{"use strict";n.d(e,{y:()=>l});var i=n(6673),r=n(5331),o=n(7498),s=n(6197),a=n(3392),c=n(1484);let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof i.L)return t;if(t[r.b])return t[r.b]()}return t||e||n?new i.L(t,e,n):new i.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=h(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=h(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function h(t){if(t||(t=c.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var i=n(1484),r=n(4294);const o={closed:!0,next(t){},error(t){if(i.v.useDeprecatedSynchronousErrorHandling)throw t;(0,r.z)(t)},complete(){}}},5959:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>l,xQ:()=>h});var i=n(8318),r=n(6673),o=n(7570),s=n(3895),a=n(9291),c=n(5331);class l extends r.L{constructor(t){super(t),this.destination=t}}let h=(()=>{class t extends i.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.b](){return new l(this)}lift(t){const e=new u(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new i.y;return t.source=this,t}}return t.create=(t,e)=>new u(t,e),t})();class u extends h{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},9291:(t,e,n)=>{"use strict";n.d(e,{W:()=>r});var i=n(7570);class r extends i.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>l});var i=n(5024),r=n(7498),o=n(7570),s=n(5331),a=n(1484),c=n(4294);class l extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.c;break;case 1:if(!t){this.destination=r.c;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new h(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new h(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const i=new l(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class h extends l{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,i.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==r.c&&(a=Object.create(e),(0,i.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,c.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,c.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):((0,c.z)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var i=n(8470),r=n(2056),o=n(5024);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:l,_subscriptions:h}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,o.m)(l)){a&&(this._unsubscribe=void 0);try{l.call(this)}catch(u){e=u instanceof s?c(u.errors):[u]}}if((0,i.k)(h)){let t=-1,n=h.length;for(;++t<n;){const n=h[t];if((0,r.K)(n))try{n.unsubscribe()}catch(u){e=e||[],u instanceof s?e=e.concat(c(u.errors)):e.push(u)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>c});var i=n(6673),r=n(8318),o=n(6015);class s extends i.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof r.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(i){e.error(i)}return n}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>c});var i=n(5959),r=n(8318),o=n(7570),s=n(1564);class a extends r.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class l extends i.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},653:(t,e,n)=>{"use strict";n.d(e,{E:()=>r,c:()=>o});var i=n(8318);const r=new i.y(t=>t.complete());function o(t){return t?function(t){return new i.y(e=>t.schedule(()=>e.complete()))}(t):r}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>u});var i=n(8318),r=n(6015),o=n(7570),s=n(6197),a=n(2570),c=n(5686),l=n(5168),h=n(9653);function u(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new i.y(n=>{const i=new o.w;return i.add(e.schedule(()=>{const r=t[s.L]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if((0,l.t)(t))return function(t,e){return new i.y(n=>{const i=new o.w;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if((0,h.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[c.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.y(n=>{const i=new o.w;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[c.hZ](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.y?t:new i.y((0,r.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var i=n(8318),r=n(625),o=n(2570);function s(t,e){return e?(0,o.r)(t,e):new i.y((0,r.V)(t))}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var i=n(8318),r=n(6163),o=n(7471),s=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,r.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},878:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var i=n(6163),r=n(9342),o=n(2570);function s(...t){let e=t[t.length-1];return(0,i.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,r.n)(t)}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>r});var i=n(6673);function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends i.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var i=n(3982),r=n(3392);function o(t=Number.POSITIVE_INFINITY){return(0,i.zg)(r.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var i=n(9996),r=n(9764),o=n(6882);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,r.D)(t(n,o)).pipe((0,i.U)((t,i)=>e(n,t,o,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const i=(0,o.ft)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6598:(t,e,n)=>{"use strict";n.d(e,{O:()=>r});var i=n(2875);function r(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new o(r,e));const s=Object.create(n,i.N);return s.source=n,s.subjectFactory=r,s}}class o{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r}}},9098:(t,e,n)=>{"use strict";n.d(e,{ht:()=>h,QV:()=>c});var i=n(6673),r=n(653),o=n(878),s=n(8318);let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return t=this.error,new s.y(e=>e.error(t));case"C":return(0,r.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new l(t,e))}}class l{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))}}class h extends i.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(h.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>r});var i=n(6673);function r(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new s(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class s extends i.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},619:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var i=n(6598),r=n(1564),o=n(5959);function s(){return new o.xQ}function a(){return t=>(0,r.x)()((0,i.O)(s)(t))}},3482:(t,e,n)=>{"use strict";n.d(e,{R:()=>a});var i=n(8318),r=n(2709),o=n(2293);class s extends i.y{constructor(t,e=0,n=r.e){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,o.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=r.e)}static create(t,e=0,n=r.e){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},6599:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var i=n(6673);function r(){}var o=n(5024);function s(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends i.L{constructor(t,e,n,i){super(t),this._tapNext=r,this._tapError=r,this._tapComplete=r,this._tapError=n||r,this._tapComplete=i||r,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r,this._tapError=e.error||r,this._tapComplete=e.complete||r)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var i=n(8318),r=n(7570);function o(t,e){return new i.y(n=>{const i=new r.w;let o=0;return i.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},8277:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var i=n(7570);class r extends i.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:(t,e,n)=>{"use strict";n.d(e,{v:()=>r});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class r extends i{constructor(t,e=i.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},2709:(t,e,n)=>{"use strict";n.d(e,{e:()=>p,E:()=>d});let i=1;const r=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=i++;return o[e]=!0,r.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var c=n(8277);class l extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n(1098);class u extends h.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new u(l),p=d},8569:(t,e,n)=>{"use strict";n.d(e,{z:()=>r,P:()=>o});var i=n(8277);const r=new(n(1098).v)(i.o),o=r},8489:(t,e,n)=>{"use strict";n.d(e,{c:()=>c,N:()=>a});var i=n(8277);class r extends i.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n(1098);class s extends o.v{}const a=new s(r),c=a},5686:(t,e,n)=>{"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>r});const r=i()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>i});const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>i});const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>i});const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>i})},3392:(t,e,n)=>{"use strict";function i(t){return t}n.d(e,{y:()=>i})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:(t,e,n)=>{"use strict";function i(t){return"function"==typeof t}n.d(e,{m:()=>i})},2293:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});var i=n(8470);function r(t){return!(0,i.k)(t)&&t-parseFloat(t)+1>=0}},2056:(t,e,n)=>{"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>i})},5168:(t,e,n)=>{"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>i})},6163:(t,e,n)=>{"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>i})},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>h});var i=n(625),r=n(4294),o=n(5686),s=n(6197),a=n(9653),c=n(5168),l=n(2056);const h=t=>{if(t&&"function"==typeof t[s.L])return h=t,t=>{const e=h[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,i.V)(t);if((0,c.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,l.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,h}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},5164:(t,e,n)=>{"use strict";var i=n(5366);let r=null;function o(){return r}const s=new i.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return(0,i.LFG)(h)}const l=new i.OlP("Location Initialized");let h=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){u()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){u()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=(0,i.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function u(){return!!window.history.pushState}function d(){return new h((0,i.LFG)(s))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function f(t){return t&&"?"!==t[0]?"?"+t:t}let _=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:m,token:t,providedIn:"root"}),t})();function m(t){const e=(0,i.LFG)(s).location;return new v((0,i.LFG)(a),e&&e.origin||"")}const y=new i.OlP("appBaseHref");let v=(()=>{class t extends _{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+f(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+f(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+f(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a),i.LFG(y,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t extends _{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+f(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+f(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a),i.LFG(y,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t{constructor(t,e){this._subject=new i.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(P(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+f(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,P(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+f(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+f(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(_),i.LFG(a))},t.normalizeQueryParams=f,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=(0,i.Yz7)({factory:x,token:t,providedIn:"root"}),t})();function x(){return new b((0,i.LFG)(_),(0,i.LFG)(a))}function P(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const M=i.kL8;class w{}let k=(()=>{class t extends w{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(M(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.soG))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function T(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let S=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class E{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new E(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new I(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const o=new I(t,r);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class I{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new F,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class F{constructor(){this.$implicit=null,this.ngIf=null}}function N(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,i.AaK)(e)}'.`)}let L=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.aQg),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();class Z{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class R{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const q=new R,U=new Z;let B=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if((0,i.QGY)(e))return q;if((0,i.F4k)(e))return U;throw Error(`InvalidPipeArgument: '${e}' for pipe '${(0,i.AaK)(t)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO,16))},t.\u0275pipe=i.Yjl({name:"async",type:t,pure:!1}),t})(),j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:w,useClass:k}]}),t})();function z(t){return"server"===t}let V=(()=>{class t{}return t.\u0275prov=(0,i.Yz7)({token:t,providedIn:"root",factory:()=>new H((0,i.LFG)(s),window)}),t})();class H{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const t=i.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=G(this.window.history)||G(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function G(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Y{}class J extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new J,r||(r=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=($=$||document.querySelector("base"),$?$.getAttribute("href"):null);return null==e?null:function(t){Q=Q||document.createElement("a"),Q.setAttribute("href",t);const e=Q.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){$=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return T(document.cookie,t)}}let Q,$=null;const W=new i.OlP("TRANSITION_ID"),K=[{provide:i.ip1,useFactory:function(t,e,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[W,s,i.zs3],multi:!0}];class X{static init(){(0,i.VLi)(new X)}addToWindow(t){i.dqk.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(t=>{const e=i.dqk.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let tt=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const et=new i.OlP("EventManagerPlugins");let nt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(et),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class it{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=o().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let rt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),ot=(()=>{class t extends rt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const i=this._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(st),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(st))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function st(t){o().remove(t)}const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ct=/%COMP%/g;function lt(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?lt(t,r,n):(r=r.replace(ct,t),n.push(r))}return n}function ht(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ut=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new dt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new pt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.ifc.ShadowDom:return new gt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=lt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(nt),i.LFG(ot),i.LFG(i.AFp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class dt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(at[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=at[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=at[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,n,r&i.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ht(n)):this.eventManager.addEventListener(t,e,ht(n))}}class pt extends dt{constructor(t,e,n,i){super(t),this.component=n;const r=lt(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(ct,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ct,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class gt extends dt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=lt(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const t=document.createElement("style");t.textContent=r[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ft=(()=>{class t extends it{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const _t=["alt","control","meta","shift"],mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ct=(()=>{class t extends it{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let o="";if(_t.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=r,0!=n.length||0===r.length)return null;const s={};return s.domEventName=i,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yt.hasOwnProperty(e)&&(e=yt[e]))}return mt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),_t.forEach(i=>{i!=n&&(0,vt[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),bt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return(0,i.LFG)(Pt)},token:t,providedIn:"root"}),t})();function xt(t){return new Pt(t.get(s))}let Pt=(()=>{class t extends bt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.q3G.NONE:return e;case i.q3G.HTML:return(0,i.qzn)(e,"HTML")?(0,i.z3N)(e):(0,i.EiD)(this._doc,String(e)).toString();case i.q3G.STYLE:return(0,i.qzn)(e,"Style")?(0,i.z3N)(e):e;case i.q3G.SCRIPT:if((0,i.qzn)(e,"Script"))return(0,i.z3N)(e);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.yhl)(e),(0,i.qzn)(e,"URL")?(0,i.z3N)(e):(0,i.mCW)(String(e));case i.q3G.RESOURCE_URL:if((0,i.qzn)(e,"ResourceURL"))return(0,i.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,i.JVY)(t)}bypassSecurityTrustStyle(t){return(0,i.L6k)(t)}bypassSecurityTrustScript(t){return(0,i.eBb)(t)}bypassSecurityTrustUrl(t){return(0,i.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,i.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=(0,i.Yz7)({factory:function(){return xt((0,i.LFG)(i.gxx))},token:t,providedIn:"root"}),t})();const Ot=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:"browser"},{provide:i.g9A,useValue:function(){J.makeCurrent(),X.init()},multi:!0},{provide:s,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),Mt=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:et,useClass:ft,multi:!0,deps:[s,i.R0b,i.Lbi]},{provide:et,useClass:Ct,multi:!0,deps:[s]},[],{provide:ut,useClass:ut,deps:[nt,ot,i.AFp]},{provide:i.FYo,useExisting:ut},{provide:rt,useExisting:ot},{provide:ot,useClass:ot,deps:[s]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:nt,useClass:nt,deps:[et,i.R0b]},{provide:Y,useClass:tt,deps:[]},[]];let wt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.AFp,useValue:e.appId},{provide:W,useExisting:i.AFp},K]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(t,12))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:Mt,imports:[j,i.hGG]}),t})();"undefined"!=typeof window&&window;var kt=n(4911),Tt=n.n(kt),St=n(9764),Et=n(878),At=n(5959),It=n(9996),Dt=n(8489),Ft=n(7570),Nt=n(9098),Lt=n(3895),Zt=n(9291);class Rt extends At.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new qt(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let o;if(this.closed)throw new Lt.N;if(this.isStopped||this.hasError?o=Ft.w.EMPTY:(this.observers.push(t),o=new Zt.W(this,t)),i&&t.add(t=new Nt.ht(t,i)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Dt.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let o=0;for(;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}class qt{constructor(t,e){this.time=t,this.value=e}}var Ut=n(6598),Bt=n(1564),jt=n(6882);function zt(t){return e=>e.lift(new Vt(t))}class Vt{constructor(t){this.notifier=t}call(t,e){const n=new Ht(t),i=(0,jt.ft)(this.notifier,new jt.IY(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class Ht extends jt.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const Gt=new i.OlP("LottieOptions"),Yt=new i.OlP("AnimationCache");let Jt=(()=>{class t{constructor(t,e,n,i){this.ngZone=t,this.platformId=e,this.options=n,this.animationCache=i,this.player$=function(t){const e=t();return e instanceof Promise?(0,St.D)(e).pipe((0,It.U)(t=>t.default||t),function(t,e,n,i){const r=new Rt(1,void 0,void 0);return t=>(0,Ut.O)(()=>r,void 0)(t)}(),(0,Bt.x)()):(0,Et.of)(e)}(this.options.player)}resolveLoaderAndLoadAnimation(t,e,n,i,r,o){z(this.platformId)||this.player$.pipe(zt(o)).subscribe(o=>{const s=function(t,e,n){const i=Object.assign({container:e,renderer:"svg",loop:!0,autoplay:!0},t);return null!==n?n.transformOptions(i):i}(t,e,this.animationCache);this.loadAnimation(o,s,n,i,r)})}loadAnimation(t,e,n,i,r){const o=this.ngZone.runOutsideAngular(()=>t.loadAnimation(e));!function(t,e,n){null!==t&&n.addEventListener("config_ready",()=>{t.set(e,n)})}(this.animationCache,e,o),i.emit(o),n.addEventListeners(r,o)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b),i.LFG(i.Lbi),i.LFG(Gt),i.LFG(Yt))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Qt=(()=>{class t{constructor(t,e){this.platformId=t,this.animationLoader=e,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=new i.vpe,this.complete=new i.vpe,this.loopComplete=new i.vpe,this.enterFrame=new i.vpe,this.segmentStart=new i.vpe,this.configReady=new i.vpe,this.dataReady=new i.vpe,this.domLoaded=new i.vpe,this.destroy=new i.vpe,this.error=new i.vpe,this.destroy$=new At.xQ}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAnimation(t,e,n,i){!z(this.platformId)&&t.options&&(n.destroyAnimation(),this.animationLoader.resolveLoaderAndLoadAnimation(t.options.currentValue,e,n,this.animationCreated,i,this.destroy$))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Lbi),i.Y36(Jt))},t.\u0275dir=i.lG2({type:t,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),t})();class $t{constructor(){this.cache=new Map}static create(t){return t.useCache?new $t:null}transformOptions(t){const e=t.path;return e&&this.cache.has(e)&&(delete t.path,t.animationData=this.cache.get(e)),t}set(t,e){t.animationData||this.cache.set(t.path,e.animationData)}}let Wt=(()=>{class t{constructor(t,e){this.ngZone=t,this.platformId=e,this.eventsMap={complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"config_ready",dataReady:"data_ready",domLoaded:"DOMLoaded",destroy:"destroy",error:"error"},this.animationItem=null}ngOnDestroy(){this.destroyAnimation()}addEventListeners(t,e){this.animationItem=e,this.ngZone.runOutsideAngular(()=>this.addEventListenersToObservedEventEmitters(t))}destroyAnimation(){z(this.platformId)||null===this.animationItem||(this.animationItem.destroy(),this.animationItem=null)}addEventListenersToObservedEventEmitters(t){const e=function(t,e){return Object.keys(t).map(e=>[e,t[e]]).filter(([t,n])=>n instanceof i.vpe&&n.observers.length>0&&e.hasOwnProperty(t)).map(([t,n])=>({eventEmitter:n,name:e[t]}))}(t,this.eventsMap);for(const{name:n,eventEmitter:i}of e)this.animationItem.addEventListener(n,t=>{i.emit(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b),i.LFG(i.Lbi))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Kt=(()=>{class t extends Qt{constructor(t,e,n,i){super(t,i),this.host=e,this.eventsFacade=n}ngOnChanges(t){super.loadAnimation(t,this.host.nativeElement,this.eventsFacade,this)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Lbi),i.Y36(i.SBq,2),i.Y36(Wt,2),i.Y36(Jt))},t.\u0275dir=i.lG2({type:t,selectors:[["","lottie",""]],features:[i._Bn([Wt]),i.qOj,i.TTD]}),t})(),Xt=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[Jt,{provide:Gt,useValue:e},{provide:Yt,useFactory:$t.create,deps:[Gt]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[j]]}),t})();class te extends At.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Lt.N;return this._value}next(t){super.next(this._value=t)}}var ee=n(6163),ne=n(8470),ie=n(6673);class re extends ie.L{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class oe extends ie.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var se=n(6015),ae=n(8318);function ce(t,e,n,i,r=new oe(t,n,i)){if(!r.closed)return e instanceof ae.y?e.subscribe(r):(0,se.s)(e)(r)}var le=n(9342);const he={};function ue(...t){let e,n;return(0,ee.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,ne.k)(t[0])&&(t=t[0]),(0,le.n)(t,n).lift(new de(e))}class de{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new pe(t,this.resultSelector))}}class pe extends re{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(he),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ce(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===he?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const ge=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var fe=n(7471);function _e(...t){return(0,fe.J)(1)((0,Et.of)(...t))}var me=n(653);function ye(t){return new ae.y(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?(0,St.D)(n):(0,me.c)()).subscribe(e)})}var ve=n(2875);function Ce(t,e){return"function"==typeof e?n=>n.pipe(Ce((n,i)=>(0,St.D)(t(n,i)).pipe((0,It.U)((t,r)=>e(n,t,i,r))))):e=>e.lift(new be(t))}class be{constructor(t){this.project=t}call(t,e){return e.subscribe(new xe(t,this.project))}}class xe extends jt.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new jt.IY(this),i=this.destination;i.add(n),this.innerSubscription=(0,jt.ft)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Pe=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Oe(t){return e=>0===t?(0,me.c)():e.lift(new Me(t))}class Me{constructor(t){if(this.total=t,this.total<0)throw new Pe}call(t,e){return e.subscribe(new we(t,this.total))}}class we extends ie.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ke(...t){const e=t[t.length-1];return(0,ee.K)(e)?(t.pop(),n=>_e(t,n,e)):e=>_e(t,e)}function Te(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Se(t,e,n))}}class Se{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ee(t,this.accumulator,this.seed,this.hasSeed))}}class Ee extends ie.L{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function Ae(t,e){return function(n){return n.lift(new Ie(t,e))}}class Ie{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new De(t,this.predicate,this.thisArg))}}class De extends ie.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Fe(t){return function(e){const n=new Ne(t),i=e.lift(n);return n.caught=i}}class Ne{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Le(t,this.selector,this.caught))}}class Le extends jt.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new jt.IY(this);this.add(i);const r=(0,jt.ft)(n,i);r!==i&&this.add(r)}}}var Ze=n(3982);function Re(t,e){return(0,Ze.zg)(t,e,1)}function qe(t){return function(e){return 0===t?(0,me.c)():e.lift(new Ue(t))}}class Ue{constructor(t){if(this.total=t,this.total<0)throw new Pe}call(t,e){return e.subscribe(new Be(t,this.total))}}class Be extends ie.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function je(t=He){return e=>e.lift(new ze(t))}class ze{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ve(t,this.errorFactory))}}class Ve extends ie.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function He(){return new ge}function Ge(t=null){return e=>e.lift(new Ye(t))}class Ye{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Je(t,this.defaultValue))}}class Je extends ie.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Qe=n(3392);function $e(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Ae((e,n)=>t(e,n,i)):Qe.y,Oe(1),n?Ge(e):je(()=>new ge))}var We=n(6599);function Ke(t){return e=>e.lift(new Xe(t))}class Xe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new tn(t,this.callback))}}class tn extends ie.L{constructor(t,e){super(t),this.add(new Ft.w(e))}}class en{constructor(t,e){this.id=t,this.url=e}}class nn extends en{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rn extends en{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class on extends en{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sn extends en{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class an extends en{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cn extends en{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends en{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hn extends en{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class un extends en{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fn{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _n{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vn="primary";class Cn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function bn(t){return new Cn(t)}function xn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Pn(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const e=i[o],n=t[o];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function On(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Mn(t[r],e[r]))return!1;return!0}function Mn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function wn(t){return Array.prototype.concat.apply([],t)}function kn(t){return t.length>0?t[t.length-1]:null}function Tn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Sn(t){return(0,i.CqO)(t)?t:(0,i.QGY)(t)?(0,St.D)(Promise.resolve(t)):(0,Et.of)(t)}const En={exact:function t(e,n,i){if(!qn(e.segments,n.segments))return!1;if(!Nn(e.segments,n.segments,i))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r],i))return!1}return!0},subset:Dn},An={exact:function(t,e){return On(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Mn(t[n],e[n]))},ignored:()=>!0};function In(t,e,n){return En[n.paths](t.root,e.root,n.matrixParams)&&An[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Dn(t,e,n){return Fn(t,e,e.segments,n)}function Fn(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!!qn(r,n)&&!e.hasChildren()&&!!Nn(r,n,i)}if(t.segments.length===n.length){if(!qn(t.segments,n))return!1;if(!Nn(t.segments,n,i))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Dn(t.children[n],e.children[n],i))return!1}return!0}{const r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!qn(t.segments,r)&&!!Nn(t.segments,r,i)&&!!t.children.primary&&Fn(t.children.primary,e,o,i)}}function Nn(t,e,n){return e.every((e,i)=>An[n](t[i].parameters,e.parameters))}class Ln{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return jn.serialize(this)}}class Zn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Tn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zn(this)}}class Rn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=bn(this.parameters)),this._parameterMap}toString(){return $n(this)}}function qn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Un{}class Bn{parse(t){const e=new ei(t);return new Ln(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Vn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Gn(e)}=${Gn(t)}`).join("&"):`${Gn(e)}=${Gn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const jn=new Bn;function zn(t){return t.segments.map(t=>$n(t)).join("/")}function Vn(t,e){if(!t.hasChildren())return zn(t);if(e){const e=t.children.primary?Vn(t.children.primary,!1):"",n=[];return Tn(t.children,(t,e)=>{e!==vn&&n.push(`${e}:${Vn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Tn(t.children,(t,i)=>{i===vn&&(n=n.concat(e(t,i)))}),Tn(t.children,(t,i)=>{i!==vn&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===vn?[Vn(t.children.primary,!1)]:[`${n}:${Vn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${zn(t)}/${e[0]}`:`${zn(t)}/(${e.join("//")})`}}function Hn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gn(t){return Hn(t).replace(/%3B/gi,";")}function Yn(t){return Hn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jn(t){return decodeURIComponent(t)}function Qn(t){return Jn(t.replace(/\+/g,"%20"))}function $n(t){return`${Yn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Yn(t)}=${Yn(e[t])}`).join("")}`;var e}const Wn=/^[^\/()?;=#]+/;function Kn(t){const e=t.match(Wn);return e?e[0]:""}const Xn=/^[^=?&#]+/,ti=/^[^?&#]+/;class ei{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zn([],{}):new Zn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Zn(t,e)),n}parseSegment(){const t=Kn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Rn(Jn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Kn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Kn(this.remaining);t&&(n=t,this.capture(n))}t[Jn(e)]=Jn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Xn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ti);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Qn(e),r=Qn(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Kn(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=vn);const o=this.parseChildren();e[r]=1===Object.keys(o).length?o.primary:new Zn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ni{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ii(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=ii(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ri(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ri(t,this._root).map(t=>t.value)}}function ii(t,e){if(t===e.value)return e;for(const n of e.children){const e=ii(t,n);if(e)return e}return null}function ri(t,e){if(t===e.value)return[e];for(const n of e.children){const i=ri(t,n);if(i.length)return i.unshift(e),i}return[]}class oi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function si(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ai extends ni{constructor(t,e){super(t),this.snapshot=e,pi(this,t)}toString(){return this.snapshot.toString()}}function ci(t,e){const n=function(t,e){const n=new ui([],{},{},"",{},vn,e,null,t.root,-1,{});return new di("",new oi(n,[]))}(t,e),i=new te([new Rn("",{})]),r=new te({}),o=new te({}),s=new te({}),a=new te(""),c=new li(i,r,s,a,o,vn,e,n.root);return c.snapshot=n.root,new ai(new oi(c,[]),n)}class li{constructor(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(t=>bn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(t=>bn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hi(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class ui{constructor(t,e,n,i,r,o,s,a,c,l,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class di extends ni{constructor(t,e){super(e),this.url=t,pi(this,e)}toString(){return gi(this._root)}}function pi(t,e){e.value._routerState=t,e.children.forEach(e=>pi(t,e))}function gi(t){const e=t.children.length>0?` { ${t.children.map(gi).join(", ")} } `:"";return`${t.value}${e}`}function fi(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,On(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),On(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!On(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),On(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function _i(t,e){var n,i;return On(t.params,e.params)&&qn(n=t.url,i=e.url)&&n.every((t,e)=>On(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||_i(t.parent,e.parent))}function mi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return mi(t,e,i);return mi(t,e)})}(t,e,n);return new oi(i,r)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return yi(e,t),t}}const n=new li(new te((i=e.value).url),new te(i.params),new te(i.queryParams),new te(i.fragment),new te(i.data),i.outlet,i.component,i),r=e.children.map(e=>mi(t,e));return new oi(n,r)}var i}function yi(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)yi(t.children[n],e.children[n])}function vi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ci(t){return"object"==typeof t&&null!=t&&t.outlets}function bi(t,e,n,i,r){let o={};return i&&Tn(i,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Ln(n.root===t?e:xi(n.root,t,e),o,r)}function xi(t,e,n){const i={};return Tn(t.children,(t,r)=>{i[r]=t===e?n:xi(t,e,n)}),new Zn(t.segments,i)}class Pi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&vi(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(Ci);if(i&&i!==kn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Oi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Mi(t,e,n){if(t||(t=new Zn([],{})),0===t.segments.length&&t.hasChildren())return wi(t,e,n);const i=function(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const e=t.segments[r],s=n[i];if(Ci(s))break;const a=`${s}`,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ei(a,c,e))return o;i+=2}else{if(!Ei(a,{},e))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Zn(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new Zn(t.segments.slice(i.pathIndex),t.children),wi(e,0,r)}return i.match&&0===r.length?new Zn(t.segments,{}):i.match&&!t.hasChildren()?ki(t,e,n):i.match?wi(t,0,r):ki(t,e,n)}function wi(t,e,n){if(0===n.length)return new Zn(t.segments,{});{const i=function(t){return Ci(t[0])?t[0].outlets:{[vn]:t}}(n),r={};return Tn(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=Mi(t.children[i],e,n))}),Tn(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new Zn(t.segments,r)}}function ki(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const o=n[r];if(Ci(o)){const t=Ti(o.outlets);return new Zn(i,t)}if(0===r&&vi(n[0])){i.push(new Rn(t.segments[e].path,Si(n[0]))),r++;continue}const s=Ci(o)?o.outlets.primary:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&vi(a)?(i.push(new Rn(s,Si(a))),r+=2):(i.push(new Rn(s,{})),r++)}return new Zn(i,{})}function Ti(t){const e={};return Tn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ki(new Zn([],{}),0,t))}),e}function Si(t){const e={};return Tn(t,(t,n)=>e[n]=`${t}`),e}function Ei(t,e,n){return t==n.path&&On(e,n.parameters)}class Ai{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),fi(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=si(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),Tn(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=si(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=si(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new mn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new fn(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(fi(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ii(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ii(t){fi(t.value),t.children.forEach(Ii)}class Di{constructor(t,e){this.routes=t,this.module=e}}function Fi(t){return"function"==typeof t}function Ni(t){return t instanceof Ln}const Li=Symbol("INITIAL_VALUE");function Zi(){return Ce(t=>ue(t.map(t=>t.pipe(Oe(1),ke(Li)))).pipe(Te((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==Li)return t;if(i===Li&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Ni(i))return i}return t},t)},Li),Ae(t=>t!==Li),(0,It.U)(t=>Ni(t)?t:!0===t),Oe(1)))}let Ri=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i._UZ(0,"router-outlet")},directives:function(){return[Ir]},encapsulation:2}),t})();function qi(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Ui(i,Bi(e,i))}}function Ui(t,e){t.children&&qi(t.children,e)}function Bi(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ji(t){const e=t.children&&t.children.map(ji),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vn&&(n.component=Ri),n}function zi(t){return t.outlet||vn}function Vi(t,e){const n=t.filter(t=>zi(t)===e);return n.push(...t.filter(t=>zi(t)!==e)),n}const Hi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Gi(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Hi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Pn)(n,t,e);if(!r)return Object.assign({},Hi);const o={};Tn(r.posParams,(t,e)=>{o[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Yi(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Ji(t,e,n)&&zi(n)!==vn)}(t,n,i)){const r=new Zn(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&zi(o)!==vn){const n=new Zn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[zi(o)]=n}return r}(t,e,i,new Zn(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ji(t,e,n))}(t,n,i)){const o=new Zn(t.segments,function(t,e,n,i,r,o){const s={};for(const a of i)if(Ji(t,n,a)&&!r[zi(a)]){const n=new Zn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[zi(a)]=n}return Object.assign(Object.assign({},r),s)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Zn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Ji(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Qi(t,e,n,i){return!!(zi(t)===i||i!==vn&&Ji(e,n,t))&&("**"===t.path||Gi(e,t,n).matched)}function $i(t,e,n){return 0===e.length&&!t.children[n]}class Wi{constructor(t){this.segmentGroup=t||null}}class Ki{constructor(t){this.urlTree=t}}function Xi(t){return new ae.y(e=>e.error(new Wi(t)))}function tr(t){return new ae.y(e=>e.error(new Ki(t)))}function er(t){return new ae.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class nr{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.h0i)}apply(){const t=Yi(this.urlTree.root,[],[],this.config).segmentGroup,e=new Zn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,vn).pipe((0,It.U)(t=>this.createUrlTree(ir(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fe(t=>{if(t instanceof Ki)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Wi)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vn).pipe((0,It.U)(e=>this.createUrlTree(ir(e),t.queryParams,t.fragment))).pipe(Fe(t=>{if(t instanceof Wi)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Zn([],{[vn]:t}):t;return new Ln(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,It.U)(t=>new Zn([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return(0,St.D)(i).pipe(Re(i=>{const r=n.children[i],o=Vi(e,i);return this.expandSegmentGroup(t,o,r,i).pipe((0,It.U)(t=>({segment:t,outlet:i})))}),Te((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Ae((e,n)=>t(e,n,i)):Qe.y,qe(1),n?Ge(e):je(()=>new ge))}())}expandSegment(t,e,n,i,r,o){return(0,St.D)(n).pipe(Re(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(Fe(t=>{if(t instanceof Wi)return(0,Et.of)(null);throw t}))),$e(t=>!!t),Fe((t,n)=>{if(t instanceof ge||"EmptyError"===t.name){if($i(e,i,r))return(0,Et.of)(new Zn([],{}));throw new Wi(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,o,s){return Qi(i,e,r,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):Xi(e):Xi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?tr(r):this.lineralizeSegments(n,r).pipe((0,Ze.zg)(n=>{const r=new Zn(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Gi(e,i,r);if(!s)return Xi(e);const h=this.applyRedirectCommands(a,i.redirectTo,l);return i.redirectTo.startsWith("/")?tr(h):this.lineralizeSegments(i,h).pipe((0,Ze.zg)(i=>this.expandSegment(t,e,n,i.concat(r.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,Et.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,It.U)(t=>(n._loadedConfig=t,new Zn(i,{})))):(0,Et.of)(new Zn(i,{}));const{matched:o,consumedSegments:s,lastChild:a}=Gi(e,n,i);if(!o)return Xi(e);const c=i.slice(a);return this.getChildConfig(t,n,i).pipe((0,Ze.zg)(t=>{const i=t.module,o=t.routes,{segmentGroup:a,slicedSegments:l}=Yi(e,s,c,o),h=new Zn(a.segments,a.children);if(0===l.length&&h.hasChildren())return this.expandChildren(i,o,h).pipe((0,It.U)(t=>new Zn(s,t)));if(0===o.length&&0===l.length)return(0,Et.of)(new Zn(s,{}));const u=zi(n)===r;return this.expandSegment(i,h,o,l,u?vn:r,!0).pipe((0,It.U)(t=>new Zn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,Et.of)(new Di(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Et.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,Ze.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,It.U)(t=>(e._loadedConfig=t,t))):function(t){return new ae.y(e=>e.error(xn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,Et.of)(new Di([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;if(!i||0===i.length)return(0,Et.of)(!0);const r=i.map(i=>{const r=t.get(i);let o;if(function(t){return t&&Fi(t.canLoad)}(r))o=r.canLoad(e,n);else{if(!Fi(r))throw new Error("Invalid CanLoad guard");o=r(e,n)}return Sn(o)});return(0,Et.of)(r).pipe(Zi(),(0,We.b)(t=>{if(!Ni(t))return;const e=xn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,It.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,Et.of)(n);if(i.numberOfChildren>1||!i.children.primary)return er(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new Ln(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Tn(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let o={};return Tn(e.children,(e,r)=>{o[r]=this.createSegmentGroup(t,e,n,i)}),new Zn(r,o)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function ir(t){const e={};for(const n of Object.keys(t.children)){const i=ir(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Zn(t.segments.concat(e.segments),e.children)}return t}(new Zn(t.segments,e))}class rr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class or{constructor(t,e){this.component=t,this.route=e}}function sr(t,e,n){const i=t._root;return cr(i,e?e._root:null,n,[i.value])}function ar(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function cr(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=si(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!qn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!qn(t.url,e.url)||!On(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_i(t,e)||!On(t.queryParams,e.queryParams);case"paramsChange":default:return!_i(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new rr(i)):(o.data=s.data,o._resolvedData=s._resolvedData),cr(t,e,o.component?a?a.children:null:n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new or(a.outlet.component,s))}else s&&lr(e,a,r),r.canActivateChecks.push(new rr(i)),cr(t,null,o.component?a?a.children:null:n,i,r)}(t,o[t.value.outlet],n,i.concat([t.value]),r),delete o[t.value.outlet]}),Tn(o,(t,e)=>lr(t,n.getContext(e),r)),r}function lr(t,e,n){const i=si(t),r=t.value;Tn(i,(t,i)=>{lr(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new or(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class hr{}function ur(t){return new ae.y(e=>e.error(t))}class dr{constructor(t,e,n,i,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){const t=Yi(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vn);if(null===e)return null;const n=new ui([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new oi(n,e),r=new di(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=hi(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],o=Vi(t,r),s=this.processSegmentGroup(o,i,r);if(null===s)return null;n.push(...s)}const i=gr(n);return i.sort((t,e)=>t.value.outlet===vn?-1:e.value.outlet===vn?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return $i(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!Qi(t,e,n,i))return null;let r,o=[],s=[];if("**"===t.path){const i=n.length>0?kn(n).parameters:{};r=new ui(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mr(t),zi(t),t.component,t,fr(e),_r(e)+n.length,yr(t))}else{const i=Gi(e,t,n);if(!i.matched)return null;o=i.consumedSegments,s=n.slice(i.lastChild),r=new ui(o,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mr(t),zi(t),t.component,t,fr(e),_r(e)+o.length,yr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=Yi(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new oi(r,t)]}if(0===a.length&&0===l.length)return[new oi(r,[])];const h=zi(t)===i,u=this.processSegment(a,c,l,h?vn:i);return null===u?null:[new oi(r,u)]}}function pr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function gr(t){const e=[],n=new Set;for(const i of t){if(!pr(i)){e.push(i);continue}const t=e.find(t=>i.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...i.children),n.add(t)):e.push(i)}for(const i of n){const t=gr(i.children);e.push(new oi(i.value,t))}return e.filter(t=>!n.has(t))}function fr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _r(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function mr(t){return t.data||{}}function yr(t){return t.resolve||{}}function vr(t){return Ce(e=>{const n=t(e);return n?(0,St.D)(n).pipe((0,It.U)(()=>e)):(0,Et.of)(e)})}class Cr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const br=new i.OlP("ROUTES");class xr{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,It.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Di(wn(r.injector.get(br,void 0,i.XFs.Self|i.XFs.Optional)).map(ji),r)}),Fe(t=>{throw e._loader$=void 0,t}));return e._loader$=new ve.c(n,()=>new At.xQ).pipe((0,Bt.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,St.D)(this.loader.load(t)):Sn(t()).pipe((0,Ze.zg)(t=>t instanceof i.YKP?(0,Et.of)(t):(0,St.D)(this.compiler.compileModuleAsync(t))))}}class Pr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Or,this.attachRef=null}}class Or{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Pr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Mr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function wr(t){throw t}function kr(t,e,n){return e.parse("/")}function Tr(t,e){return(0,Et.of)(null)}const Sr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Er={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ar=(()=>{class t{constructor(t,e,n,r,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new At.xQ,this.errorHandler=wr,this.malformedUriErrorHandler=kr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Tr,afterPreactivation:Tr},this.urlHandlingStrategy=new Mr,this.routeReuseStrategy=new Cr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(i.h0i),this.console=o.get(i.c2e);const l=o.get(i.R0b);this.isNgZoneEnabled=l instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Ln(new Zn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xr(s,a,t=>this.triggerEvent(new dn(t)),t=>this.triggerEvent(new pn(t))),this.routerState=ci(this.currentUrlTree,this.rootComponentType),this.transitions=new te({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ae(t=>0!==t.id),(0,It.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ce(t=>{let n=!1,i=!1;return(0,Et.of)(t).pipe((0,We.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ce(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,Et.of)(t).pipe(Ce(t=>{const n=this.transitions.getValue();return e.next(new nn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?me.E:Promise.resolve(t)}),(i=this.ngModule.injector,r=this.configLoader,o=this.urlSerializer,s=this.config,Ce(t=>function(t,e,n,i,r){return new nr(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,s).pipe((0,It.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,We.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return(0,Ze.zg)(o=>function(t,e,n,i,r="emptyOnly",o="legacy"){try{const s=new dr(t,e,n,i,r,o).recognize();return null===s?ur(new hr):(0,Et.of)(s)}catch(s){return ur(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe((0,It.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,We.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new an(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:o,extras:s}=t,a=new nn(n,this.serializeUrl(i),r,o);e.next(a);const c=ci(i,this.rootComponentType).snapshot;return(0,Et.of)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:i,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),me.E}),vr(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),(0,We.b)(t=>{const e=new cn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,It.U)(t=>Object.assign(Object.assign({},t),{guards:sr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,Ze.zg)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,Et.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return(0,St.D)(t).pipe((0,Ze.zg)(t=>function(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Et.of)(!0);const s=o.map(o=>{const s=ar(o,e,r);let a;if(function(t){return t&&Fi(t.canDeactivate)}(s))a=Sn(s.canDeactivate(t,e,n,i));else{if(!Fi(s))throw new Error("Invalid CanDeactivate guard");a=Sn(s(t,e,n,i))}return a.pipe($e())});return(0,Et.of)(s).pipe(Zi())}(t.component,t.route,n,e,i)),$e(t=>!0!==t,!0))}(s,i,r,t).pipe((0,Ze.zg)(n=>n&&"boolean"==typeof n?function(t,e,n,i){return(0,St.D)(e).pipe(Re(e=>_e(function(t,e){return null!==t&&e&&e(new gn(t)),(0,Et.of)(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new _n(t)),(0,Et.of)(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>ye(()=>{const r=e.guards.map(r=>{const o=ar(r,e.node,n);let s;if(function(t){return t&&Fi(t.canActivateChild)}(o))s=Sn(o.canActivateChild(i,t));else{if(!Fi(o))throw new Error("Invalid CanActivateChild guard");s=Sn(o(i,t))}return s.pipe($e())});return(0,Et.of)(r).pipe(Zi())}));return(0,Et.of)(r).pipe(Zi())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Et.of)(!0);const r=i.map(i=>ye(()=>{const r=ar(i,e,n);let o;if(function(t){return t&&Fi(t.canActivate)}(r))o=Sn(r.canActivate(e,t));else{if(!Fi(r))throw new Error("Invalid CanActivate guard");o=Sn(r(e,t))}return o.pipe($e())}));return(0,Et.of)(r).pipe(Zi())}(t,e.route,n))),$e(t=>!0!==t,!0))}(i,o,t,e):(0,Et.of)(n)),(0,It.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,We.b)(t=>{if(Ni(t.guardsResult)){const e=xn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new ln(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ae(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new on(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),vr(t=>{if(t.guards.canActivateChecks.length)return(0,Et.of)(t).pipe((0,We.b)(t=>{const e=new hn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Ce(t=>{let n=!1;return(0,Et.of)(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,Ze.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return(0,Et.of)(t);let o=0;return(0,St.D)(n).pipe(Re(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return(0,Et.of)({});const o={};return(0,St.D)(r).pipe((0,Ze.zg)(r=>function(t,e,n,i){const r=ar(t,e,i);return Sn(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe((0,We.b)(t=>{o[r]=t}))),qe(1),(0,Ze.zg)(()=>Object.keys(o).length===r.length?(0,Et.of)(o):me.E))}(t._resolve,t,e,i).pipe((0,It.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),hi(t,n).resolve),null)))}(t.route,e,i,r)),(0,We.b)(()=>o++),qe(1),(0,Ze.zg)(e=>o===n.length?(0,Et.of)(t):me.E))})),(0,We.b)({next:()=>n=!0,complete:()=>{if(!n){const n=new on(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),(0,We.b)(t=>{const e=new un(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),vr(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),(0,It.U)(t=>{const e=function(t,e,n){const i=mi(t,e._root,n?n._root:void 0);return new ai(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,We.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),(0,It.U)(t=>(new Ai(o,t.targetRouterState,t.currentRouterState,s).activate(r),t))),(0,We.b)({next(){n=!0},complete(){n=!0}}),Ke(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new on(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Fe(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=Ni(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new on(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new sn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var r;return me.E}));var r,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){qi(t),this.config=t.map(ji),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,c=s?this.currentUrlTree.fragment:r;let l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,i,r){if(0===n.length)return bi(e.root,e.root,e,i,r);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Pi(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return Tn(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new Pi(n,e,i)}(n);if(o.toRoot())return bi(e.root,new Zn([],{}),e,i,r);const s=function(t,e,n){if(t.isAbsolute)return new Oi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Oi(t,t===e.root,0)}const i=vi(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Oi(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?wi(s.segmentGroup,s.index,o.commands):Mi(s.segmentGroup,s.index,o.commands);return bi(s.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,l,null!=c?c:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ni(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},Sr):!1===e?Object.assign({},Er):e,Ni(t))return In(this.currentUrlTree,t,n);const i=this.parseUrl(t);return In(this.currentUrlTree,i,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new rn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let c,l,h;r?(c=r.resolve,l=r.reject,h=r.promise):h=new Promise((t,e)=>{c=t,l=e});const u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.DyG),i.LFG(Un),i.LFG(Or),i.LFG(b),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Ir=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||vn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Dr(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Or),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Dr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===li?this.route:t===Or?this.childContexts:this.parent.get(t,e)}}class Fr{}class Nr{preload(t,e){return(0,Et.of)(null)}}let Lr=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new xr(e,n,e=>t.triggerEvent(new dn(e)),e=>t.triggerEvent(new pn(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ae(t=>t instanceof rn),Re(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return(0,St.D)(n).pipe((0,fe.J)(),(0,It.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,Et.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,Ze.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ar),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(Fr))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Zr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof nn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new yn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ar),i.LFG(V),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Rr=new i.OlP("ROUTER_CONFIGURATION"),qr=new i.OlP("ROUTER_FORROOT_GUARD"),Ur=[b,{provide:Un,useClass:Bn},{provide:Ar,useFactory:function(t,e,n,i,r,o,s,a={},c,l){const h=new Ar(null,t,e,n,i,r,o,wn(s));return c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing&&h.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),h},deps:[Un,Or,b,i.zs3,i.v3s,i.Sil,br,Rr,[class{},new i.FiY],[class{},new i.FiY]]},Or,{provide:li,useFactory:function(t){return t.routerState.root},deps:[Ar]},{provide:i.v3s,useClass:i.EAV},Lr,Nr,class{preload(t,e){return e().pipe(Fe(()=>(0,Et.of)(null)))}},{provide:Rr,useValue:{enableTracing:!1}}];function Br(){return new i.PXZ("Router",Ar)}let jr=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ur,Gr(e),{provide:qr,useFactory:Hr,deps:[[Ar,new i.FiY,new i.tp0]]},{provide:Rr,useValue:n||{}},{provide:_,useFactory:Vr,deps:[a,[new i.tBr(y),new i.FiY],Rr]},{provide:Zr,useFactory:zr,deps:[Ar,V,Rr]},{provide:Fr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Nr},{provide:i.PXZ,multi:!0,useFactory:Br},[Yr,{provide:i.ip1,multi:!0,useFactory:Jr,deps:[Yr]},{provide:$r,useFactory:Qr,deps:[Yr]},{provide:i.tb,multi:!0,useExisting:$r}]]}}static forChild(e){return{ngModule:t,providers:[Gr(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(qr,8),i.LFG(Ar,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function zr(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Zr(t,e,n)}function Vr(t,e,n={}){return n.useHash?new C(t,e):new v(t,e)}function Hr(t){return"guarded"}function Gr(t){return[{provide:i.deG,multi:!0,useValue:t},{provide:br,multi:!0,useValue:t}]}let Yr=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new At.xQ}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Ar),i=this.injector.get(Rr);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,Et.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Rr),n=this.injector.get(Lr),r=this.injector.get(Zr),o=this.injector.get(Ar),s=this.injector.get(i.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function Jr(t){return t.appInitializer.bind(t)}function Qr(t){return t.bootstrapListener.bind(t)}const $r=new i.OlP("Router Initializer");function Wr(t,e){if(1&t&&(i.TgZ(0,"div",1),i.TgZ(1,"div",2),i.TgZ(2,"div",3),i._UZ(3,"img",4),i.qZA(),i.qZA(),i.TgZ(4,"div",5),i.TgZ(5,"div",6),i._uU(6),i.qZA(),i.TgZ(7,"div",7),i._uU(8),i.qZA(),i.qZA(),i.TgZ(9,"div",8),i.TgZ(10,"div",9),i.TgZ(11,"div",10),i.TgZ(12,"div",11),i.TgZ(13,"div",12),i._UZ(14,"i",13),i.qZA(),i.qZA(),i.TgZ(15,"div",14),i._uU(16,"Starred Messages"),i.qZA(),i.TgZ(17,"div",15),i._UZ(18,"i",16),i.qZA(),i.qZA(),i._UZ(19,"div",17),i.qZA(),i.qZA(),i.TgZ(20,"div",8),i.TgZ(21,"div",18),i.TgZ(22,"div",19),i.TgZ(23,"div",11),i.TgZ(24,"div",20),i._UZ(25,"i",21),i.qZA(),i.qZA(),i.TgZ(26,"div",22),i._uU(27),i.qZA(),i.TgZ(28,"div",15),i._UZ(29,"i",16),i.qZA(),i.qZA(),i.TgZ(30,"div",17),i.TgZ(31,"div",23),i.TgZ(32,"div",24),i.TgZ(33,"div",25),i._UZ(34,"i",21),i.qZA(),i.qZA(),i.TgZ(35,"div",26),i.TgZ(36,"a",27),i._uU(37,"avt.png"),i.qZA(),i.qZA(),i.TgZ(38,"div",28),i._UZ(39,"i",29),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(40,"div",8),i.TgZ(41,"div",30),i.TgZ(42,"div",11),i.TgZ(43,"div",31),i._UZ(44,"i",32),i.qZA(),i.qZA(),i.TgZ(45,"div",33),i.TgZ(46,"span"),i._uU(47),i.qZA(),i.qZA(),i.TgZ(48,"div",15),i._UZ(49,"i",16),i.qZA(),i.TgZ(50,"div",17),i.TgZ(51,"div",34),i.TgZ(52,"div",35),i.TgZ(53,"div",36),i._UZ(54,"i",37),i.qZA(),i.qZA(),i.TgZ(55,"div",38),i.TgZ(56,"a",27),i._uU(57,"MockUp.zip"),i.qZA(),i.qZA(),i.TgZ(58,"div",39),i._UZ(59,"i",29),i.qZA(),i.qZA(),i.TgZ(60,"div",40),i.TgZ(61,"div",41),i.TgZ(62,"div",42),i._UZ(63,"i",43),i.qZA(),i.qZA(),i.TgZ(64,"div",44),i.TgZ(65,"a",27),i._uU(66,"Feedback.docx"),i.qZA(),i.qZA(),i.TgZ(67,"div",45),i._UZ(68,"i",29),i.qZA(),i.qZA(),i.TgZ(69,"div",46),i.TgZ(70,"div",47),i.TgZ(71,"div",48),i._UZ(72,"i",32),i.qZA(),i.qZA(),i.TgZ(73,"div",49),i.TgZ(74,"a",27),i._uU(75,"Client.txt"),i.qZA(),i.qZA(),i.TgZ(76,"div",50),i._UZ(77,"i",29),i.qZA(),i.qZA(),i.TgZ(78,"div",51),i.TgZ(79,"div",52),i.TgZ(80,"div",53),i._UZ(81,"i",54),i.qZA(),i.qZA(),i.TgZ(82,"div",55),i.TgZ(83,"a",27),i._uU(84,"New.pdf"),i.qZA(),i.qZA(),i.TgZ(85,"div",56),i._UZ(86,"i",29),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(87,"div",8),i.TgZ(88,"div",57),i.TgZ(89,"div",58),i.TgZ(90,"div",11),i.TgZ(91,"div",59),i._UZ(92,"i",60),i.qZA(),i.qZA(),i.TgZ(93,"div",61),i._uU(94,"Information"),i.qZA(),i.TgZ(95,"div",15),i._UZ(96,"i",16),i.qZA(),i.qZA(),i._UZ(97,"div",17),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(3),i.s9C("src",t.avatar,i.LSH),i.xp6(3),i.Oqu(t.ma_cuoc_tro_chuyen),i.xp6(2),i.Oqu(t.career),i.xp6(19),i.hij("Media(",t.amountMedia,")"),i.xp6(20),i.hij("File & Docs(",t.amountFiles,")")}}let Kr=(()=>{class t{constructor(t){this.route=t,this.name="William Halaand",this.career="CEO & Founded",this.avatar="assets/images/man.png",this.amountMedia=1,this.amountFiles=5,this.typeZip=".zip",this.typeDocx=".docx",this.typeTxt=".txt",this.typePdf=".pdf"}ngOnInit(){this.route.params.subscribe(t=>{this.ma_cuoc_tro_chuyen=t.id})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(li))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-file-send"]],inputs:{friends_list:"friends_list",selectedUser:"selectedUser"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"right-avatar"],[1,"avatar"],[3,"src"],[1,"right-title"],[1,"name"],[1,"career"],[1,"dropdown"],[1,"maindropdown-start"],[1,"startMessages"],[1,"includes"],[1,"start"],[1,"fas","fa-star"],[1,"starred-messages"],[1,"icon-angle-down"],[1,"fas","fa-angle-down"],[1,"dropdown-content"],[1,"maindropdown-media"],[1,"media"],[1,"images"],[1,"far","fa-image"],[1,"media-title"],[1,"filesMedia"],[1,"mediaInclude"],[1,"mediaIcon"],[1,"mediaName"],["href","#"],[1,"mediaLoad"],[1,"far","fa-arrow-alt-circle-down"],[1,"maindropdown"],[1,"drop-icon"],[1,"far","fa-file-alt"],[1,"drop-files"],[1,"filesZip"],[1,"zipInclude"],[1,"zipIcon"],[1,"fas","fa-folder-open"],[1,"zipName"],[1,"zipLoad"],[1,"filesDocx"],[1,"docxInclude"],[1,"docxIcon"],[1,"far","fa-file-word"],[1,"docxName"],[1,"docxLoad"],[1,"filesTxt"],[1,"txtInclude"],[1,"txtIcon"],[1,"txtName"],[1,"txtLoad"],[1,"filesPdf"],[1,"pdfInclude"],[1,"pdfIcon"],[1,"far","fa-file-pdf"],[1,"pdfName"],[1,"pdfLoad"],[1,"maindropdown-infor"],[1,"information"],[1,"includes-icon"],[1,"fas","fa-exclamation-triangle"],[1,"information-title"]],template:function(t,e){1&t&&i.YNc(0,Wr,98,5,"div",0),2&t&&i.Q6J("ngIf","danh-sach"!=e.ma_cuoc_tro_chuyen)},directives:[D],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{width:281px;position:absolute;height:760px;background-color:#fff;top:20px;left:843px;border-radius:27px;font-family:Raleway}.container[_ngcontent-%COMP%]   .right-avatar[_ngcontent-%COMP%]{margin-top:40px;width:66px;height:66px;border:2px solid #eef2fb;margin-left:100px}.container[_ngcontent-%COMP%]   .right-avatar[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .right-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%}.container[_ngcontent-%COMP%]   .right-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{box-shadow:0 8px 20px #d9f0f3;width:60px;height:60px;overflow:hidden}.container[_ngcontent-%COMP%]   .right-avatar[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;object-fit:cover;border-radius:50%;cursor:pointer}.container[_ngcontent-%COMP%]   .right-title[_ngcontent-%COMP%]{margin-top:15px}.container[_ngcontent-%COMP%]   .right-title[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:13px;font-weight:600;text-align:center}.container[_ngcontent-%COMP%]   .right-title[_ngcontent-%COMP%]   .career[_ngcontent-%COMP%]{margin-top:5px;font-size:11px;text-align:center}.container[_ngcontent-%COMP%]   .maindropdown-start[_ngcontent-%COMP%]{margin-top:25px;display:flex;position:relative;border-radius:14px;margin-left:20px}.container[_ngcontent-%COMP%]   .maindropdown-start[_ngcontent-%COMP%]   .startMessages[_ngcontent-%COMP%]{width:85%;margin-top:12px;display:flex;position:relative;background-color:rgba(255,242,225,.64);border-radius:14px;margin-left:10px;cursor:pointer}.container[_ngcontent-%COMP%]   .maindropdown-start[_ngcontent-%COMP%]   .startMessages[_ngcontent-%COMP%]   .includes[_ngcontent-%COMP%]{width:35px;height:35px;margin:12px;border-radius:50%;background-color:#fff}.container[_ngcontent-%COMP%]   .maindropdown-start[_ngcontent-%COMP%]   .startMessages[_ngcontent-%COMP%]   .includes[_ngcontent-%COMP%]   .start[_ngcontent-%COMP%]{font-size:16px;margin:8px;color:#9acd32a8}.container[_ngcontent-%COMP%]   .maindropdown-start[_ngcontent-%COMP%]   .starred-messages[_ngcontent-%COMP%]{font-size:13px;font-weight:600px;margin-top:21px}.container[_ngcontent-%COMP%]   .maindropdown-start[_ngcontent-%COMP%]   .icon-angle-down[_ngcontent-%COMP%]{padding:20px 10px 12px 22px}.container[_ngcontent-%COMP%]   .maindropdown-start[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:rgba(255,242,225,.64);min-width:189px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);padding:50px 14px 15px 15px;z-index:1;margin-top:73px;border-bottom-left-radius:14px;border-bottom-right-radius:14px;margin-left:13px}.container[_ngcontent-%COMP%]   .maindropdown-media[_ngcontent-%COMP%]{margin-top:22px;display:flex;position:relative;border-radius:14px;margin-left:20px}.container[_ngcontent-%COMP%]   .maindropdown-media[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{width:85%;margin-top:22px;display:flex;position:relative;background-color:#ffc0cb80;border-radius:14px;margin-left:10px;cursor:pointer}.container[_ngcontent-%COMP%]   .maindropdown-media[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .includes[_ngcontent-%COMP%]{width:35px;height:35px;margin:12px;object-fit:cover;border-radius:50%;background-color:#fff}.container[_ngcontent-%COMP%]   .maindropdown-media[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .includes[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{font-size:16px;margin:9px;color:#ff000091}.container[_ngcontent-%COMP%]   .maindropdown-media[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .media-title[_ngcontent-%COMP%]{font-weight:600px;font-size:13px;margin-top:24px}.container[_ngcontent-%COMP%]   .maindropdown-media[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .icon-angle-down[_ngcontent-%COMP%]{padding:24px 12px 17px 81px}.container[_ngcontent-%COMP%]   .maindropdown-media[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#ffc0cb80;min-width:189px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);padding:50px 14px 15px 15px;z-index:1;margin-top:83px;border-bottom-left-radius:14px;border-bottom-right-radius:14px;margin-left:13px}.container[_ngcontent-%COMP%]   .maindropdown-media[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesMedia[_ngcontent-%COMP%]{width:95%;margin-top:-40px;display:flex;position:relative;border-radius:27px;margin-left:-17px}.container[_ngcontent-%COMP%]   .maindropdown-media[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesMedia[_ngcontent-%COMP%]   .mediaInclude[_ngcontent-%COMP%]{width:35px;height:35px;margin:12px;object-fit:cover;border-radius:50%;background-color:#fff;cursor:pointer}.container[_ngcontent-%COMP%]   .maindropdown-media[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesMedia[_ngcontent-%COMP%]   .mediaInclude[_ngcontent-%COMP%]   .mediaIcon[_ngcontent-%COMP%]{font-size:15px;margin:9px;color:rgba(139,16,16,.57);padding:0 6px 12px 1px}.container[_ngcontent-%COMP%]   .maindropdown-media[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesMedia[_ngcontent-%COMP%]   .mediaName[_ngcontent-%COMP%]{font-size:12px;font-weight:600px;padding:22px 10px 27px 0}.container[_ngcontent-%COMP%]   .maindropdown-media[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesMedia[_ngcontent-%COMP%]   .mediaLoad[_ngcontent-%COMP%]{padding:21px 2px 19px 76px;color:grey}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]{width:80%;margin-top:45px;display:flex;position:relative;border-radius:14px;margin-left:29px;background-color:#d9f0f3c0;cursor:pointer}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .includes[_ngcontent-%COMP%]{width:35px;height:35px;margin:12px;object-fit:cover;border-radius:50%;background-color:#fff}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .includes[_ngcontent-%COMP%]   .drop-icon[_ngcontent-%COMP%]{font-size:16px;margin:8px;color:rgba(0,0,255,.48);padding:0 6px 12px 4px}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .drop-files[_ngcontent-%COMP%]{font-size:13px;font-weight:600px;margin-top:23px}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .icon-angle-down[_ngcontent-%COMP%]{padding:22px 15px 15px 51px}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .drop-icon[_ngcontent-%COMP%]{font-size:20px;margin:6px;color:red}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#d9f0f3c0;min-width:193px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);padding:50px 14px 15px 15px;z-index:1;margin-top:60px;border-bottom-left-radius:14px;border-bottom-right-radius:14px;margin-left:3px}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesZip[_ngcontent-%COMP%]{width:95%;margin-top:-40px;display:flex;position:relative;border-radius:27px;margin-left:-17px}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesZip[_ngcontent-%COMP%]   .zipInclude[_ngcontent-%COMP%]{width:35px;height:35px;margin:12px;object-fit:cover;border-radius:50%;background-color:#fff;cursor:pointer}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesZip[_ngcontent-%COMP%]   .zipInclude[_ngcontent-%COMP%]   .zipIcon[_ngcontent-%COMP%]{font-size:15px;margin:9px;color:rgba(238,238,44,.73);padding:0 6px 12px 1px}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesZip[_ngcontent-%COMP%]   .zipName[_ngcontent-%COMP%]{font-size:12px;font-weight:600px;padding:22px 10px 27px 0}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesZip[_ngcontent-%COMP%]   .zipLoad[_ngcontent-%COMP%]{padding:21px 2px 19px 50px;color:grey}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesDocx[_ngcontent-%COMP%]{width:95%;margin-top:-12px;display:flex;position:relative;border-radius:27px;margin-left:-17px}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesDocx[_ngcontent-%COMP%]   .docxInclude[_ngcontent-%COMP%]{width:35px;height:35px;margin:12px;object-fit:cover;border-radius:50%;background-color:#fff;cursor:pointer}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesDocx[_ngcontent-%COMP%]   .docxInclude[_ngcontent-%COMP%]   .docxIcon[_ngcontent-%COMP%]{font-size:15px;margin:10px;color:#a5a5fd}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesDocx[_ngcontent-%COMP%]   .docxName[_ngcontent-%COMP%]{font-size:12px;font-weight:600px;padding:22px 10px 27px 0}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesDocx[_ngcontent-%COMP%]   .docxLoad[_ngcontent-%COMP%]{padding:21px 2px 19px 35px;color:grey}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesTxt[_ngcontent-%COMP%]{width:95%;margin-top:-12px;display:flex;position:relative;border-radius:27px;margin-left:-17px}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesTxt[_ngcontent-%COMP%]   .txtInclude[_ngcontent-%COMP%]{width:35px;height:35px;margin:12px;object-fit:cover;border-radius:50%;background-color:#fff;cursor:pointer}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesTxt[_ngcontent-%COMP%]   .txtInclude[_ngcontent-%COMP%]   .txtIcon[_ngcontent-%COMP%]{font-size:15px;margin:10px;color:plum}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesTxt[_ngcontent-%COMP%]   .txtName[_ngcontent-%COMP%]{font-size:12px;font-weight:600px;padding:22px 10px 27px 0}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesTxt[_ngcontent-%COMP%]   .txtLoad[_ngcontent-%COMP%]{padding:21px 2px 19px 71px;color:grey}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesPdf[_ngcontent-%COMP%]{width:95%;margin-top:-12px;display:flex;position:relative;border-radius:27px;margin-left:-17px}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesPdf[_ngcontent-%COMP%]   .pdfInclude[_ngcontent-%COMP%]{width:35px;height:35px;margin:12px;object-fit:cover;border-radius:50%;background-color:#fff;cursor:pointer}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesPdf[_ngcontent-%COMP%]   .pdfInclude[_ngcontent-%COMP%]   .pdfIcon[_ngcontent-%COMP%]{font-size:15px;margin:10px;color:rgba(255,0,0,.62)}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesPdf[_ngcontent-%COMP%]   .pdfName[_ngcontent-%COMP%]{font-size:12px;font-weight:600px;padding:22px 10px 27px 0}.container[_ngcontent-%COMP%]   .maindropdown[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .filesPdf[_ngcontent-%COMP%]   .pdfLoad[_ngcontent-%COMP%]{padding:21px 2px 19px 74px;color:grey}.container[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]   .maindropdown-infor[_ngcontent-%COMP%]{margin-top:22px;display:flex;position:relative;border-radius:14px;margin-left:20px}.container[_ngcontent-%COMP%]   .maindropdown-infor[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]{width:85%;margin-top:22px;display:flex;position:relative;background-color:hsla(39,85%,79%,.36);border-radius:14px;margin-left:10px;cursor:pointer;object-fit:cover}.container[_ngcontent-%COMP%]   .maindropdown-infor[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]   .includes[_ngcontent-%COMP%]{width:35px;height:35px;margin:12px;border-radius:50%;background-color:#fff}.container[_ngcontent-%COMP%]   .maindropdown-infor[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]   .includes[_ngcontent-%COMP%]   .includes-icon[_ngcontent-%COMP%]{font-size:14px;margin:9px;color:#ff000087}.container[_ngcontent-%COMP%]   .maindropdown-infor[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]   .information-title[_ngcontent-%COMP%]{font-weight:600px;font-size:13px;padding:21px 15px 15px 1px}.container[_ngcontent-%COMP%]   .maindropdown-infor[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]   .icon-angle-down[_ngcontent-%COMP%]{padding:22px 20px 15px 47px}.container[_ngcontent-%COMP%]   .maindropdown-infor[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:hsla(39,85%,79%,.36);min-width:193px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);padding:50px 14px 15px 15px;z-index:1;margin-top:82px;border-bottom-left-radius:14px;border-bottom-right-radius:14px;margin-left:10px}"]}),t})(),Xr=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class to{}class eo{getImg(){let t=[],e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(null!=this.thanh_vien)if("nhom"==this.loai)this.thanh_vien.length>1&&(t.push(this.thanh_vien[this.thanh_vien.length-1].hinh),t.push(this.thanh_vien[this.thanh_vien.length-2].hinh));else if("don"==this.loai)for(let n=0;n<this.thanh_vien.length;n++)if(this.thanh_vien[n].ma_tai_khoan!=e){t.push(this.thanh_vien[n].hinh);break}return t}getName(){let t=new to,e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(null!=this.thanh_vien){if("nhom"==this.loai)t.noi_dung=this.ten_nhom,t.noi_dung_goc=this.ten_nhom;else if("don"==this.loai)for(let n=0;n<this.thanh_vien.length;n++)if(this.thanh_vien[n].ma_tai_khoan!=e){t.noi_dung=this.thanh_vien[n].ten||"",t.noi_dung_goc=this.thanh_vien[n].ten||"";break}null!=t.noi_dung&&(t.noi_dung.length>37?(t.noi_dung=t.noi_dung.substring(0,37)+"...",t.is_cut=!0):t.is_cut=!1)}return t}getTime(){let t="";if(null!=this.thanh_vien){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),n=-999;for(let t=0;t<this.thanh_vien.length;t++)this.thanh_vien[t].ma_tai_khoan!=e&&this.thanh_vien[t].lan_cuoi_dang_nhap>n&&(n=this.thanh_vien[t].lan_cuoi_dang_nhap);let i=n,r=Number(new Date)-i,o=6e4;r<60*o?t=parseInt(r/o+"")+" ph\xfat":r<60*o*24?t=parseInt(r/(60*o)+"")+" gi\u1edd":r<60*o*24*7?t=parseInt(r/(60*o*24)+"")+" ng\xe0y":r<60*o*24*365?t=parseInt(r/(60*o*24*7)+"")+" tu\u1ea7n":r<60*o*24*365*100&&(t=parseInt(r/(60*o*24*365)+"")+" n\u0103m"),"nhom"==this.loai?t="Th\xe0nh vi\xean ho\u1ea1t \u0111\u1ed9ng g\u1ea7n nh\u1ea5t l\xe0 "+t+" tr\u01b0\u1edbc":"don"==this.loai&&(t="Ho\u1ea1t \u0111\u1ed9ng "+t+" tr\u01b0\u1edbc")}return t}}class no{}var io=n(8569),ro=n(1906),oo=n(619);class so{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ao(t,this.compare,this.keySelector))}}class ao extends ie.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class co{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new lo(t,this.observables,this.project))}}class lo extends re{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++)this.add(ce(this,e[r],void 0,r))}notifyNext(t,e,n){this.values[n]=e;const i=this.toRespond;if(i.length>0){const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class ho{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new uo(t,this.predicate))}}class uo extends ie.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var po=n(2346);function go(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,o,s=0,a=!1,c=!1;return function(l){let h;s++,!r||a?(a=!1,r=new Rt(t,e,i),h=r.subscribe(this),o=l.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){c=!0,o=void 0,r.complete()}}),c&&(o=void 0)):h=r.subscribe(this),this.add(()=>{s--,h.unsubscribe(),h=void 0,o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,r=void 0)})}}(i))}function fo(t,e){return e?Ce(()=>t,e):Ce(()=>t)}n(2107);var _o=n(3482);const mo=new i.OlP("angularfire2.auth.use-emulator"),yo=new i.OlP("angularfire2.auth.settings"),vo=new i.OlP("angularfire2.auth.tenant-id"),Co=new i.OlP("angularfire2.auth.langugage-code"),bo=new i.OlP("angularfire2.auth.use-device-language"),xo=new i.OlP("angularfire.auth.persistence");let Po=(()=>{class t{constructor(t,e,i,r,o,s,a,c,l,h){const u=new po.HU(r),d=(0,po.ss)(u),p=new At.xQ,g=(0,Et.of)(void 0).pipe((0,Nt.QV)(u.outsideAngular),Ce(()=>r.runOutsideAngular(()=>n.e(420).then(n.bind(n,7420)))),(0,It.U)(()=>(0,po.on)(t,r,e)),(0,It.U)(t=>r.runOutsideAngular(()=>{const e=o,n=s;return(0,po.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const i=r.runOutsideAngular(()=>t.auth());if(e&&i.useEmulator(`http://${e.join(":")}`),a&&(i.tenantId=a),i.languageCode=c,l&&i.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))i.settings[t]=e;return h&&i.setPersistence(h),i},[e,a,c,l,n,h])})),go({bufferSize:1,refCount:!1}));if(z(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Et.of)(null);else{g.pipe($e()).subscribe();const t=g.pipe(Ce(t=>t.getRedirectResult().then(t=>t,()=>null)),d,go({bufferSize:1,refCount:!1})),e=t=>new ae.y(e=>({unsubscribe:r.runOutsideAngular(()=>t(e))})),n=g.pipe(Ce(t=>e(t.onAuthStateChanged.bind(t)))),i=g.pipe(Ce(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(fo(n),(0,_o.R)(u.outsideAngular),(0,Nt.QV)(u.insideAngular)),this.user=t.pipe(fo(i),(0,_o.R)(u.outsideAngular),(0,Nt.QV)(u.insideAngular)),this.idToken=this.user.pipe(Ce(t=>t?(0,St.D)(t.getIdToken()):(0,Et.of)(null))),this.idTokenResult=this.user.pipe(Ce(t=>t?(0,St.D)(t.getIdTokenResult()):(0,Et.of)(null))),this.credential=(0,ro.T)(t,p,this.authState.pipe(Ae(t=>!t))).pipe((0,It.U)(t=>(null==t?void 0:t.user)?t:null),(0,_o.R)(u.outsideAngular),(0,Nt.QV)(u.insideAngular))}return(0,po.pX)(this,g,r,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>p.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(po.Dh),i.LFG(po.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(mo,8),i.LFG(yo,8),i.LFG(vo,8),i.LFG(Co,8),i.LFG(bo,8),i.LFG(xo,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(po.Dh),i.LFG(po.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(mo,8),i.LFG(yo,8),i.LFG(vo,8),i.LFG(Co,8),i.LFG(bo,8),i.LFG(xo,8))},token:t,providedIn:"any"}),t})();(0,po.GT)(Po,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var Oo=n(1858);function Mo(t){return null==t}function wo(t){return"function"==typeof t.set}function ko(t,e){return wo(e)?e:t.ref(e)}function To(t,e){if("string"==typeof t)return e.stringCase();if(wo(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function So(t,e,n="on",i=io.z){return new ae.y(r=>{let o=null;return o=t[n](e,(t,e)=>{i.schedule(()=>{r.next({snapshot:t,prevKey:e})}),"once"===n&&i.schedule(()=>r.complete())},t=>{i.schedule(()=>r.error(t))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe((0,It.U)(t=>{const{snapshot:n,prevKey:i}=t;let r=null;return n.exists()&&(r=n.key),{type:e,payload:n,prevKey:i,key:r}}),(0,oo.B)())}function Eo(t,e){const n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function Ao(t,e){const{payload:n,prevKey:i,key:r}=e,o=Eo(t,r),s=function(t,e){if(Mo(e))return 0;{const n=Eo(t,e);return-1===n?t.length:n+1}}(t,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const i={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,i],!1})}return t;case"child_added":if(o>-1){const r=t[o-1];(r&&r.key||null)!==i&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==i)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===r?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function Io(t){return(Mo(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Do(t,e,n){return function(t,e,n){return So(t,"value","once",n).pipe(Ce(i=>{const r=[(0,Et.of)(i)];return e.forEach(e=>r.push(So(t,e,"on",n))),(0,ro.T)(...r).pipe(Te(Ao,[]))}),t=>t.lift(new so(void 0,void 0)))}(t,e=Io(e),n)}function Fo(t,e,n){const i=(e=Io(e)).map(e=>So(t,e,"on",n));return(0,ro.T)(...i)}function No(t,e){return function(n,i){return To(n,{stringCase:()=>t.child(n)[e](i),firebaseCase:()=>n[e](i),snapshotCase:()=>n.ref[e](i)})}}function Lo(t){return function(e){return e?To(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function Zo(t,e){return function(){return So(t,"value","on",e)}}const Ro=new i.OlP("angularfire2.realtimeDatabaseURL"),qo=new i.OlP("angularfire2.database.use-emulator");let Uo=(()=>{class t{constructor(t,e,n,i,r,o,s){this.schedulers=new po.HU(r),this.keepUnstableUntilFirst=(0,po.ss)(this.schedulers);const a=o,c=(0,po.on)(t,r,e);!Oo.Z.auth&&s&&(0,po.yq)(),this.database=(0,po.sI)(`${c.name}.database.${n}`,"AngularFireDatabase",c,()=>{const t=r.runOutsideAngular(()=>c.database(n||void 0));return a&&t.useEmulator(...a),t},[a])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>ko(this.database,t));let i=n;return e&&(i=e(n)),function(t,e){const n=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:No(i,"update"),set:No(i,"set"),push:t=>i.push(t),remove:Lo(i),snapshotChanges:i=>Do(t,i,n).pipe(e.keepUnstableUntilFirst),stateChanges:i=>Fo(t,i,n).pipe(e.keepUnstableUntilFirst),auditTrail:i=>function(t,e,n){return function(t,e,n){return function(t,e){return So(t,"value","on",e).pipe((0,It.U)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new co(t,n))}}(e),(0,It.U)(([t,e])=>{const n=t.lastKeyToLoad,i=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:i}}),(i=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new ho(i))),(0,It.U)(t=>t.actions));var i}(t,Fo(t,e).pipe(Te((t,e)=>[...t,e],[])),n)}(t,i,n).pipe(e.keepUnstableUntilFirst),valueChanges:(i,r)=>Do(t,i,n).pipe((0,It.U)(t=>t.map(t=>r&&r.idField?Object.assign(Object.assign({},t.payload.val()),{[r.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)}}(i,this)}object(t){return e=this.schedulers.ngZone.runOutsideAngular(()=>ko(this.database,t)),n=this,{query:e,snapshotChanges:()=>Zo(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst),update:t=>e.ref.update(t),set:t=>e.ref.set(t),remove:()=>e.ref.remove(),valueChanges:()=>Zo(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst,(0,It.U)(t=>t.payload.exists()?t.payload.val():null))};var e,n}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(po.Dh),i.LFG(po.xv,8),i.LFG(Ro,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(qo,8),i.LFG(mo,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(po.Dh),i.LFG(po.xv,8),i.LFG(Ro,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(qo,8),i.LFG(mo,8))},token:t,providedIn:"any"}),t})(),Bo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Uo]}),t})(),jo=(()=>{class t{constructor(t){this.db=t,this.object_chat=new eo,this.update()}update(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));setTimeout(()=>{let e=Number(new Date);if(null!=this.object_chat){let n=!1;if(null!=this.object_chat.thanh_vien)for(let i=0;i<this.object_chat.thanh_vien.length;i++)if(this.object_chat.thanh_vien[i].ma_tai_khoan!=t&&e-this.object_chat.thanh_vien[i].lan_cuoi_dang_nhap<1e4){n=!0;break}this.object_chat.is_online=n}this.update()},5e3)}dienThongTinCoBan(t){this.object_chat.loai=t.loai_cuoc_tro_truyen,this.object_chat.mau=t.mau,this.object_chat.bieu_tuong_cam_xuc=t.bieu_tuong_cam_xuc}getObjectChat(t){return this.db.object("/cuoc_tro_chuyen/"+t).snapshotChanges()}getObjectChatThanhVien(t){return this.db.object("/thanh_vien_cuoc_tro_chuyen/"+t).snapshotChanges()}getThongTinTroChuyenNhom(t){return this.db.object("/thong_tin_tro_chuyen_nhom/"+t).snapshotChanges()}dienThongTinNhom(t){null!=t?0==t.ton_tai&&(this.object_chat.ten_nhom=t["ten-nhom"],this.object_chat.ma_tai_khoan_so_huu=t.chu_so_huu):(this.object_chat.ten_nhom=null,this.object_chat.ma_tai_khoan_so_huu=null)}dienThanhVien(t){let e=[];Object.entries(t).forEach(([t,n])=>{let i=new no;i.ma_tai_khoan=t,i.ngay_tham_gia=n.ngay_tham_gia,e.push(i)}),this.object_chat.thanh_vien=e}getDataThanhVien(){return this.db.object("/tai_khoan").snapshotChanges()}dienThongTinThanhVien(t){Object.entries(t).forEach(([t,e])=>{for(let n=0;n<this.object_chat.thanh_vien.length;n++)this.object_chat.thanh_vien[n].ma_tai_khoan==t&&(this.object_chat.thanh_vien[n].lan_cuoi_dang_nhap=e.lan_cuoi_dang_nhap,this.object_chat.thanh_vien[n].hinh=e.link_hinh,this.object_chat.thanh_vien[n].ten=e.ten)})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function zo(t){return Array.isArray(t)?t:[t]}function Vo(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Ho(t){return t instanceof i.SBq?t.nativeElement:t}var Go=n(5024);function Yo(t,e,n,i){return(0,Go.m)(n)&&(i=n,n=void 0),i?Yo(t,e,n).pipe((0,It.U)(t=>(0,ne.k)(t)?i(...t):i(t))):new ae.y(i=>{Jo(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function Jo(t,e,n,i,r){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),o=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),o=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),o=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)Jo(t[o],e,n,i,r)}i.add(o)}n(8277),n(1098),n(2709);class Qo{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new $o(t,this.durationSelector))}}class $o extends jt.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=(0,jt.ft)(n,new jt.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Wo=n(2293);function Ko(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Xo(t,e=io.P){return n=()=>function(t=0,e,n){let i=-1;return(0,Wo.k)(e)?i=Number(e)<1?1:Number(e):(0,ee.K)(e)&&(n=e),(0,ee.K)(n)||(n=io.P),new ae.y(e=>{const r=(0,Wo.k)(t)?t:+t-n.now();return n.schedule(Ko,r,{index:0,period:i,subscriber:e})})}(t,e),function(t){return t.lift(new Qo(n))};var n}let ts;try{ts="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(nv){ts=!1}let es,ns,is,rs=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ts)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.Lbi))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(i.Lbi))},token:t,providedIn:"root"}),t})(),os=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function ss(t){return function(){if(null==es&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>es=!0}))}finally{es=es||!1}return es}()?t:!!t.capture}function as(){if(null==ns){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ns=!1,ns;if("scrollBehavior"in document.documentElement.style)ns=!0;else{const t=Element.prototype.scrollTo;ns=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return ns}const cs=new i.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,i.f3M)(s)}});let ls=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.vpe,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(cs,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(cs,8))},token:t,providedIn:"root"}),t})(),hs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),us=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new At.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ae.y(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Xo(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Et.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Ae(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Ho(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Yo(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b),i.LFG(rs),i.LFG(s,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(i.R0b),i.LFG(rs),i.LFG(s,8))},token:t,providedIn:"root"}),t})(),ds=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new At.xQ,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Xo(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(rs),i.LFG(i.R0b),i.LFG(s,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(rs),i.LFG(i.R0b),i.LFG(s,8))},token:t,providedIn:"root"}),t})(),ps=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),gs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[hs,os,ps],hs,ps]}),t})();class fs{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class _s extends fs{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class ms extends fs{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class ys extends fs{constructor(t){super(),this.element=t instanceof i.SBq?t.nativeElement:t}}class vs extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof _s?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ms?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ys?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Cs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();const bs=as();class xs{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Vo(-this._previousScrollPosition.left),t.style.top=Vo(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),bs&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bs&&(e.scrollBehavior=i,n.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class Ps{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Os{enable(){}disable(){}attach(){}}function Ms(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function ws(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class ks{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Ms(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ts=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Os,this.close=t=>new Ps(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new xs(this._viewportRuler,this._document),this.reposition=t=>new ks(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(us),i.LFG(ds),i.LFG(i.R0b),i.LFG(s))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(us),i.LFG(ds),i.LFG(i.R0b),i.LFG(s))},token:t,providedIn:"root"}),t})();class Ss{constructor(t){if(this.scrollStrategy=new Os,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Es{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class As{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Is=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s))},token:t,providedIn:"root"}),t})(),Ds=(()=>{class t extends Is{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s))},token:t,providedIn:"root"}),t})(),Fs=(()=>{class t extends Is{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(e))break;r._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s),i.LFG(rs))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s),i.LFG(rs))},token:t,providedIn:"root"}),t})();const Ns="undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha;let Ls=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Ns){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),Ns?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s),i.LFG(rs))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s),i.LFG(rs))},token:t,providedIn:"root"}),t})();class Zs{constructor(t,e,n,i,r,o,s,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new At.xQ,this._attachments=new At.xQ,this._detachments=new At.xQ,this._locationChanges=Ft.w.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new At.xQ,this._outsidePointerEvents=new At.xQ,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Oe(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Vo(this._config.width),t.height=Vo(this._config.height),t.minWidth=Vo(this._config.minWidth),t.minHeight=Vo(this._config.minHeight),t.maxWidth=Vo(this._config.maxWidth),t.maxHeight=Vo(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;zo(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(zt((0,ro.T)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Rs="cdk-overlay-connected-position-bounding-box",qs=/([A-Za-z%]+)$/;class Us{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new At.xQ,this._resizeSubscription=Ft.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Rs),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),c=this._getOverlayFit(a,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?i.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!r||r.overlayFit.visibleArea<c.visibleArea)&&(r={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Bs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Rs),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){const r=zs(e);let{x:o,y:s}=t,a=this._getOffset(i,"x"),c=this._getOffset(i,"y");a&&(o+=a),c&&(s+=c);let l=0-s,h=s+r.height-n.height,u=this._subtractOverflows(r.width,0-o,o+r.width-n.width),d=this._subtractOverflows(r.height,l,h),p=u*d;return{visibleArea:p,isCompletelyWithinViewport:r.width*r.height===p,fitsInViewportVertically:d===r.height,fitsInViewportHorizontally:u==r.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,o=js(this._overlayRef.getConfig().minHeight),s=js(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=zs(e),r=this._viewportRect,o=Math.max(t.x+i.width-r.width,0),s=Math.max(t.y+i.height-r.height,0),a=Math.max(r.top-n.top-t.y,0),c=Math.max(r.left-n.left-t.x,0);let l=0,h=0;return l=i.width<=r.width?c||-o:t.x<this._viewportMargin?r.left-n.left-t.x:0,h=i.height<=r.height?a||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:l,y:h},{x:t.x+l,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new As(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,o,s,a,c,l;if("top"===e.overlayY)o=t.y,r=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,r=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,o=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-i/2)}return{top:o,left:c,bottom:s,right:l,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=Vo(n.height),i.top=Vo(n.top),i.bottom=Vo(n.bottom),i.width=Vo(n.width),i.left=Vo(n.left),i.right=Vo(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=Vo(t)),r&&(i.maxWidth=Vo(r))}this._lastBoundingBoxSize=n,Bs(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Bs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Bs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();Bs(n,this._getExactOverlayY(e,t,i)),Bs(n,this._getExactOverlayX(e,t,i))}else n.position="static";let s="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=Vo(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=Vo(o.maxWidth):r&&(n.maxWidth="")),Bs(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=Vo(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Vo(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ws(t,n),isOriginOutsideView:Ms(t,n),isOverlayClipped:ws(e,n),isOverlayOutsideView:Ms(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&zo(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof i.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Bs(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function js(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(qs);return n&&"px"!==n?null:parseFloat(e)}return t||null}function zs(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class Vs{constructor(t,e,n,i,r,o,s){this._preferredPositions=[],this._positionStrategy=new Us(n,i,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new Es(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Hs="cdk-global-overlay-wrapper";class Gs{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Hs),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:o,maxHeight:s}=n,a=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==r&&"100vh"!==r||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Hs),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Ys=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new Gs}connectedTo(t,e,n){return new Vs(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Us(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ds),i.LFG(s),i.LFG(rs),i.LFG(Ls))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(ds),i.LFG(s),i.LFG(rs),i.LFG(Ls))},token:t,providedIn:"root"}),t})(),Js=0,Qs=(()=>{class t{constructor(t,e,n,i,r,o,s,a,c,l,h){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=h}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Ss(t);return r.direction=r.direction||this._directionality.value,new Zs(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Js++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(i.z2F)),new vs(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ts),i.LFG(Ls),i.LFG(i._Vd),i.LFG(Ys),i.LFG(Ds),i.LFG(i.zs3),i.LFG(i.R0b),i.LFG(s),i.LFG(ls),i.LFG(b),i.LFG(Fs))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const $s={provide:new i.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Qs],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Ws=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Qs,$s],imports:[[hs,Cs,gs],gs]}),t})();function Ks(t,e=io.P){return n=>n.lift(new Xs(t,e))}class Xs{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ta(t,this.dueTime,this.scheduler))}}class ta extends ie.L{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ea,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function ea(t){t.debouncedNext()}let na=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ia=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[na]}),t})();function ra(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const oa="cdk-describedby-message-container",sa="cdk-describedby-host";let aa=0;const ca=new Map;let la=null,ha=(()=>{class t{constructor(t){this._document=t}describe(t,e,n){if(!this._canBeDescribed(t,e))return;const i=ua(e,n);"string"!=typeof e?(da(e),ca.set(i,{messageElement:e,referenceCount:0})):ca.has(i)||this._createMessageElement(e,n),this._isElementDescribedByMessage(t,i)||this._addMessageReference(t,i)}removeDescription(t,e,n){if(!e||!this._isElementNode(t))return;const i=ua(e,n);if(this._isElementDescribedByMessage(t,i)&&this._removeMessageReference(t,i),"string"==typeof e){const t=ca.get(i);t&&0===t.referenceCount&&this._deleteMessageElement(i)}la&&0===la.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(sa);la&&this._deleteMessagesContainer(),ca.clear()}_createMessageElement(t,e){const n=this._document.createElement("div");da(n),n.textContent=t,e&&n.setAttribute("role",e),this._createMessagesContainer(),la.appendChild(n),ca.set(ua(t,e),{messageElement:n,referenceCount:0})}_deleteMessageElement(t){const e=ca.get(t),n=e&&e.messageElement;la&&n&&la.removeChild(n),ca.delete(t)}_createMessagesContainer(){if(!la){const t=this._document.getElementById(oa);t&&t.parentNode&&t.parentNode.removeChild(t),la=this._document.createElement("div"),la.id=oa,la.style.visibility="hidden",la.classList.add("cdk-visually-hidden"),this._document.body.appendChild(la)}}_deleteMessagesContainer(){la&&la.parentNode&&(la.parentNode.removeChild(la),la=null)}_removeCdkDescribedByReferenceIds(t){const e=ra(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=ca.get(e);!function(t,e,n){const i=ra(t,e);i.some(t=>t.trim()==n.trim())||(i.push(n.trim()),t.setAttribute(e,i.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute(sa,""),n.referenceCount++}_removeMessageReference(t,e){const n=ca.get(e);n.referenceCount--,function(t,e,n){const i=ra(t,e).filter(t=>t!=n.trim());i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute(sa)}_isElementDescribedByMessage(t,e){const n=ra(t,"aria-describedby"),i=ca.get(e),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s))},token:t,providedIn:"root"}),t})();function ua(t,e){return"string"==typeof t?`${e||""}/${t}`:t}function da(t){t.id||(t.id="cdk-describedby-message-"+aa++)}"undefined"!=typeof Element&&Element;const pa=new i.OlP("cdk-focus-monitor-default-options"),ga=ss({passive:!0,capture:!0});let fa=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=function(t){return 0===t.buttons}(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{!function(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t)?(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=_a(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)):this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard")},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=_a(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=Ho(t);if(!this._platform.isBrowser||1!==n.nodeType)return(0,Et.of)(null);const i=function(t){if(function(){if(null==is){const t="undefined"!=typeof document?document.head:null;is=!(!t||!t.createShadowRoot&&!t.attachShadow)}return is}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const o={checkChildren:e,subject:new At.xQ,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=Ho(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=Ho(t);i===this._getDocument().activeElement?this._getClosestElementsInfo(i).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=_a(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===_a(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,ga),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,ga)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,ga),t.addEventListener("mousedown",this._documentMousedownListener,ga),t.addEventListener("touchstart",this._documentTouchstartListener,ga),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ga),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ga),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,ga),t.removeEventListener("mousedown",this._documentMousedownListener,ga),t.removeEventListener("touchstart",this._documentTouchstartListener,ga),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,i)=>{(i===t||n.checkChildren&&i.contains(t))&&e.push([i,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b),i.LFG(rs),i.LFG(s,8),i.LFG(pa,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(i.R0b),i.LFG(rs),i.LFG(s,8),i.LFG(pa,8))},token:t,providedIn:"root"}),t})();function _a(t){return t.composedPath?t.composedPath()[0]:t.target}const ma="cdk-high-contrast-black-on-white",ya="cdk-high-contrast-white-on-black",va="cdk-high-contrast-active";let Ca=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(va),t.remove(ma),t.remove(ya),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(va),t.add(ma)):2===e&&(t.add(va),t.add(ya))}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(rs),i.LFG(s))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(rs),i.LFG(s))},token:t,providedIn:"root"}),t})(),ba=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ca))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[os,ia]]}),t})();const xa=new i.GfV("12.0.5");class Pa{}const Oa="*";function Ma(t,e){return{type:7,name:t,definitions:e,options:{}}}function wa(t,e=null){return{type:4,styles:e,timings:t}}function ka(t,e=null){return{type:2,steps:t,options:e}}function Ta(t){return{type:6,styles:t,offset:null}}function Sa(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ea(t){return{type:5,steps:t}}function Aa(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Ia(t){Promise.resolve(null).then(t)}class Da{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ia(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Fa{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?Ia(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Na(){return"undefined"!=typeof window&&void 0!==window.document}function La(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Za(t){switch(t.length){case 0:return new Da;case 1:return t[0];default:return new Fa(t)}}function Ra(t,e,n,i,r={},o={}){const s=[],a=[];let c=-1,l=null;if(i.forEach(t=>{const n=t.offset,i=n==c,h=i&&l||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),a){case"!":a=r[n];break;case Oa:a=o[n];break;default:a=e.normalizeStyleValue(n,i,a,s)}h[i]=a}),i||a.push(h),l=h,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function qa(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Ua(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Ua(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Ua(n,"destroy",t)))}}function Ua(t,e,n){const i=n.totalTime,r=Ba(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function Ba(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ja(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function za(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Va=(t,e)=>!1,Ha=(t,e)=>!1,Ga=(t,e,n)=>[];const Ya=La();(Ya||"undefined"!=typeof Element)&&(Va=Na()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),Ha=(()=>{if(Ya||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Ha}})(),Ga=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let Ja=null,Qa=!1;function $a(t){Ja||(Ja=("undefined"!=typeof document?document.body:null)||{},Qa=!!Ja.style&&"WebkitAppearance"in Ja.style);let e=!0;return Ja.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Ja.style,!e&&Qa)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Ja.style),e}const Wa=Ha,Ka=Va,Xa=Ga;function tc(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let ec=(()=>{class t{validateStyleProperty(t){return $a(t)}matchesElement(t,e){return Wa(t,e)}containsElement(t,e){return Ka(t,e)}query(t,e,n){return Xa(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,o=[],s){return new Da(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),nc=(()=>{class t{}return t.NOOP=new ec,t})();const ic="ng-enter",rc="ng-leave",oc="ng-trigger",sc=".ng-trigger",ac="ng-animating",cc=".ng-animating";function lc(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hc(parseFloat(e[1]),e[2])}function hc(t,e){switch(e){case"s":return 1e3*t;default:return t}}function uc(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=hc(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=hc(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else i=t;if(!n){let n=!1,o=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:o}}(t,e,n)}function dc(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function pc(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else dc(t,n);return n}function gc(t,e,n){return n?e+":"+n+";":""}function fc(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=gc(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=gc(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function _c(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=Oc(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),La()&&fc(t))}function mc(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Oc(e);t.style[n]=""}),La()&&fc(t))}function yc(t){return Array.isArray(t)?1==t.length?t[0]:ka(t):t}const vc=new RegExp("{{\\s*(.+?)\\s*}}","g");function Cc(t){let e=[];if("string"==typeof t){let n;for(;n=vc.exec(t);)e.push(n[1]);vc.lastIndex=0}return e}function bc(t,e,n){const i=t.toString(),r=i.replace(vc,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function xc(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Pc=/-+([a-z0-9])/g;function Oc(t){return t.replace(Pc,(...t)=>t[1].toUpperCase())}function Mc(t,e){return 0===t||0===e}function wc(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let o=e[0],s=[];if(i.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var r=1;r<e.length;r++){let n=e[r];s.forEach(function(e){n[e]=Tc(t,e)})}}return e}function kc(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Tc(t,e){return window.getComputedStyle(t)[e]}const Sc="*";function Ec(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],o=i[2],s=i[3];e.push(Dc(r,s)),"<"!=o[0]||r==Sc&&s==Sc||e.push(Dc(s,r))}(t,n,e)):n.push(t),n}const Ac=new Set(["true","1"]),Ic=new Set(["false","0"]);function Dc(t,e){const n=Ac.has(t)||Ic.has(t),i=Ac.has(e)||Ic.has(e);return(r,o)=>{let s=t==Sc||t==r,a=e==Sc||e==o;return!s&&n&&"boolean"==typeof r&&(s=r?Ac.has(t):Ic.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?Ac.has(e):Ic.has(e)),s&&a}}const Fc=new RegExp("s*:selfs*,?","g");function Nc(t,e,n){return new Lc(t).build(e,n)}class Lc{constructor(t){this._driver=t}build(t,e){const n=new Zc(e);return this._resetContextStyleTimingState(n),kc(this,yc(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,o.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=i||{};if(n.styles.forEach(t=>{if(Rc(t)){const e=t;Object.keys(e).forEach(t=>{Cc(e[t]).forEach(t=>{o.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=xc(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=kc(this,yc(t.animation),e);return{type:1,matchers:Ec(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:qc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>kc(this,t,e)),options:qc(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=kc(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:qc(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Uc(uc(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Uc(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||uc(i,e),Uc(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:Ta({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,o=!1;if(!r){o=!0;const t={};n.easing&&(t.easing=n.easing),r=Ta(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,e);s.isEmptyStep=o,i=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Oa?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(Rc(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(r!=i&&r>=s.startTime&&i<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=s.startTime),a&&(o[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=Cc(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Rc(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Rc(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(i++,l=n.offset=c),s=s||l<0||l>1,o=o||l<a,a=l,r.push(l),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));const u=l-1,d=e.currentTime,p=e.currentAnimateTimings,g=p.duration;return c.forEach((t,i)=>{const o=h>0?i==u?1:h*i:r[i],s=o*g;e.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:kc(this,yc(t.animation),e),options:qc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:qc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:qc(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Fc,"")),[t=t.replace(/@\*/g,sc).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,cc),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,ja(e.collectedStyles,e.currentQuerySelector,{});const s=kc(this,yc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:qc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:uc(t.timings,e.errors,!0);return{type:12,animation:kc(this,yc(t.animation),e),timings:n,options:null}}}class Zc{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Rc(t){return!Array.isArray(t)&&"object"==typeof t}function qc(t){var e;return t?(t=dc(t)).params&&(t.params=(e=t.params)?dc(e):null):t={},t}function Uc(t,e,n){return{duration:t,delay:e,easing:n}}function Bc(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class jc{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const zc=new RegExp(":enter","g"),Vc=new RegExp(":leave","g");function Hc(t,e,n,i,r,o={},s={},a,c,l=[]){return(new Gc).buildKeyframes(t,e,n,i,r,o,s,a,c,l)}class Gc{buildKeyframes(t,e,n,i,r,o,s,a,c,l=[]){c=c||new jc;const h=new Jc(t,e,c,i,r,l,[]);h.options=a,h.currentTimeline.setStyles([o],null,h.errors,a),kc(this,n,h);const u=h.timelines.filter(t=>t.containsAnimation());if(u.length&&Object.keys(s).length){const t=u[u.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,h.errors,a)}return u.length?u.map(t=>t.buildKeyframes()):[Bc(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?lc(n.duration):null,o=null!=n.delay?lc(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),kc(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Yc);const t=lc(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>kc(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?lc(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);r&&s.delayNextStep(r),kc(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return uc(e.params?bc(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?lc(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Yc);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{e.currentQueryIndex=i;const s=e.createSubContext(t.options,n);r&&s.delayNextStep(r),n===e.element&&(a=s.currentTimeline),kc(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;kc(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}const Yc={};class Jc{constructor(t,e,n,i,r,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Qc(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=lc(n.duration)),null!=n.delay&&(i.delay=lc(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=bc(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new Jc(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Yc,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new $c(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,o){let s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(zc,"."+this._enterClassName)).replace(Vc,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return r||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Qc{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Qc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Oa,this._currentKeyframe[t]=Oa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=Oa})):pc(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=bc(o[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Oa),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const s=pc(r,!0);Object.keys(s).forEach(n=>{const i=s[n];"!"==i?t.add(n):i==Oa&&e.add(n)}),n||(s.offset=o/this.duration),i.push(s)});const r=t.size?xc(t.values()):[],o=e.size?xc(e.values()):[];if(n){const t=i[0],e=dc(t);t.offset=0,e.offset=1,i=[t,e]}return Bc(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class $c extends Qc{constructor(t,e,n,i,r,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=n+e,s=e/o,a=pc(t[0],!1);a.offset=0,r.push(a);const c=pc(t[0],!1);c.offset=Wc(s),r.push(c);const l=t.length-1;for(let i=1;i<=l;i++){let s=pc(t[i],!1);s.offset=Wc((e+s.offset*n)/o),r.push(s)}n=o,e=0,i="",t=r}return Bc(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function Wc(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Kc{}class Xc extends Kc{normalizePropertyName(t,e){return Oc(t)}normalizeStyleValue(t,e,n,i){let r="";const o=n.toString().trim();if(tl[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+r}}const tl=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function el(t,e,n,i,r,o,s,a,c,l,h,u,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:u,errors:d}}const nl={};class il{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}build(t,e,n,i,r,o,s,a,c,l){const h=[],u=this.ast.options&&this.ast.options.params||nl,d=this.buildStyles(n,s&&s.params||nl,h),p=a&&a.params||nl,g=this.buildStyles(i,p,h),f=new Set,_=new Map,m=new Map,y="void"===i,v={params:Object.assign(Object.assign({},u),p)},C=l?[]:Hc(t,e,this.ast.animation,r,o,d,g,v,c,h);let b=0;if(C.forEach(t=>{b=Math.max(t.duration+t.delay,b)}),h.length)return el(e,this._triggerName,n,i,y,d,g,[],[],_,m,b,h);C.forEach(t=>{const n=t.element,i=ja(_,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=ja(m,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&f.add(n)});const x=xc(f.values());return el(e,this._triggerName,n,i,y,d,g,C,x,_,m,b)}}class rl{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=dc(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let o=r[t];o.length>1&&(o=bc(o,i,e)),n[t]=o})}}),n}}class ol{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new rl(t.style,t.options&&t.options.params||{})}),sl(this.states,"true","1"),sl(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new il(t,e,this.states))}),this.fallbackTransition=new il(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function sl(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const al=new jc;class cl{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=Nc(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=Ra(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let o;const s=new Map;if(r?(o=Hc(this._driver,e,r,ic,rc,{},{},n,al,i),o.forEach(t=>{const e=ja(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Oa)})});const a=Za(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=Ba(e,"","","");return qa(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const ll="ng-animate-queued",hl="ng-animate-disabled",ul=".ng-animate-disabled",dl=[],pl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class fl{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=dc(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const _l="void",ml=new fl(_l);class yl{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ml(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const o=ja(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);const a=ja(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ml(t,oc),Ml(t,"ng-trigger-"+e),a[e]=ml),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),o=new Cl(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Ml(t,oc),Ml(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new fl(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=ml),c.value!==_l&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,c.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{mc(t,n),_c(t,i)})}return}const l=ja(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let h=r.matchTransition(a.value,c.value,t,c.params),u=!1;if(!h){if(!i)return;h=r.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:a,toState:c,player:o,isFallbackTransition:u}),u||(Ml(t,ll),o.onStart(()=>{wl(t,ll)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),l.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,sc,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,_l,i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Za(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const i=new Set;e.forEach(e=>{const r=e.name;if(i.has(r))return;i.add(r);const o=this._triggers[r].fallbackTransition,s=n[r]||ml,a=new fl(_l),c=new Cl(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:o,fromState:s,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==pl||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ml(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(e=>{if(e.name==n.triggerName){const i=Ba(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,qa(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class vl{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new yl(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(bl(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!bl(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ml(t,hl)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),wl(t,hl))}removeNode(t,e,n,i){if(bl(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return bl(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,sc,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,cc,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Za(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=pl,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,ul)&&this.markElementAsDisabled(t,!1),this.driver.query(t,ul,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ml(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Za(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new jc,i=[],r=new Map,o=[],s=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const h=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=Ol(u,this.collectedEnterElements),p=new Map;let g=0;d.forEach((t,e)=>{const n=ic+g++;p.set(e,n),t.forEach(t=>Ml(t,n))});const f=[],_=new Set,m=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){const t=this.collectedLeaveElements[E],e=t.__ng_removed;e&&e.setForRemoval&&(f.push(t),_.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>_.add(t)):m.add(t))}const y=new Map,v=Ol(u,Array.from(_));v.forEach((t,e)=>{const n=rc+g++;y.set(e,n),t.forEach(t=>Ml(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>wl(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>wl(t,n))}),f.forEach(t=>{this.processLeaveNode(t)})});const C=[],b=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(C.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!h||!this.driver.containsElement(h,r),u=y.get(r),d=p.get(r),g=this._buildInstruction(t,n,d,u,l);if(g.errors&&g.errors.length)b.push(g);else{if(l)return e.onStart(()=>mc(r,g.fromStyles)),e.onDestroy(()=>_c(r,g.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>mc(r,g.fromStyles)),e.onDestroy(()=>_c(r,g.toStyles)),void i.push(e);g.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,g.timelines),o.push({instruction:g,player:e,element:r}),g.queriedElements.forEach(t=>ja(s,t,[]).push(e)),g.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),g.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=c.get(e);i||c.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(b.length){const t=[];b.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),C.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,P=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(P.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{ja(x,e,[]).push(t),t.destroy()})});const O=f.filter(t=>Sl(t,a,c)),M=new Map;Pl(M,this.driver,m,c,Oa).forEach(t=>{Sl(t,a,c)&&O.push(t)});const w=new Map;d.forEach((t,e)=>{Pl(w,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=M.get(t),n=w.get(t);M.set(t,Object.assign(Object.assign({},e),n))});const k=[],T=[],S={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(l.has(e))return o.onDestroy(()=>_c(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);let t=S;if(P.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=P.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>P.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,x,r,w,M);if(o.setRealPlayer(n),t===S)k.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Za(e)),i.push(o)}}else mc(e,s.fromStyles),o.onDestroy(()=>_c(e,s.toStyles)),T.push(o),l.has(e)&&i.push(o)}),T.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Za(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let E=0;E<f.length;E++){const t=f[E],e=t.__ng_removed;if(wl(t,rc),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,cc,!0);for(let t=0;t<i.length;t++){let e=s.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?kl(this,t,i):this.processLeaveNode(t)}return f.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==_l;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&o.push(e)})}}return(n||i)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==i,c=ja(n,t,[]);this._getPreviousPlayers(t,a,r,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}mc(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,o){const s=e.triggerName,a=e.element,c=[],l=new Set,h=new Set,u=e.timelines.map(e=>{const u=e.element;l.add(u);const d=u.__ng_removed;if(d&&d.removedBeforeQueried)return new Da(e.duration,e.delay);const p=u!==a,g=function(t){const e=[];return Tl(t,e),e}((n.get(u)||dl).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===u),f=r.get(u),_=o.get(u),m=Ra(0,this._normalizer,0,e.keyframes,f,_),y=this._buildPlayer(e,m,g);if(e.subTimeline&&i&&h.add(u),p){const e=new Cl(t,s,u);e.setRealPlayer(y),c.push(e)}return y});c.forEach(t=>{ja(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Ml(t,ac));const d=Za(u);return d.onDestroy(()=>{l.forEach(t=>wl(t,ac)),_c(a,e.toStyles)}),h.forEach(t=>{ja(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Da(t.duration,t.delay)}}class Cl{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Da,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>qa(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ja(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function bl(t){return t&&1===t.nodeType}function xl(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Pl(t,e,n,i,r){const o=[];n.forEach(t=>o.push(xl(t)));const s=[];i.forEach((n,i)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=gl,s.push(i))}),t.set(i,o)});let a=0;return n.forEach(t=>xl(t,o[a++])),s}function Ol(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function o(t){if(!t)return 1;let e=r.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:i.has(s)?1:o(s),r.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function Ml(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function wl(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function kl(t,e,n){Za(n).onDone(()=>t.processLeaveNode(e))}function Tl(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof Fa?Tl(i.players,e):e.push(i)}}function Sl(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class El{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new vl(t,e,n),this._timelineEngine=new cl(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const o=t+"-"+i;let s=this._triggerCache[o];if(!s){const t=[],e=Nc(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new ol(t,e)}(i,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=za(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=za(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Al(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Dl(e[0]),e.length>1&&(i=Dl(e[e.length-1]))):e&&(n=Dl(e)),n||i?new Il(t,n,i):null}let Il=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&_c(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_c(this._element,this._initialStyles),this._endStyles&&(_c(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(mc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mc(this._element,this._endStyles),this._endStyles=null),_c(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Dl(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];Fl(r)&&(e=e||{},e[r]=t[r])}return e}function Fl(t){return"display"===t||"position"===t}const Nl="animation",Ll="animationend";class Zl{constructor(t,e,n,i,r,o,s){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=zl(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),jl(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Bl(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Rl(this._element,this._name,"paused")}resume(){Rl(this._element,this._name,"running")}setPosition(t){const e=ql(this._element,this._name);this._position=t*this._duration,jl(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Bl(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=zl(t,"").split(","),i=Ul(n,e);i>=0&&(n.splice(i,1),jl(t,"",n.join(",")))}(this._element,this._name))}}function Rl(t,e,n){jl(t,"PlayState",n,ql(t,e))}function ql(t,e){const n=zl(t,"");return n.indexOf(",")>0?Ul(n.split(","),e):Ul([n],e)}function Ul(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Bl(t,e,n){n?t.removeEventListener(Ll,e):t.addEventListener(Ll,e)}function jl(t,e,n,i){const r=Nl+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function zl(t,e){return t.style[Nl+e]||""}class Vl{constructor(t,e,n,i,r,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Zl(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Tc(this.element,n))})}this.currentSnapshot=t}}class Hl extends Da{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=tc(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Gl{constructor(){this._count=0}validateStyleProperty(t){return $a(t)}matchesElement(t,e){return Wa(t,e)}containsElement(t,e){return Ka(t,e)}query(t,e,n){return Xa(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>tc(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(t,e,n,i,r,o=[],s){const a=o.filter(t=>t instanceof Vl),c={};Mc(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=wc(t,e,c));if(0==n)return new Hl(t,l);const h="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(t,h,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(u);const d=Al(t,e),p=new Vl(t,e,h,n,i,r,l,d);return p.onDestroy(()=>{var t;(t=u).parentNode.removeChild(t)}),p}}class Yl{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Tc(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Jl{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ql().toString()),this._cssKeyframesDriver=new Gl}validateStyleProperty(t){return $a(t)}matchesElement(t,e){return Wa(t,e)}containsElement(t,e){return Ka(t,e)}query(t,e,n){return Xa(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const c={},l=o.filter(t=>t instanceof Yl);Mc(n,i)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const h=Al(t,e=wc(t,e=e.map(t=>pc(t,!1)),c));return new Yl(t,e,a,h)}}function Ql(){return Na()&&Element.prototype.animate||{}}let $l=(()=>{class t extends Pa{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?ka(t):t;return Xl(this._renderer,null,e,"register",[n]),new Wl(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.FYo),i.LFG(s))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class Wl extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Kl(this._id,t,e||{},this._renderer)}}class Kl{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Xl(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Xl(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const th="@",eh="@.disabled";let nh=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ih("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(o),new rh(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.FYo),i.LFG(El),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class ih{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==th&&e==eh?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class rh extends ih{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==th?"."==e.charAt(1)&&e==eh?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==th){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),o="";return r.charAt(0)!=th&&([r,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let oh=(()=>{class t extends El{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s),i.LFG(nc),i.LFG(Kc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const sh=new i.OlP("AnimationModuleType"),ah=[{provide:Pa,useClass:$l},{provide:Kc,useFactory:function(){return new Xc}},{provide:El,useClass:oh},{provide:i.FYo,useFactory:function(t,e,n){return new nh(t,e,n)},deps:[ut,El,i.R0b]}],ch=[{provide:nc,useFactory:function(){return"function"==typeof Ql()?new Jl:new Gl}},{provide:sh,useValue:"BrowserAnimations"},...ah],lh=[{provide:nc,useClass:ec},{provide:sh,useValue:"NoopAnimations"},...ah];let hh=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?lh:ch}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:ch,imports:[wt]}),t})();const uh=new i.GfV("12.0.5"),dh=new i.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ph,gh=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return(0,i.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&uh.full!==xa.full&&console.warn("The Angular Material version ("+uh.full+") does not match the Angular CDK version ("+xa.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ca),i.LFG(dh,8),i.LFG(s))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[hs],hs]}),t})();try{ph="undefined"!=typeof Intl}catch(nv){ph=!1}class fh{constructor(t){this.total=t}call(t,e){return e.subscribe(new _h(t,this.total))}}class _h extends ie.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const mh=new Set;let yh,vh=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ch}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!mh.has(t))try{yh||(yh=document.createElement("style"),yh.setAttribute("type","text/css"),document.head.appendChild(yh)),yh.sheet&&(yh.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),mh.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(rs))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(rs))},token:t,providedIn:"root"}),t})();function Ch(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let bh=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new At.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return xh(zo(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=ue(xh(zo(t)).map(t=>this._registerQuery(t).observable));return e=_e(e.pipe(Oe(1)),e.pipe(t=>t.lift(new fh(1)),Ks(0))),e.pipe((0,It.U)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new ae.y(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(ke(e),(0,It.U)(({matches:e})=>({query:t,matches:e})),zt(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(vh),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(vh),i.LFG(i.R0b))},token:t,providedIn:"root"}),t})();function xh(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const Ph={tooltipState:Ma("state",[Sa("initial, void, hidden",Ta({opacity:0,transform:"scale(0)"})),Sa("visible",Ta({transform:"scale(1)"})),Aa("* => visible",wa("200ms cubic-bezier(0, 0, 0.2, 1)",Ea([Ta({opacity:0,transform:"scale(0)",offset:0}),Ta({opacity:.5,transform:"scale(0.99)",offset:.5}),Ta({opacity:1,transform:"scale(1)",offset:1})]))),Aa("* => hidden",wa("100ms cubic-bezier(0, 0, 0.2, 1)",Ta({opacity:0})))])},Oh=ss({passive:!0}),Mh=new i.OlP("mat-tooltip-scroll-strategy"),wh={provide:Mh,deps:[Qs],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},kh=new i.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Th=(()=>{class t{constructor(t,e,n,i,r,o,s,a,c,l,h,u){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._platform=o,this._ariaDescriber=s,this._focusMonitor=a,this._dir=l,this._defaultOptions=h,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new At.xQ,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=c,this._document=u,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),l.change.pipe(zt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),r.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){var e;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(e=this._tooltipInstance)||void 0===e||e.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=function(t){return null!=t&&"false"!=`${t}`}(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(zt(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([e,n])=>{t.removeEventListener(e,n,Oh)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new _s(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(zt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return e.positionChanges.pipe(zt(this._destroyed)).subscribe(t=>{this._updateCurrentPositionClass(t.connectionPair),this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:`${this._cssClassPrefix}-tooltip-panel`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(zt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const e=t.getConfig().positionStrategy,n=this._getOrigin(),i=this._getOverlayPosition();e.withPositions([this._addOffset(Object.assign(Object.assign({},n.main),i.main)),this._addOffset(Object.assign(Object.assign({},n.fallback),i.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e||"below"==e?n={originX:"center",originY:"above"==e?"top":"bottom"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={originX:"start",originY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={originX:"end",originY:"center"});const{x:i,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:r}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e?n={overlayX:"center",overlayY:"bottom"}:"below"==e?n={overlayX:"center",overlayY:"top"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={overlayX:"end",overlayY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={overlayX:"start",overlayY:"center"});const{x:i,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Oe(1),zt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_updateCurrentPositionClass(t){const{overlayY:e,originX:n,originY:i}=t;let r;if(r="center"===e?this._dir&&"rtl"===this._dir.value?"end"===n?"left":"right":"start"===n?"left":"right":"bottom"===e&&"top"===i?"above":"below",r!==this._currentPosition){const t=this._overlayRef;if(t){const e=`${this._cssClassPrefix}-tooltip-panel-`;t.removePanelClass(e+this._currentPosition),t.addPanelClass(e+r)}this._currentPosition=r}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",t=>this._wheelListener(t)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const e=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([t,e])=>{this._elementRef.nativeElement.addEventListener(t,e,Oh)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const e=this._document.elementFromPoint(t.clientX,t.clientY),n=this._elementRef.nativeElement;e===n||n.contains(e)||this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Qs),i.Y36(i.SBq),i.Y36(us),i.Y36(i.s_b),i.Y36(i.R0b),i.Y36(rs),i.Y36(ha),i.Y36(fa),i.Y36(void 0),i.Y36(ls),i.Y36(void 0),i.Y36(s))},t.\u0275dir=i.lG2({type:t,inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),t})(),Sh=(()=>{class t extends Th{constructor(t,e,n,i,r,o,s,a,c,l,h,u){super(t,e,n,i,r,o,s,a,c,l,h,u),this._tooltipComponent=Ah}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Qs),i.Y36(i.SBq),i.Y36(us),i.Y36(i.s_b),i.Y36(i.R0b),i.Y36(rs),i.Y36(ha),i.Y36(fa),i.Y36(Mh),i.Y36(ls,8),i.Y36(kh,8),i.Y36(s))},t.\u0275dir=i.lG2({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[i.qOj]}),t})(),Eh=(()=>{class t{constructor(t){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new At.xQ}show(t){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._markForCheck()},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t}),t})(),Ah=(()=>{class t extends Eh{constructor(t,e){super(t),this._breakpointObserver=e,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO),i.Y36(bh))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e._handleBodyInteraction()},!1,i.pYS)("auxclick",function(){return e._handleBodyInteraction()},!1,i.pYS),2&t&&i.Udp("zoom","visible"===e._visibility?1:null)},features:[i.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(i.TgZ(0,"div",0),i.NdJ("@state.start",function(){return e._animationStart()})("@state.done",function(t){return e._animationDone(t)}),i.ALo(1,"async"),i._uU(2),i.qZA()),2&t){let t;i.ekj("mat-tooltip-handset",null==(t=i.lcZ(1,5,e._isHandset))?null:t.matches),i.Q6J("ngClass",e.tooltipClass)("@state",e._visibility),i.xp6(2),i.Oqu(e.message)}},directives:[S],pipes:[B],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[Ph.tooltipState]},changeDetection:0}),t})(),Ih=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[wh],imports:[[ba,j,Ws,gh],gh,ps]}),t})();function Dh(t,e){if(1&t&&(i.TgZ(0,"div",17),i._UZ(1,"img",18),i._UZ(2,"img",19),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("src",t.header_service.object_chat.getImg()[0]||"assets/images/loading.gif",i.LSH),i.xp6(1),i.Q6J("src",t.header_service.object_chat.getImg()[1]||"assets/images/loading.gif",i.LSH)}}function Fh(t,e){if(1&t&&(i.TgZ(0,"div",20),i._UZ(1,"img",21),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("src",t.header_service.object_chat.getImg()[0]||"assets/images/loading.gif",i.LSH)}}function Nh(t,e){1&t&&(i.TgZ(0,"div",22),i._UZ(1,"div",23),i.qZA())}function Lh(t,e){1&t&&(i.TgZ(0,"p",24),i._uU(1,"Online"),i.qZA())}function Zh(t,e){if(1&t&&(i.TgZ(0,"p",24),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.hij(" ",t.header_service.object_chat.getTime(),"")}}function Rh(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",25),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(),n=i.MAs(17);return e.openMenu(n)}),i._UZ(1,"i",26),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Udp("color",t.header_service.object_chat.mau)}}let qh=(()=>{class t{constructor(t,e,n){this.route=t,this.messenger_main_service=e,this.header_service=n}ngOnInit(){this.route.params.subscribe(t=>{null==this.header_service.layAllCuocTroChuyen||this.header_service.layAllCuocTroChuyen.unsubscribe(),this.getData()})}getData(){this.header_service.layAllCuocTroChuyen=this.header_service.getObjectChat(this.messenger_main_service.ma_cuoc_tro_chuyen).subscribe(t=>{this.header_service.dienThongTinCoBan(t.payload.toJSON()),null==this.header_service.layThongTinNhom||this.header_service.layThongTinNhom.unsubscribe(),this.layThongTinNhom()})}layThongTinNhom(){this.header_service.layThongTinNhom=this.header_service.getThongTinTroChuyenNhom(this.messenger_main_service.ma_cuoc_tro_chuyen).subscribe(t=>{this.header_service.dienThongTinNhom(t.payload.toJSON()),null==this.header_service.layThanhVien||this.header_service.layThanhVien.unsubscribe(),this.layThanhVien()})}layThanhVien(){this.header_service.layThanhVien=this.header_service.getObjectChatThanhVien(this.messenger_main_service.ma_cuoc_tro_chuyen).subscribe(t=>{this.header_service.dienThanhVien(t.payload.toJSON()),null==this.header_service.layThongTinThanhVien||this.header_service.layThongTinThanhVien.unsubscribe(),this.layThongTinThanhVien()})}layThongTinThanhVien(){this.header_service.layThongTinThanhVien=this.header_service.getDataThanhVien().subscribe(t=>{this.header_service.dienThongTinThanhVien(t.payload.toJSON())})}openMenu(t){t.classList.contains("hidden")?t.classList.remove("hidden"):t.classList.add("hidden")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(li),i.Y36(Xr),i.Y36(jo))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-messenger-header"]],decls:21,vars:13,consts:[[1,"header"],[1,"hinh-dai-dien"],["class","nhom",4,"ngIf"],["class","don",4,"ngIf"],["class","online",4,"ngIf"],[1,"thong-tin"],["matTooltipClass","tooltip",1,"ten",3,"matTooltip","matTooltipDisabled"],["class","trang-thai",4,"ngIf"],[1,"icon"],["matTooltip","B\u1eaft \u0111\u1ea7u g\u1ecdi tho\u1ea1i","matTooltipClass","tooltip",1,"child"],[1,"fas","fa-phone-alt"],["matTooltip","B\u1eaft \u0111\u1ea7u g\u1ecdi video","matTooltipClass","tooltip",1,"child"],[1,"fas","fa-video"],["class","child","matTooltip","Nh\u1eefng l\u1ef1a ch\u1ecdn th\xeam","matTooltipClass","tooltip",3,"click",4,"ngIf"],[1,"box-select","hidden"],["boxSelect",""],[1,"fas","fa-running"],[1,"nhom"],["alt","",1,"hinh-1",3,"src"],["alt","",1,"hinh-2",3,"src"],[1,"don"],["alt","",3,"src"],[1,"online"],[1,"child"],[1,"trang-thai"],["matTooltip","Nh\u1eefng l\u1ef1a ch\u1ecdn th\xeam","matTooltipClass","tooltip",1,"child",3,"click"],[1,"fas","fa-ellipsis-h"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.YNc(2,Dh,3,2,"div",2),i.YNc(3,Fh,2,1,"div",3),i.YNc(4,Nh,2,0,"div",4),i.qZA(),i.TgZ(5,"div",5),i.TgZ(6,"div",6),i._uU(7),i.qZA(),i.YNc(8,Lh,2,0,"p",7),i.YNc(9,Zh,2,1,"p",7),i.qZA(),i.TgZ(10,"div",8),i.TgZ(11,"div",9),i._UZ(12,"i",10),i.qZA(),i.TgZ(13,"div",11),i._UZ(14,"i",12),i.qZA(),i.YNc(15,Rh,2,2,"div",13),i.TgZ(16,"div",14,15),i.TgZ(18,"button"),i._UZ(19,"i",16),i._uU(20,"R\u1eddi kh\u1ecfi nh\xf3m"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("ngIf","nhom"==e.header_service.object_chat.loai),i.xp6(1),i.Q6J("ngIf","don"==e.header_service.object_chat.loai),i.xp6(1),i.Q6J("ngIf",e.header_service.object_chat.is_online),i.xp6(2),i.Q6J("matTooltip",e.header_service.object_chat.getName().noi_dung_goc)("matTooltipDisabled",!e.header_service.object_chat.getName().is_cut),i.xp6(1),i.hij(" ",e.header_service.object_chat.getName().noi_dung," "),i.xp6(1),i.Q6J("ngIf",e.header_service.object_chat.is_online),i.xp6(1),i.Q6J("ngIf",!e.header_service.object_chat.is_online),i.xp6(3),i.Udp("color",e.header_service.object_chat.mau),i.xp6(2),i.Udp("color",e.header_service.object_chat.mau),i.xp6(1),i.Q6J("ngIf","nhom"==e.header_service.object_chat.loai))},directives:[D,Sh],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.header[_ngcontent-%COMP%]{width:100%;height:60px;background-color:#fff;border-radius:12px;box-shadow:4px 8px 28px 0 #d3dceb;position:relative;align-items:center;display:flex}.hinh-dai-dien[_ngcontent-%COMP%]{margin-left:20px;position:relative;width:40px;height:40px}.hinh-dai-dien[_ngcontent-%COMP%]   .nhom[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.hinh-dai-dien[_ngcontent-%COMP%]   .nhom[_ngcontent-%COMP%]   .hinh-1[_ngcontent-%COMP%]{left:0;bottom:0;z-index:10}.hinh-dai-dien[_ngcontent-%COMP%]   .nhom[_ngcontent-%COMP%]   .hinh-1[_ngcontent-%COMP%], .hinh-dai-dien[_ngcontent-%COMP%]   .nhom[_ngcontent-%COMP%]   .hinh-2[_ngcontent-%COMP%]{box-shadow:0 0 2px #909090;position:absolute;width:26px;height:26px;object-fit:cover;border-radius:50%}.hinh-dai-dien[_ngcontent-%COMP%]   .nhom[_ngcontent-%COMP%]   .hinh-2[_ngcontent-%COMP%]{z-index:9;top:0;right:0}.hinh-dai-dien[_ngcontent-%COMP%]   .don[_ngcontent-%COMP%]{width:100%;height:100%}.hinh-dai-dien[_ngcontent-%COMP%]   .don[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 0 2px #909090;width:100%;height:100%;object-fit:cover;border-radius:50%}.hinh-dai-dien[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{width:13px;height:13px;position:absolute;background-color:#fff;left:27px;bottom:0;display:flex;justify-content:center;align-items:center;border-radius:50%}.hinh-dai-dien[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{width:9px;height:9px;border-radius:50%;background-color:#31a24c}.thong-tin[_ngcontent-%COMP%]{height:40px;display:flex;flex-direction:column;justify-content:space-around;margin-left:20px}.thong-tin[_ngcontent-%COMP%]   .ten[_ngcontent-%COMP%]{font-size:13px;font-weight:600}.thong-tin[_ngcontent-%COMP%]   .ten[_ngcontent-%COMP%], .thong-tin[_ngcontent-%COMP%]   .trang-thai[_ngcontent-%COMP%]{font-family:Raleway;word-wrap:break-word;width:270px}.thong-tin[_ngcontent-%COMP%]   .trang-thai[_ngcontent-%COMP%]{color:#cbcbcb;font-size:11px;font-weight:500}.icon[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:space-between;right:10px}.icon[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.icon[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.icon[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{transform:translateX(77px) scaleY(0)!important}.icon[_ngcontent-%COMP%]   .box-select[_ngcontent-%COMP%]{transform:translateX(77px);position:absolute;padding:20px 40px 5px 15px;box-shadow:17px 20px 14px 4px #dbdae4;background-color:#fff;border-radius:5px;top:40px;right:0;z-index:1;transition:all .3s ease-in-out}.icon[_ngcontent-%COMP%]   .box-select[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;background-color:#fff;border:none;outline:none;cursor:pointer;width:125px;color:#5e6467;font-family:Raleway;justify-content:center;align-items:center;font-size:12px;font-weight:500;margin-bottom:14px}.icon[_ngcontent-%COMP%]   .box-select[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#90a4ae;font-size:17px;margin-right:10px;margin-top:-3px}"]}),t})();var Uh=n(2056);function Bh(t,e){return new ae.y(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let o=0,s=0;for(let a=0;a<i;a++){const c=(0,St.D)(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,s++),r[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==i&&l||(s===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}let jh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t}),t})(),zh=(()=>{class t extends jh{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,features:[i.qOj]}),t})();const Vh=new i.OlP("NgValueAccessor"),Hh={provide:Vh,useExisting:(0,i.Gpc)(()=>Yh),multi:!0},Gh=new i.OlP("CompositionEventMode");let Yh=(()=>{class t extends jh{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(Gh,8))},t.\u0275dir=i.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i._Bn([Hh]),i.qOj]}),t})();const Jh=new i.OlP("NgValidators"),Qh=new i.OlP("NgAsyncValidators");function $h(t){return null}function Wh(t){return null!=t}function Kh(t){const e=(0,i.QGY)(t)?(0,St.D)(t):t;return(0,i.CqO)(e),e}function Xh(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function tu(t,e){return e.map(e=>e(t))}function eu(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function nu(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Wh);return 0==e.length?null:function(t){return Xh(tu(t,e))}}(eu(t)):null}function iu(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Wh);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if((0,ne.k)(e))return Bh(e,null);if((0,Uh.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Bh(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Bh(t=1===t.length&&(0,ne.k)(t[0])?t[0]:t,null).pipe((0,It.U)(t=>e(...t)))}return Bh(t,null)}(tu(t,e).map(Kh)).pipe((0,It.U)(Xh))}}(eu(t)):null}function ru(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let ou=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=nu(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=iu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t}),t})(),su=(()=>{class t extends ou{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,features:[i.qOj]}),t})();class au extends ou{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let cu=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(au,2))},t.\u0275dir=i.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.qOj]}),t})();function lu(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hu(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const du="VALID",pu="INVALID",gu="PENDING",fu="DISABLED";function _u(t){return(Cu(t)?t.validators:t)||null}function mu(t){return Array.isArray(t)?nu(t):t||null}function yu(t,e){return(Cu(e)?e.asyncValidators:t)||null}function vu(t){return Array.isArray(t)?iu(t):t||null}function Cu(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class bu{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=mu(this._rawValidators),this._composedAsyncValidatorFn=vu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===du}get invalid(){return this.status===pu}get pending(){return this.status==gu}get disabled(){return this.status===fu}get enabled(){return this.status!==fu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=mu(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=vu(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=gu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fu,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=du,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==du&&this.status!==gu||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fu:du}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=gu,this._hasOwnPendingAsyncValidator=!0;const e=Kh(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof Pu?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Ou&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?fu:this.errors?pu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gu)?gu:this._anyControlsHaveStatus(pu)?pu:du}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Cu(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class xu extends bu{constructor(t=null,e,n){super(_u(e),yu(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){uu(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){uu(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Pu extends bu{constructor(t,e,n){super(_u(e),yu(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof xu?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ou extends bu{constructor(t,e,n){super(_u(e),yu(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof xu?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Mu={provide:au,useExisting:(0,i.Gpc)(()=>ku)},wu=(()=>Promise.resolve(null))();let ku=(()=>{class t extends au{constructor(t,e,n,r){super(),this.control=new xu,this._registered=!1,this.update=new i.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(t=>{t.constructor===Yh?n=t:Object.getPrototypeOf(t.constructor)===zh?i=t:r=t}),r||i||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(ru(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(ru(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();lu(e._rawValidators,r),lu(e._rawAsyncValidators,r)})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&hu(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&hu(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){wu.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;wu.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(su,9),i.Y36(Jh,10),i.Y36(Qh,10),i.Y36(Vh,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([Mu]),i.qOj,i.TTD]}),t})();const Tu={provide:Vh,useExisting:(0,i.Gpc)(()=>Su),multi:!0};let Su=(()=>{class t extends zh{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.NdJ("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i._Bn([Tu]),i.qOj]}),t})(),Eu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();const Au={provide:Jh,useExisting:(0,i.Gpc)(()=>Iu),multi:!0};let Iu=(()=>{class t{constructor(){this._validator=$h}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){var t;this._validator=(t="number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10),e=>{return null!=(n=e.value)&&"number"==typeof n.length&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null;var n})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&i.uIk("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i._Bn([Au]),i.TTD]}),t})(),Du=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Eu]]}),t})(),Fu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[Du]}),t})();class Nu{}let Lu=(()=>{class t{constructor(t){this.db=t,this.chenh_lech_height=0,this.object_chat_footer=new Nu}getHeight(){return 633-this.chenh_lech_height+"px"}getThongTinCoBan(t){return this.db.object("/cuoc_tro_chuyen/"+t).snapshotChanges()}dienThongTinCoBan(t){this.object_chat_footer.loai=t.loai_cuoc_tro_truyen,this.object_chat_footer.mau=t.mau,this.object_chat_footer.bieu_tuong_cam_xuc=t.bieu_tuong_cam_xuc}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Zu{getNoiDung(){return this.ten+" \u0111ang nh\u1eadp g\xec \u0111\xf3 :v"}}class Ru{isHaveMarginTopThongBao(t){return 0!=t}}class qu{getName(){if(null!=this.ten){let t=this.ten.trim().split(" ");return t[t.length-1]}return""}}class Uu{isOke(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));return this.ma_tai_khoan!=e&&this.ma_tai_khoan!=t&&"roi"==this.xem_chua}getHinh(t){if(null!=t)for(let e=0;e<t.length;e++)if(t[e].ma_tai_khoan==this.ma_tai_khoan)return t[e].link_hinh_dai_dien;return""}getNoiDung(t){return this.getName(t)+" xem l\xfac "+this.getTime()}getName(t){if(null!=t)for(let e=0;e<t.length;e++)if(t[e].ma_tai_khoan==this.ma_tai_khoan)return t[e].getName();return""}getTime(){let t=new Date(this.ngay_xem),e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),r=t.getHours(),o=t.getMinutes(),s=t.getSeconds();return`${r.toString().length>1?r:"0"+r}:${o.toString().length>1?o:"0"+o}:${s.toString().length>1?s:"0"+s} ${i.toString().length>1?i:"0"+i} Th\xe1ng ${n.toString().length>1?n:"0"+n}, ${e}`}}class Bu{getNoiDungHTML(t){if("gui_text"==this.loai_tin_nhan)return t.bypassSecurityTrustHtml(this.noi_dung);if("gui_text_icon"==this.loai_tin_nhan){let e=document.createElement("div");e.innerHTML=this.noi_dung;for(let t=0;t<e.children.length;t++)e.children[t].classList.remove("span-image-box-chat"),e.children[t].classList.add("gui_text_icon_icon");return t.bypassSecurityTrustHtml(e.innerHTML)}return""}getNoiDungThongBao(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(this.ma_tai_khoan==e)return"B\u1ea1n "+this.noi_dung;if(null!=t)for(let n=0;n<t.length;n++)if(t[n].ma_tai_khoan==this.ma_tai_khoan)return t[n].getName()+" "+this.noi_dung;return""}isBanThan(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));return this.ma_tai_khoan==t}getColor(t){return this.isBanThan()?t:"#e4e6eb"}getMarginTop(t,e){return 0==t?"0px":"thong_bao"==e[t-1].loai_tin_nhan||e[t-1].ma_tai_khoan!=this.ma_tai_khoan?"9px":e[t-1].ma_tai_khoan==this.ma_tai_khoan?"2px":"100px"}getTen(t){if(null!=t)for(let e=0;e<t.length;e++)if(t[e].ma_tai_khoan==this.ma_tai_khoan)return t[e].getName();return""}getHinh(t){if(null!=t)for(let e=0;e<t.length;e++)if(t[e].ma_tai_khoan==this.ma_tai_khoan)return t[e].link_hinh_dai_dien;return""}isDaGui(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));for(let e=0;e<this.tinh_trang_xem.length;e++)if(this.tinh_trang_xem[e].ma_tai_khoan!=t&&("roi"==this.tinh_trang_xem[e].xem_chua||"dang"==this.tinh_trang_xem[e].xem_chua))return!1;return!0}getTime(){let t=new Date(this.ngay_gui),e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),r=t.getHours(),o=t.getMinutes(),s=t.getSeconds();return`${r.toString().length>1?r:"0"+r}:${o.toString().length>1?o:"0"+o}:${s.toString().length>1?s:"0"+s} ${i.toString().length>1?i:"0"+i} Th\xe1ng ${n.toString().length>1?n:"0"+n}, ${e}`}isDaChuyen(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),e=0;for(let n=0;n<this.tinh_trang_xem.length;n++)if(this.tinh_trang_xem[n].ma_tai_khoan!=t){if("roi"==this.tinh_trang_xem[n].xem_chua)return!1;"chua"==this.tinh_trang_xem[n].xem_chua&&e++}return e!=this.tinh_trang_xem.length-1}isCoNguoiXem(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));for(let e=0;e<this.tinh_trang_xem.length;e++)if(this.tinh_trang_xem[e].ma_tai_khoan!=t&&this.tinh_trang_xem[e].ma_tai_khoan!=this.ma_tai_khoan&&"roi"==this.tinh_trang_xem[e].xem_chua)return!0;return!1}isShowNguoiXem(t,e){let n=0;for(let i=0;i<this.tinh_trang_xem.length;i++)this.tinh_trang_xem[i].isOke(this.ma_tai_khoan)&&this.isLastDaXem(t,this.tinh_trang_xem[i].ma_tai_khoan,e)&&n++;return n}getNguoiXemDuyNhatDo(t,e){for(let n=0;n<this.tinh_trang_xem.length;n++)if(this.tinh_trang_xem[n].isOke(this.ma_tai_khoan)&&this.isLastDaXem(t,this.tinh_trang_xem[n].ma_tai_khoan,e))return this.tinh_trang_xem[n];return null}isLastDaXem(t,e,n){for(let i=n.length-1;i>-1;i--)for(let r=0;r<n[i].tinh_trang_xem.length;r++)if(n[i].tinh_trang_xem[r].ma_tai_khoan==e){if("roi"==n[i].tinh_trang_xem[r].xem_chua)return i==t;break}return!1}isHaveBorderTop(t,e){return 0==t||e[t-1].ma_tai_khoan!=this.ma_tai_khoan||"thong_bao"==e[t-1].loai_tin_nhan||"gui_text_icon"==e[t-1].loai_tin_nhan}isHaveBorderBottom(t,e){return t==e.length-1||e[t+1].ma_tai_khoan!=this.ma_tai_khoan||"thong_bao"==e[t-1].loai_tin_nhan||"gui_text_icon"==e[t-1].loai_tin_nhan}}class ju{getImg(){let t=[],e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(null!=this.thanh_vien)if("nhom"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen)this.thanh_vien.length>1&&(t.push(this.thanh_vien[this.thanh_vien.length-1].link_hinh_dai_dien),t.push(this.thanh_vien[this.thanh_vien.length-2].link_hinh_dai_dien));else if("don"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen)for(let n=0;n<this.thanh_vien.length;n++)if(this.thanh_vien[n].ma_tai_khoan!=e){t.push(this.thanh_vien[n].link_hinh_dai_dien);break}return t}getCreateFriends(t){if("don"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen)return"B\u1ea1n v\xe0 "+this.getName()+" l\xe0 b\u1ea1n b\xe8 tr\xean Bessenger";if("nhom"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen){let e=0;if(null!=this.thanh_vien&&null!=t){let n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));for(let i=0;i<this.thanh_vien.length;i++){let r=this.thanh_vien[i].ma_tai_khoan;if(r!=n){let n=!1;for(let e=0;e<t.length;e++)if(t[e]==r){n=!0;break}n||e++}}}return 0==e?"":"B\u1ea1n ch\u01b0a k\xe9t n\u1ed1i v\u1edbi "+e+" th\xe0nh vi\xean"}return""}getName(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),e="";if(null!=this.thanh_vien)for(let n=0;n<this.thanh_vien.length;n++)if(this.thanh_vien[n].ma_tai_khoan!=t&&null!=this.thanh_vien[n].ten){let t=this.thanh_vien[n].ten.trim().split(" ");e=t[t.length-1]}return e}}let zu=(()=>{class t{constructor(t){this.db=t,this.object_chat=new ju,this.object_chat.cuoc_tro_truyen=new Ru,this.dang_nhaps=[],this.update(),this.updateDangNhap()}updateOnInput(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),n="",i="";if(null!=this.object_chat.thanh_vien)for(let r=0;r<this.object_chat.thanh_vien.length;r++)if(this.object_chat.thanh_vien[r].ma_tai_khoan==e){n=this.object_chat.thanh_vien[r].link_hinh_dai_dien,i=this.object_chat.thanh_vien[r].getName();break}setTimeout(()=>{let r=Number(new Date);this.db.object("/trang_thai_dang_nhap/"+t+"/"+e).update({lan_cuoi_dang_nhap:r,hinh:n,ten:i}),this.onInput&&this.updateOnInput(t)},2500)}getDangNhap(t){return this.db.object("/trang_thai_dang_nhap/"+t).snapshotChanges()}dienThongTinDangNhap(t){if(null!=t){let e=[],n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));Object.entries(t).forEach(([t,i])=>{if(t!=n){let n=new Zu;n.ma_tai_khoan=t,n.lan_cuoi_dang_nhap=i.lan_cuoi_dang_nhap,n.hinh=i.hinh,n.ten=i.ten,e.push(n)}});let i=Number(new Date),r=0;for(;r<e.length;)i-e[r].lan_cuoi_dang_nhap>2e3?e.splice(r,1):r++;this.dang_nhaps=e}}updateDangNhap(){setTimeout(()=>{let t=Number(new Date),e=0;for(;e<this.dang_nhaps.length;)t-this.dang_nhaps[e].lan_cuoi_dang_nhap>2e3?this.dang_nhaps.splice(e,1):e++;this.updateDangNhap()},3e3)}update(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));setTimeout(()=>{let e=Number(new Date);if(null!=this.object_chat){let n=!1;if(null!=this.object_chat.thanh_vien)for(let i=0;i<this.object_chat.thanh_vien.length;i++)if(this.object_chat.thanh_vien[i].ma_tai_khoan!=t&&e-this.object_chat.thanh_vien[i].lan_cuoi_dang_nhap<1e4){n=!0;break}this.object_chat.is_online=n}this.update()},5e3)}sumitTinNhan(t,e,n){let i=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),r=Number(new Date);this.db.list("/chi_tiet_cuoc_tro_chuyen/"+t).push({dia_chi_file:"",link_file:"",loai_tin_nhan:n,ma_tai_khoan:i,ma_tin_nhan_phan_hoi:"",ngay_gui:r,noi_dung:e}).then(e=>{let n=[];n.push({ma_tai_khoan:i,ngay_nhan:0,ngay_xem:r,xem_chua:"roi"});for(let t=0;t<this.object_chat.thanh_vien.length;t++)n.push({ma_tai_khoan:this.object_chat.thanh_vien[t].ma_tai_khoan,ngay_nhan:0,ngay_xem:0,xem_chua:"chua"});for(let i=0;i<n.length;i++)this.db.object("/chi_tiet_cuoc_tro_chuyen/"+t+"/"+e.key+"/tinh_trang_xem/"+n[i].ma_tai_khoan).update({ngay_nhan:n[i].ngay_nhan,ngay_xem:n[i].ngay_xem,xem_chua:n[i].xem_chua})})}getBanBe(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));return this.db.object("/ban_be/"+t).snapshotChanges()}getCreateFriends(){return this.object_chat.getCreateFriends(this.ban_bes)}layBanBe(t){let e=[];Object.entries(t).forEach(([t,n])=>{0==n.ton_tai&&e.push(t)}),this.ban_bes=e}dienThongTinCoBan(t){this.object_chat.cuoc_tro_truyen.loai_cuoc_tro_truyen=t.loai_cuoc_tro_truyen,this.object_chat.cuoc_tro_truyen.mau=t.mau,this.object_chat.cuoc_tro_truyen.bieu_tuong_cam_xuc=t.bieu_tuong_cam_xuc}getObjectChat(t){return this.db.object("/cuoc_tro_chuyen/"+t).snapshotChanges()}getObjectChatThanhVien(t){return this.db.object("/thanh_vien_cuoc_tro_chuyen/"+t).snapshotChanges()}getThongTinTroChuyenNhom(t){return this.db.object("/thong_tin_tro_chuyen_nhom/"+t).snapshotChanges()}dienThongTinNhom(t){null!=t?0==t.ton_tai&&(this.object_chat.cuoc_tro_truyen.ten_nhom=t["ten-nhom"],this.object_chat.cuoc_tro_truyen.ma_tai_khoan_chu_so_huu=t.chu_so_huu,this.object_chat.cuoc_tro_truyen.ngay_tao=t.ngay_tao,this.object_chat.cuoc_tro_truyen.ton_tai=t.ton_tai):(this.object_chat.cuoc_tro_truyen.ten_nhom=null,this.object_chat.cuoc_tro_truyen.ma_tai_khoan_chu_so_huu=null,this.object_chat.cuoc_tro_truyen.ngay_tao=null,this.object_chat.cuoc_tro_truyen.ton_tai=null)}dienThanhVien(t){let e=[];Object.entries(t).forEach(([t,n])=>{let i=new qu;i.ma_tai_khoan=t,i.ngay_tham_gia=n.ngay_tham_gia,i.trang_thai=n.trang_thai,i.roi_chua=n.roi_chua,i.ngay_roi_di=n.ngay_roi_di,e.push(i)}),this.object_chat.thanh_vien=e}getDataThanhVien(){return this.db.object("/tai_khoan").snapshotChanges()}dienThongTinThanhVien(t){Object.entries(t).forEach(([t,e])=>{for(let n=0;n<this.object_chat.thanh_vien.length;n++)this.object_chat.thanh_vien[n].ma_tai_khoan==t&&(this.object_chat.thanh_vien[n].lan_cuoi_dang_nhap=e.lan_cuoi_dang_nhap,this.object_chat.thanh_vien[n].link_hinh_dai_dien=e.link_hinh,this.object_chat.thanh_vien[n].ten=e.ten)})}getTinNhan(t){return this.db.object("/chi_tiet_cuoc_tro_chuyen/"+t).snapshotChanges()}dienTinNhan(t){let e=[];Object.entries(t).forEach(([t,n])=>{let i=new Bu;i.ma_tin_nhan=t,i.dia_chi_file=n.dia_chi_file,i.link_file=n.link_file,i.loai_tin_nhan=n.loai_tin_nhan,i.ma_tai_khoan=n.ma_tai_khoan,i.ma_tin_nhan_phan_hoi=n.ma_tin_nhan_phan_hoi,i.ngay_gui=n.ngay_gui,i.noi_dung=n.noi_dung;let r=n.tinh_trang_xem,o=[];null!=r&&(Object.entries(r).forEach(([t,e])=>{let n=new Uu;n.ma_tai_khoan=t,n.ngay_xem=e.ngay_xem,n.xem_chua=e.xem_chua,n.ngay_nhan=e.ngay_nhan,o.push(n)}),i.tinh_trang_xem=o,e.push(i))}),this.object_chat.cuoc_tro_truyen.tin_nhan=e}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vu=(()=>{class t{constructor(){this.resizeObserver=new ResizeObserver(t=>{let e=document.getElementById("tin-nhan-div");this.scrollHeight-this.scrollTop<=this.clientHeight&&(e.scrollTop=e.scrollHeight-e.clientHeight),this.clientHeight=e.clientHeight,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop})}register(t){this.resizeObserver.unobserve(t),this.resizeObserver.observe(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Hu(t,e){if(1&t&&(i.TgZ(0,"div",12),i._UZ(1,"img",13),i._UZ(2,"img",14),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("src",t.content_service.object_chat.getImg()[0]||"assets/images/loading.gif",i.LSH),i.xp6(1),i.Q6J("src",t.content_service.object_chat.getImg()[1]||"assets/images/loading.gif",i.LSH)}}function Gu(t,e){if(1&t&&(i.TgZ(0,"div",15),i._UZ(1,"img",16),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("src",t.content_service.object_chat.getImg()[0]||"assets/images/loading.gif",i.LSH)}}function Yu(t,e){1&t&&(i.TgZ(0,"div",17),i._UZ(1,"div",18),i.qZA())}function Ju(t,e){if(1&t&&(i.TgZ(0,"p",8),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.hij(" ",t.content_service.getCreateFriends(),"")}}function Qu(t,e){if(1&t&&(i.TgZ(0,"div",22),i._uU(1),i.qZA()),2&t){const t=i.oxw(),e=t.index,n=t.$implicit,r=i.oxw();i.ekj("top_thong_bao",r.content_service.object_chat.cuoc_tro_truyen.isHaveMarginTopThongBao(e)),i.xp6(1),i.hij(" ",n.getNoiDungThongBao(r.content_service.object_chat.thanh_vien)," ")}}function $u(t,e){if(1&t&&(i.TgZ(0,"div",31),i._UZ(1,"img",16),i.qZA()),2&t){const t=i.oxw(2).$implicit,e=i.oxw();i.Q6J("matTooltip",t.getTen(e.content_service.object_chat.thanh_vien)),i.xp6(1),i.Q6J("src",t.getHinh(e.content_service.object_chat.thanh_vien)||"assets/images/loading.gif",i.LSH)}}function Wu(t,e){1&t&&(i.TgZ(0,"div",35),i.O4$(),i.TgZ(1,"svg",36),i._UZ(2,"path",37),i._UZ(3,"path",38),i.qZA(),i.qZA())}function Ku(t,e){1&t&&(i.TgZ(0,"div",39),i.O4$(),i.TgZ(1,"svg",40),i._UZ(2,"path",41),i.qZA(),i.qZA())}function Xu(t,e){if(1&t&&(i.TgZ(0,"div",32),i.YNc(1,Wu,4,0,"div",33),i.YNc(2,Ku,3,0,"div",34),i.qZA()),2&t){const t=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",t.isDaGui()),i.xp6(1),i.Q6J("ngIf",t.isDaChuyen())}}function td(t,e){if(1&t&&(i.TgZ(0,"div",32),i.TgZ(1,"div",42),i._UZ(2,"img",16),i.qZA(),i.qZA()),2&t){const t=i.oxw(2),e=t.$implicit,n=t.index,r=i.oxw();i.ekj("trang_thai_gui_kpbt",!e.isBanThan()),i.xp6(1),i.Q6J("matTooltip",e.getNguoiXemDuyNhatDo(n,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan).getNoiDung(r.content_service.object_chat.thanh_vien)),i.xp6(1),i.Q6J("src",e.getNguoiXemDuyNhatDo(n,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan).getHinh(r.content_service.object_chat.thanh_vien)||"assets/images/loading.gif",i.LSH)}}function ed(t,e){if(1&t&&(i.TgZ(0,"div",46),i._UZ(1,"img",16),i.qZA()),2&t){const t=i.oxw().$implicit,e=i.oxw(4);i.Q6J("matTooltip",t.getNoiDung(e.content_service.object_chat.thanh_vien)),i.xp6(1),i.Q6J("src",t.getHinh(e.content_service.object_chat.thanh_vien)||"assets/images/loading.gif",i.LSH)}}function nd(t,e){if(1&t&&(i.TgZ(0,"div"),i.YNc(1,ed,2,2,"div",45),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(3),r=n.$implicit,o=n.index,s=i.oxw();i.xp6(1),i.Q6J("ngIf",t.isOke(r.ma_tai_khoan)&&r.isLastDaXem(o,t.ma_tai_khoan,s.content_service.object_chat.cuoc_tro_truyen.tin_nhan))}}function id(t,e){if(1&t&&(i.TgZ(0,"div",43),i.TgZ(1,"div",44),i.YNc(2,nd,2,1,"div",10),i.qZA(),i.qZA()),2&t){const t=i.oxw(2).$implicit;i.xp6(2),i.Q6J("ngForOf",t.tinh_trang_xem)}}function rd(t,e){if(1&t&&(i.TgZ(0,"div",23),i.TgZ(1,"div",24),i.YNc(2,$u,2,2,"div",25),i.TgZ(3,"div",26),i._UZ(4,"div",27),i.qZA(),i.YNc(5,Xu,3,2,"div",28),i.YNc(6,td,3,4,"div",29),i.qZA(),i.YNc(7,id,3,1,"div",30),i.qZA()),2&t){const t=i.oxw(),e=t.index,n=t.$implicit,r=i.oxw();i.Udp("margin-top",n.getMarginTop(e,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan)),i.ekj("ban_than_div",n.isBanThan()),i.xp6(2),i.Q6J("ngIf",!n.isBanThan()),i.xp6(1),i.Udp("background-color",n.getColor(r.content_service.object_chat.cuoc_tro_truyen.mau)),i.ekj("ban_than",n.isBanThan())("doi_phuong",!n.isBanThan())("border-tren-ban-than",n.isBanThan()&&n.isHaveBorderTop(e,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan))("border-duoi-ban-than",n.isBanThan()&&n.isHaveBorderBottom(e,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan))("border-tren-doi-phuong",!n.isBanThan()&&n.isHaveBorderTop(e,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan))("border-duoi-doi-phuong",!n.isBanThan()&&n.isHaveBorderBottom(e,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan)),i.Q6J("matTooltip",n.getTime()),i.xp6(1),i.Q6J("innerHTML",n.getNoiDungHTML(r.sanitized),i.oJD),i.xp6(1),i.Q6J("ngIf",1!=n.isShowNguoiXem(e,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan)),i.xp6(1),i.Q6J("ngIf",1==n.isShowNguoiXem(e,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan)),i.xp6(1),i.Q6J("ngIf",n.isCoNguoiXem()&&n.isShowNguoiXem(e,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan)>1)}}function od(t,e){if(1&t&&(i.TgZ(0,"div",31),i._UZ(1,"img",16),i.qZA()),2&t){const t=i.oxw(2).$implicit,e=i.oxw();i.Q6J("matTooltip",t.getTen(e.content_service.object_chat.thanh_vien)),i.xp6(1),i.Q6J("src",t.getHinh(e.content_service.object_chat.thanh_vien)||"assets/images/loading.gif",i.LSH)}}function sd(t,e){1&t&&(i.TgZ(0,"div",35),i.O4$(),i.TgZ(1,"svg",36),i._UZ(2,"path",37),i._UZ(3,"path",38),i.qZA(),i.qZA())}function ad(t,e){1&t&&(i.TgZ(0,"div",39),i.O4$(),i.TgZ(1,"svg",40),i._UZ(2,"path",41),i.qZA(),i.qZA())}function cd(t,e){if(1&t&&(i.TgZ(0,"div",32),i.YNc(1,sd,4,0,"div",33),i.YNc(2,ad,3,0,"div",34),i.qZA()),2&t){const t=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",t.isDaGui()),i.xp6(1),i.Q6J("ngIf",t.isDaChuyen())}}function ld(t,e){if(1&t&&(i.TgZ(0,"div",32),i.TgZ(1,"div",42),i._UZ(2,"img",16),i.qZA(),i.qZA()),2&t){const t=i.oxw(2),e=t.$implicit,n=t.index,r=i.oxw();i.ekj("trang_thai_gui_kpbt",!e.isBanThan()),i.xp6(1),i.Q6J("matTooltip",e.getNguoiXemDuyNhatDo(n,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan).getNoiDung(r.content_service.object_chat.thanh_vien)),i.xp6(1),i.Q6J("src",e.getNguoiXemDuyNhatDo(n,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan).getHinh(r.content_service.object_chat.thanh_vien)||"assets/images/loading.gif",i.LSH)}}function hd(t,e){if(1&t&&(i.TgZ(0,"div",46),i._UZ(1,"img",16),i.qZA()),2&t){const t=i.oxw().$implicit,e=i.oxw(4);i.Q6J("matTooltip",t.getNoiDung(e.content_service.object_chat.thanh_vien)),i.xp6(1),i.Q6J("src",t.getHinh(e.content_service.object_chat.thanh_vien)||"assets/images/loading.gif",i.LSH)}}function ud(t,e){if(1&t&&(i.TgZ(0,"div"),i.YNc(1,hd,2,2,"div",45),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(3),r=n.$implicit,o=n.index,s=i.oxw();i.xp6(1),i.Q6J("ngIf",t.isOke(r.ma_tai_khoan)&&r.isLastDaXem(o,t.ma_tai_khoan,s.content_service.object_chat.cuoc_tro_truyen.tin_nhan))}}function dd(t,e){if(1&t&&(i.TgZ(0,"div",43),i.TgZ(1,"div",44),i.YNc(2,ud,2,1,"div",10),i.qZA(),i.qZA()),2&t){const t=i.oxw(2).$implicit;i.xp6(2),i.Q6J("ngForOf",t.tinh_trang_xem)}}function pd(t,e){if(1&t&&(i.TgZ(0,"div",47),i.TgZ(1,"div",24),i.YNc(2,od,2,2,"div",25),i.TgZ(3,"div",26),i._UZ(4,"div",27),i.qZA(),i.YNc(5,cd,3,2,"div",28),i.YNc(6,ld,3,4,"div",29),i.qZA(),i.YNc(7,dd,3,1,"div",30),i.qZA()),2&t){const t=i.oxw(),e=t.index,n=t.$implicit,r=i.oxw();i.Udp("margin-top",n.getMarginTop(e,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan)),i.ekj("ban_than_div",n.isBanThan()),i.xp6(2),i.Q6J("ngIf",!n.isBanThan()),i.xp6(1),i.ekj("doi_phuong",!n.isBanThan()),i.Q6J("matTooltip",n.getTime()),i.xp6(1),i.Q6J("innerHTML",n.getNoiDungHTML(r.sanitized),i.oJD),i.xp6(1),i.Q6J("ngIf",1!=n.isShowNguoiXem(e,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan)),i.xp6(1),i.Q6J("ngIf",1==n.isShowNguoiXem(e,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan)),i.xp6(1),i.Q6J("ngIf",n.isCoNguoiXem()&&n.isShowNguoiXem(e,r.content_service.object_chat.cuoc_tro_truyen.tin_nhan)>1)}}function gd(t,e){if(1&t&&(i.TgZ(0,"div"),i.YNc(1,Qu,2,3,"div",19),i.YNc(2,rd,8,24,"div",20),i.YNc(3,pd,8,12,"div",21),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf","thong_bao"==t.loai_tin_nhan),i.xp6(1),i.Q6J("ngIf","gui_text"==t.loai_tin_nhan),i.xp6(1),i.Q6J("ngIf","gui_text_icon"==t.loai_tin_nhan)}}function fd(t,e){if(1&t&&(i.TgZ(0,"div",50),i.TgZ(1,"div",31),i._UZ(2,"img",16),i.qZA(),i.TgZ(3,"div",51),i._UZ(4,"main",52),i.qZA(),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(2);i.xp6(1),i.Q6J("matTooltip",t.getNoiDung()),i.xp6(1),i.Q6J("src",t.hinh||"assets/images/loading.gif",i.LSH),i.xp6(2),i.Q6J("options",n.options)}}function _d(t,e){if(1&t&&(i.TgZ(0,"div",48),i.YNc(1,fd,5,3,"div",49),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.content_service.dang_nhaps)}}let md=(()=>{class t{constructor(t,e,n,i,r,o){this.messenger_footer_service=t,this.route=e,this.messenger_main_service=n,this.content_service=i,this.sanitized=r,this.scroll_service=o,this.options={path:"/assets/json/lottie/input_loading.json"},this.showDelay=new xu(500)}layAllBanBe(){this.content_service.layAllBanBe=this.content_service.getBanBe().subscribe(t=>{this.content_service.layBanBe(t.payload.toJSON())})}layLoaiCuocTroChuyen(){this.content_service.layLoaiCuocTroChuyen=this.content_service.getObjectChat(this.messenger_main_service.ma_cuoc_tro_chuyen).subscribe(t=>{this.content_service.dienThongTinCoBan(t.payload.toJSON()),null==this.content_service.layThongTinNhom||this.content_service.layThongTinNhom.unsubscribe(),this.layThongTinNhom()})}layThongTinNhom(){this.content_service.layThongTinNhom=this.content_service.getThongTinTroChuyenNhom(this.messenger_main_service.ma_cuoc_tro_chuyen).subscribe(t=>{this.content_service.dienThongTinNhom(t.payload.toJSON())})}layThanhVien(){this.content_service.layThanhVien=this.content_service.getObjectChatThanhVien(this.messenger_main_service.ma_cuoc_tro_chuyen).subscribe(t=>{this.content_service.dienThanhVien(t.payload.toJSON()),null==this.content_service.layThongTinTaiKhoan||this.content_service.layThongTinTaiKhoan.unsubscribe(),this.layThongTinTaiKhoan()})}layThongTinTaiKhoan(){this.content_service.layThongTinTaiKhoan=this.content_service.getDataThanhVien().subscribe(t=>{this.content_service.dienThongTinThanhVien(t.payload.toJSON())})}ngOnInit(){this.route.params.subscribe(t=>{null==this.content_service.layAllBanBe||this.content_service.layAllBanBe.unsubscribe(),this.layAllBanBe(),null==this.content_service.layLoaiCuocTroChuyen||this.content_service.layLoaiCuocTroChuyen.unsubscribe(),this.layLoaiCuocTroChuyen(),null==this.content_service.layThanhVien||this.content_service.layThanhVien.unsubscribe(),this.layThanhVien(),null==this.content_service.layTinNhan||this.content_service.layTinNhan.unsubscribe(),this.layTinNhan(),null==this.content_service.layNhungOngDangNhap||this.content_service.layNhungOngDangNhap.unsubscribe(),this.layNhungOngDangNhap(),this.addEventScroll()})}addEventScroll(){this.scroll_service.register(document.getElementById("danh-sach-tin-nhan"))}scrollChange(t){this.scroll_service.scrollTop=document.getElementById("tin-nhan-div").scrollTop}layTinNhan(){this.content_service.layTinNhan=this.content_service.getTinNhan(this.messenger_main_service.ma_cuoc_tro_chuyen).subscribe(t=>{this.content_service.dienTinNhan(t.payload.toJSON())})}layNhungOngDangNhap(){this.content_service.layNhungOngDangNhap=this.content_service.getDangNhap(this.messenger_main_service.ma_cuoc_tro_chuyen).subscribe(t=>{this.content_service.dienThongTinDangNhap(t.payload.toJSON())})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Lu),i.Y36(li),i.Y36(Xr),i.Y36(zu),i.Y36(bt),i.Y36(Vu))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-messenger-content"]],hostBindings:function(t,e){1&t&&i.NdJ("scroll",function(t){return e.options(t)})},decls:13,vars:8,consts:[[1,"container"],["id","tin-nhan-div",1,"content",3,"scroll"],["id","danh-sach-tin-nhan"],[1,"first"],[1,"hinh-dai-dien"],["class","nhom",4,"ngIf"],["class","don",4,"ngIf"],["class","online",4,"ngIf"],[1,"create"],["class","create",4,"ngIf"],[4,"ngFor","ngForOf"],["class","list-dang-nhap",4,"ngIf"],[1,"nhom"],["alt","",1,"hinh-1",3,"src"],["alt","",1,"hinh-2",3,"src"],[1,"don"],["alt","",3,"src"],[1,"online"],[1,"child"],["class","thong_bao",3,"top_thong_bao",4,"ngIf"],["class","gui_text",3,"ban_than_div","margin-top",4,"ngIf"],["class","gui_text_icon",3,"margin-top","ban_than_div",4,"ngIf"],[1,"thong_bao"],[1,"gui_text"],[1,"tren"],["class","hinh","matTooltipClass","tooltip",3,"matTooltip",4,"ngIf"],["matTooltipClass","tooltip",1,"chua-nd",3,"matTooltip"],[1,"noi-dung",3,"innerHTML"],["class","trang_thai_gui",4,"ngIf"],["class","trang_thai_gui",3,"trang_thai_gui_kpbt",4,"ngIf"],["class","da_xem",4,"ngIf"],["matTooltipClass","tooltip",1,"hinh",3,"matTooltip"],[1,"trang_thai_gui"],["matTooltip","\u0110\xe3 g\u1eedi","matTooltipClass","tooltip","height","14px","width","14px","viewBox","2 2 20 20","role","img",4,"ngIf"],["matTooltip","\u0110\xe3 chuy\u1ec3n","matTooltipClass","tooltip","height","14px","width","14px","viewBox","2 2 20 20","role","img",4,"ngIf"],["matTooltip","\u0110\xe3 g\u1eedi","matTooltipClass","tooltip","height","14px","width","14px","viewBox","2 2 20 20","role","img"],["height","14px","width","14px","viewBox","2 2 20 20","role","img","data-testid","message_delivery_state_sent","xmlns","http://www.w3.org/2000/svg"],["fill","#bcc0c4","d","m12 2a10 10 0 1 0 10 10 10.011 10.011 0 0 0 -10-10zm0 18.5a8.5 8.5 0 1 1 8.5-8.5 8.51 8.51 0 0 1 -8.5 8.5z"],["fill","#bcc0c4","d","m15.982 8.762-5.482 5.487-2.482-2.478a.75.75 0 0 0 -1.06 1.06l3.008 3.008a.748.748 0 0 0 1.06 0l6.016-6.016a.75.75 0 0 0 -1.06-1.061z"],["matTooltip","\u0110\xe3 chuy\u1ec3n","matTooltipClass","tooltip","height","14px","width","14px","viewBox","2 2 20 20","role","img"],["height","14px","width","14px","viewBox","2 2 20 20","role","img","xmlns","http://www.w3.org/2000/svg"],["fill","#bcc0c4","d","m12 2a10 10 0 1 0 10 10 10.011 10.011 0 0 0 -10-10zm5.219 8-6.019 6.016a1 1 0 0 1 -1.414 0l-3.005-3.008a1 1 0 1 1 1.419-1.414l2.3 2.3 5.309-5.31a1 1 0 1 1 1.41 1.416z"],["matTooltipClass","tooltip",1,"nguoi_xem",3,"matTooltip"],[1,"da_xem"],[1,"list"],["class","item-ok","matTooltipClass","tooltip",3,"matTooltip",4,"ngIf"],["matTooltipClass","tooltip",1,"item-ok",3,"matTooltip"],[1,"gui_text_icon"],[1,"list-dang-nhap"],["class","dang_nhap",4,"ngFor","ngForOf"],[1,"dang_nhap"],[1,"lottie"],["lottie","",3,"options"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.NdJ("scroll",function(t){return e.scrollChange(t)}),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.YNc(5,Hu,3,2,"div",5),i.YNc(6,Gu,2,1,"div",6),i.YNc(7,Yu,2,0,"div",7),i.qZA(),i.TgZ(8,"p",8),i._uU(9,"Bessenger"),i.qZA(),i.YNc(10,Ju,2,1,"p",9),i.qZA(),i.YNc(11,gd,4,3,"div",10),i.YNc(12,_d,2,1,"div",11),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.Udp("height",e.messenger_footer_service.getHeight()),i.xp6(5),i.Q6J("ngIf","nhom"==e.content_service.object_chat.cuoc_tro_truyen.loai_cuoc_tro_truyen),i.xp6(1),i.Q6J("ngIf","don"==e.content_service.object_chat.cuoc_tro_truyen.loai_cuoc_tro_truyen),i.xp6(1),i.Q6J("ngIf",e.content_service.object_chat.is_online),i.xp6(3),i.Q6J("ngIf",0!=e.content_service.getCreateFriends().length),i.xp6(1),i.Q6J("ngForOf",e.content_service.object_chat.cuoc_tro_truyen.tin_nhan),i.xp6(1),i.Q6J("ngIf",0!=e.content_service.dang_nhaps.length))},directives:[D,A,Sh,Qt,Kt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{background-color:#fff;width:100%;border-radius:12px;box-shadow:4px 8px 28px 0 #d3dceb;display:flex;height:633px;margin-bottom:10px;z-index:0;position:relative}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;margin-bottom:15px}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .hinh-dai-dien[_ngcontent-%COMP%]{position:relative;width:60px;height:60px}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .hinh-dai-dien[_ngcontent-%COMP%]   .nhom[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .hinh-dai-dien[_ngcontent-%COMP%]   .nhom[_ngcontent-%COMP%]   .hinh-1[_ngcontent-%COMP%]{left:0;bottom:0;z-index:10}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .hinh-dai-dien[_ngcontent-%COMP%]   .nhom[_ngcontent-%COMP%]   .hinh-1[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .hinh-dai-dien[_ngcontent-%COMP%]   .nhom[_ngcontent-%COMP%]   .hinh-2[_ngcontent-%COMP%]{box-shadow:0 0 2px #909090;position:absolute;width:38.5px;height:38.5px;object-fit:cover;border-radius:50%}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .hinh-dai-dien[_ngcontent-%COMP%]   .nhom[_ngcontent-%COMP%]   .hinh-2[_ngcontent-%COMP%]{z-index:9;top:0;right:0}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .hinh-dai-dien[_ngcontent-%COMP%]   .don[_ngcontent-%COMP%]{width:100%;height:100%}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .hinh-dai-dien[_ngcontent-%COMP%]   .don[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 0 2px #909090;width:100%;height:100%;object-fit:cover;border-radius:50%}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .hinh-dai-dien[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{width:15px;height:15px;position:absolute;background-color:#fff;left:41px;bottom:0;display:flex;justify-content:center;align-items:center;border-radius:50%}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .hinh-dai-dien[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{width:11px;height:11px;border-radius:50%;background-color:#31a24c}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]{color:#65676b;font-size:13px;font-family:Raleway;font-weight:500;margin-top:7px;letter-spacing:.5px}.container[_ngcontent-%COMP%]   .thong_bao[_ngcontent-%COMP%]{display:flex;justify-content:center;color:#b9b9b9;font-family:Raleway;font-size:9.5px;letter-spacing:.5px;font-weight:600}.container[_ngcontent-%COMP%]   .top_thong_bao[_ngcontent-%COMP%]{margin-top:9x}.container[_ngcontent-%COMP%]   .list-dang-nhap[_ngcontent-%COMP%]{margin-left:2px;margin-top:7px}.container[_ngcontent-%COMP%]   .list-dang-nhap[_ngcontent-%COMP%]   .dang_nhap[_ngcontent-%COMP%]{margin-top:2px;display:flex;align-items:flex-end}.container[_ngcontent-%COMP%]   .list-dang-nhap[_ngcontent-%COMP%]   .dang_nhap[_ngcontent-%COMP%]   .hinh[_ngcontent-%COMP%]{width:28px;height:28px;box-shadow:0 0 2px #909090;border-radius:50%}.container[_ngcontent-%COMP%]   .list-dang-nhap[_ngcontent-%COMP%]   .dang_nhap[_ngcontent-%COMP%]   .hinh[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;object-fit:cover;border-radius:50%}.container[_ngcontent-%COMP%]   .list-dang-nhap[_ngcontent-%COMP%]   .dang_nhap[_ngcontent-%COMP%]   .lottie[_ngcontent-%COMP%]{background-color:#e4e6eb;display:flex;justify-content:center;align-items:center;height:32px;margin-left:8px;border-radius:18px}.container[_ngcontent-%COMP%]   .list-dang-nhap[_ngcontent-%COMP%]   .dang_nhap[_ngcontent-%COMP%]   .lottie[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{width:25px;margin:0 12px;transform:translateY(2px)}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .hinh[_ngcontent-%COMP%]{margin-left:2px;width:28px;height:28px;box-shadow:0 0 2px #909090;border-radius:50%}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .hinh[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;object-fit:cover;border-radius:50%}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .chua-nd[_ngcontent-%COMP%]   .noi-dung[_ngcontent-%COMP%]{font-family:Raleway;font-weight:500;line-height:20px;font-size:12px;transform:scaleY(1.04);letter-spacing:.5px;max-width:330px;margin:8px 12px}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .ban_than[_ngcontent-%COMP%]{border-top-left-radius:18px;border-bottom-left-radius:18px;color:#fff}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .border-tren-ban-than[_ngcontent-%COMP%]{border-top-right-radius:18px}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .border-duoi-ban-than[_ngcontent-%COMP%]{border-bottom-right-radius:18px}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .doi_phuong[_ngcontent-%COMP%]{border-top-right-radius:18px;border-bottom-right-radius:18px;color:#050505;margin-left:8px}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .border-tren-doi-phuong[_ngcontent-%COMP%]{border-top-left-radius:18px}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .border-duoi-doi-phuong[_ngcontent-%COMP%]{border-bottom-left-radius:18px}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .trang_thai_gui[_ngcontent-%COMP%]{width:14px;margin-right:4px;margin-left:4px;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .trang_thai_gui[_ngcontent-%COMP%]   .nguoi_xem[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px;object-fit:cover;border-radius:50%;box-shadow:0 0 2px #909090}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .trang_thai_gui_kpbt[_ngcontent-%COMP%]{margin-left:auto}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .da_xem[_ngcontent-%COMP%]{margin-right:3px;margin-top:4px;display:flex;justify-content:flex-end}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .da_xem[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .gui_text[_ngcontent-%COMP%]   .da_xem[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item-ok[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:50%;margin:0 1px;object-fit:cover}.container[_ngcontent-%COMP%]   .ban_than_div[_ngcontent-%COMP%]{flex-direction:column}.container[_ngcontent-%COMP%]   .ban_than_div[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .gui_text_icon[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.container[_ngcontent-%COMP%]   .gui_text_icon[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .hinh[_ngcontent-%COMP%]{margin-left:2px;width:28px;height:28px;box-shadow:0 0 2px #909090;border-radius:50%}.container[_ngcontent-%COMP%]   .gui_text_icon[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .hinh[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;object-fit:cover;border-radius:50%}.container[_ngcontent-%COMP%]   .gui_text_icon[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .chua-nd[_ngcontent-%COMP%]   .noi-dung[_ngcontent-%COMP%]{max-width:330px}.container[_ngcontent-%COMP%]   .gui_text_icon[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .doi_phuong[_ngcontent-%COMP%]{margin-left:8px}.container[_ngcontent-%COMP%]   .gui_text_icon[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .trang_thai_gui[_ngcontent-%COMP%]{width:14px;margin-right:4px;margin-left:4px;display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .gui_text_icon[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .trang_thai_gui[_ngcontent-%COMP%]   .nguoi_xem[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px;object-fit:cover;border-radius:50%;box-shadow:0 0 2px #909090}.container[_ngcontent-%COMP%]   .gui_text_icon[_ngcontent-%COMP%]   .tren[_ngcontent-%COMP%]   .trang_thai_gui_kpbt[_ngcontent-%COMP%]{margin-left:auto}.container[_ngcontent-%COMP%]   .gui_text_icon[_ngcontent-%COMP%]   .da_xem[_ngcontent-%COMP%]{margin-right:3px;margin-top:4px;display:flex;justify-content:flex-end}.container[_ngcontent-%COMP%]   .gui_text_icon[_ngcontent-%COMP%]   .da_xem[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .gui_text_icon[_ngcontent-%COMP%]   .da_xem[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item-ok[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:50%;margin:0 1px;object-fit:cover}.content[_ngcontent-%COMP%]{width:96%;height:96%;margin-top:2.5%;overflow-y:scroll;margin-bottom:2.5%;margin-left:2.5%}.content[_ngcontent-%COMP%]   #danh-sach-tin-nhan[_ngcontent-%COMP%]{width:100%}[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:20px;background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:20px;background:#00000066}[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar:hover{background:#0700001c!important}"]}),t})(),yd=(()=>{class t{constructor(t){this.db=t}openShop(){this.isShowShop=!this.isShowShop}themNhanDan(){}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vd=(()=>{class t{constructor(t){this.stickersService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(yd))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-sticker"]],decls:17,vars:0,consts:[[1,"arrow-giphy"],[1,"container"],[1,"header"],[1,"left"],[1,"ago"],[1,"far","fa-clock"],[1,"sticker"],[1,"next"],[1,"fas","fa-chevron-right"],[1,"right"],[1,"add",3,"click"],[1,"fas","fa-plus-circle"],[1,"content"],[1,"content-sticker"]],template:function(t,e){1&t&&(i._UZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i._UZ(5,"i",5),i.qZA(),i._UZ(6,"div",6),i._UZ(7,"div",6),i._UZ(8,"div",6),i._UZ(9,"div",6),i.TgZ(10,"div",7),i._UZ(11,"i",8),i.qZA(),i.qZA(),i.TgZ(12,"div",9),i.TgZ(13,"div",10),i.NdJ("click",function(){return e.stickersService.openShop()}),i._UZ(14,"i",11),i.qZA(),i.qZA(),i.qZA(),i.TgZ(15,"div",12),i._UZ(16,"div",13),i.qZA(),i.qZA())},styles:[".arrow-giphy[_ngcontent-%COMP%]{transform:translate(-202px,-7px) rotate(-45deg);width:17px;height:17px;right:0;position:absolute;background:#fff;bottom:-11px;box-shadow:-1px 1px 1px #ffffff80}.container[_ngcontent-%COMP%]{width:270px;height:300px;border-radius:8px;position:relative;z-index:100}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-top-left-radius:8px;border-top-right-radius:8px;width:100%;height:13%;display:flex;border-bottom:.2px solid #a4afbf}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:85%;height:100%;display:flex}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .prev[_ngcontent-%COMP%]{width:15%;height:100%;text-align:center;cursor:pointer}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .prev[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;margin-top:9px;color:#a4afbf}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]{border-right:.2px solid #a4afbf;border-left:.2px solid #a4afbf}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .ago[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]{width:18%;height:100%;cursor:pointer}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .ago[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .ago[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;margin-top:9px;color:#a4afbf}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:15%;height:100%}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{border-radius:50%;cursor:pointer;width:80%;height:80%;text-align:center;margin-top:10%;margin-left:10%;transition:all .5s}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;margin-top:5px;color:#3275f7}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]:hover{background-color:#dee4ec;transition:all .5s}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:87%;overflow-y:overlay;overflow-x:hidden;display:flex;flex-wrap:wrap}.container[_ngcontent-%COMP%]   .content-sticker[_ngcontent-%COMP%]{min-width:25%;max-width:25%;height:25%}.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:20px;background:transparent}.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:20px}.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;border-radius:10px}.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar:hover{background:#0700001c!important}"]}),t})();class Cd{}function bd(t,e){if(1&t&&(i.TgZ(0,"div",11),i._UZ(1,"img",12),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Q6J("src",t.url||"assets/images/loading.gif",i.LSH)("alt",t.name)}}let xd=(()=>{class t{constructor(){this.APIKEY="FYvCtFq1iMU8ECzsOZC6wuxYZOdABFC7",this.urlMax30=`https://api.giphy.com/v1/gifs/search?api_key=${this.APIKEY}&limit=30&q=`,this.urlMax50=`https://api.giphy.com/v1/gifs/search?api_key=${this.APIKEY}&limit=50&q=`}ngOnInit(){this.loadRandomGriphy()}randomTopicDefault(){switch(Math.floor(5*Math.random())){case 0:return"love";case 1:return"happy";case 2:return"funny";case 3:return"fun";case 4:return"smile"}return null}loadRandomGriphy(){this.listGiphyDefault=[],this.listGiphySearch=[];let t=this.urlMax30.concat(this.randomTopicDefault());fetch(t).then(t=>t.json()).then(t=>{t.data.forEach(t=>{let e=new Cd;e.url=t.images.downsized.url,e.name=t.title,this.listGiphyDefault.push(e)})}),this.listGiphySearch=this.listGiphyDefault}searchGiphy(t){if(""!=t.trim()){this.listGiphySearch=[];let e=this.urlMax50.concat(t.trim());fetch(e).then(t=>t.json()).then(t=>{t.data.forEach(t=>{let e=new Cd;e.url=t.images.downsized.url,e.name=t.title,this.listGiphySearch.push(e)})})}else this.listGiphySearch=this.listGiphyDefault}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-giphy"]],decls:11,vars:1,consts:[[1,"arrow-giphy"],[1,"container"],[1,"search"],[1,"border-search"],[1,"left"],[1,"fas","fa-search"],[1,"right"],["type","text","placeholder","T\xecm ki\u1ebfm",3,"input"],["valueSearch",""],[1,"content"],["class","giphy",4,"ngFor","ngForOf"],[1,"giphy"],[3,"src","alt"]],template:function(t,e){if(1&t){const t=i.EpF();i._UZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i._UZ(5,"i",5),i.qZA(),i.TgZ(6,"div",6),i.TgZ(7,"input",7,8),i.NdJ("input",function(){i.CHM(t);const n=i.MAs(8);return e.searchGiphy(n.value)}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(9,"div",9),i.YNc(10,bd,2,2,"div",10),i.qZA(),i.qZA()}2&t&&(i.xp6(10),i.Q6J("ngForOf",e.listGiphySearch))},directives:[A],styles:[".container[_ngcontent-%COMP%]{width:270px;height:300px;border-radius:8px;position:relative;z-index:100}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:100%;height:16%}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .border-search[_ngcontent-%COMP%]{width:90%;height:80%;display:flex;border-radius:20px;background-color:#f5f9fc;margin:10px auto auto}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .border-search[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:15%}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .border-search[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;color:#a4afbf;margin-left:13px;margin-top:12px;cursor:pointer}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .border-search[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:85%}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .border-search[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;height:50%;margin-top:9px;border:none;outline:none}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .border-search[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-family:Raleway;background-color:#f5f9fc;font-size:15px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow-y:overlay;scroll-behavior:smooth;height:80.5%;width:100%;border-bottom-left-radius:7px;border-bottom-right-radius:7px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .giphy[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .giphy[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:cover;cursor:pointer}.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:20px;background:transparent}.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:20px;background:#b9b8b8}.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;border-radius:10px}.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar:hover{background:#0700001c!important}.arrow-giphy[_ngcontent-%COMP%]{transform:translate(-202px,-7px) rotate(-45deg);width:17px;height:17px;right:0;position:absolute;background:#fff;bottom:-11px;box-shadow:-1px 1px 1px #ffffff80}"]}),t})();class Pd{}let Od=(()=>{class t{constructor(t){this.db=t,this.mat_cuois=[],this.dong_vats=[],this.rau_cus=[],this.do_chois=[],this.du_lichs=[],this.bong_dens=[],this.dinh_kems=[],this.cos=[],this.lich_sus=[],this.getMatCuoi().subscribe(t=>{this.dienMatCuoi(t.payload.toJSON())}),this.getDongVat().subscribe(t=>this.dienDongVat(t.payload.toJSON())),this.getRauCu().subscribe(t=>this.dienRauCu(t.payload.toJSON())),this.getDoChoi().subscribe(t=>this.dienDoChoi(t.payload.toJSON())),this.getDuLich().subscribe(t=>this.dienDuLich(t.payload.toJSON())),this.getBongDen().subscribe(t=>this.dienBongDen(t.payload.toJSON())),this.getDinhKem().subscribe(t=>this.dienDinhKem(t.payload.toJSON())),this.getCo().subscribe(t=>this.dienCo(t.payload.toJSON())),this.getLichSu().subscribe(t=>this.dienLichSu(t.payload.toJSON()))}isOKe(){return 0!=this.mat_cuois.length&&0!=this.dong_vats.length&&0!=this.rau_cus.length&&0!=this.do_chois.length&&0!=this.du_lichs.length&&0!=this.bong_dens.length&&0!=this.dinh_kems.length&&0!=this.cos.length}getMatCuoi(){return this.db.object("/bieu_tuong_cam_xuc/-MdSEOvwkIoeSqi_ux0x/danh_sach_bieu_tuong").snapshotChanges()}dienMatCuoi(t){let e=[];Object.entries(t).forEach(([t,n])=>{let i=new Pd;i.ma_nhom="-MdSEOvwkIoeSqi_ux0x",i.ma_emoji=t,i.src=n.src,i.alt=n.alt,e.push(i)}),this.mat_cuois=e}getDongVat(){return this.db.object("/bieu_tuong_cam_xuc/-MdSEP0BTjcDApLk99KI/danh_sach_bieu_tuong").snapshotChanges()}dienDongVat(t){let e=[];Object.entries(t).forEach(([t,n])=>{let i=new Pd;i.ma_nhom="-MdSEP0BTjcDApLk99KI",i.ma_emoji=t,i.src=n.src,i.alt=n.alt,e.push(i)}),this.dong_vats=e}getRauCu(){return this.db.object("/bieu_tuong_cam_xuc/-MdSEP1vZh0K_7iUbtGX/danh_sach_bieu_tuong").snapshotChanges()}dienRauCu(t){let e=[];Object.entries(t).forEach(([t,n])=>{let i=new Pd;i.ma_nhom="-MdSEP1vZh0K_7iUbtGX",i.ma_emoji=t,i.src=n.src,i.alt=n.alt,e.push(i)}),this.rau_cus=e}getDoChoi(){return this.db.object("/bieu_tuong_cam_xuc/-MdSEP39ma6Q-HHEV6ts/danh_sach_bieu_tuong").snapshotChanges()}dienDoChoi(t){let e=[];Object.entries(t).forEach(([t,n])=>{let i=new Pd;i.ma_nhom="-MdSEP39ma6Q-HHEV6ts",i.ma_emoji=t,i.src=n.src,i.alt=n.alt,e.push(i)}),this.do_chois=e}getDuLich(){return this.db.object("/bieu_tuong_cam_xuc/-MdSEP4Xr2MzhBRuyUCj/danh_sach_bieu_tuong").snapshotChanges()}dienDuLich(t){let e=[];Object.entries(t).forEach(([t,n])=>{let i=new Pd;i.ma_nhom="-MdSEP4Xr2MzhBRuyUCj",i.ma_emoji=t,i.src=n.src,i.alt=n.alt,e.push(i)}),this.du_lichs=e}getBongDen(){return this.db.object("/bieu_tuong_cam_xuc/-MdSEP641-Cyy1KS2aua/danh_sach_bieu_tuong").snapshotChanges()}dienBongDen(t){let e=[];Object.entries(t).forEach(([t,n])=>{let i=new Pd;i.ma_nhom="-MdSEP641-Cyy1KS2aua",i.ma_emoji=t,i.src=n.src,i.alt=n.alt,e.push(i)}),this.bong_dens=e}getDinhKem(){return this.db.object("/bieu_tuong_cam_xuc/-MdSEP9AplzMgsIJ8KGE/danh_sach_bieu_tuong").snapshotChanges()}dienDinhKem(t){let e=[];Object.entries(t).forEach(([t,n])=>{let i=new Pd;i.ma_nhom="-MdSEP9AplzMgsIJ8KGE",i.ma_emoji=t,i.src=n.src,i.alt=n.alt,e.push(i)}),this.dinh_kems=e}getCo(){return this.db.object("/bieu_tuong_cam_xuc/-MdSEPDnUhKtt-g-DvZp/danh_sach_bieu_tuong").snapshotChanges()}dienCo(t){let e=[];Object.entries(t).forEach(([t,n])=>{let i=new Pd;i.ma_nhom="-MdSEPDnUhKtt-g-DvZp",i.ma_emoji=t,i.src=n.src,i.alt=n.alt,e.push(i)}),this.cos=e}getLichSu(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));return this.db.object("/lich_su_su_dung_bieu_tuong_cam_xuc/"+t).snapshotChanges()}dienLichSu(t){let e=[];null!=t&&Object.entries(t).forEach(([t,n])=>{let i=new Pd;i.ma_nhom=n.ma_nhom,i.ma_emoji=n.ma_emoji,i.src=n.src,i.alt=n.alt,e.push(i)}),this.lich_sus=e}updateHistory(t){let e=this.isExistsInHistory(t);-1==e?(this.lich_sus.length<8||this.lich_sus.pop(),this.lich_sus.unshift(t)):(this.lich_sus.splice(e,1),this.lich_sus.unshift(t));let n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));return this.db.object("/lich_su_su_dung_bieu_tuong_cam_xuc/"+n).set(this.lich_sus)}isExistsInHistory(t){for(let e=0;e<this.lich_sus.length;e++)if(t.ma_emoji==this.lich_sus[e].ma_emoji)return e;return-1}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Md(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",6),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().selectIconHistory(e)}),i._UZ(2,"img",17),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.src||"assets/images/loading.gif",i.LSH)}}function wd(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",6),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().selectIconNonHistory(e)}),i._UZ(2,"img",17),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.src||"assets/images/loading.gif",i.LSH)}}function kd(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",6),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().selectIconNonHistory(e)}),i._UZ(2,"img",17),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.src||"assets/images/loading.gif",i.LSH)}}function Td(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",6),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().selectIconNonHistory(e)}),i._UZ(2,"img",17),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.src||"assets/images/loading.gif",i.LSH)}}function Sd(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",6),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().selectIconNonHistory(e)}),i._UZ(2,"img",17),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.src||"assets/images/loading.gif",i.LSH)}}function Ed(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",6),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().selectIconNonHistory(e)}),i._UZ(2,"img",17),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.src||"assets/images/loading.gif",i.LSH)}}function Ad(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",6),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().selectIconNonHistory(e)}),i._UZ(2,"img",17),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.src||"assets/images/loading.gif",i.LSH)}}function Id(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",6),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().selectIconNonHistory(e)}),i._UZ(2,"img",17),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.src||"assets/images/loading.gif",i.LSH)}}function Dd(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"div",6),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().selectIconNonHistory(e)}),i._UZ(2,"img",17),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.src||"assets/images/loading.gif",i.LSH)}}function Fd(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",18),i.TgZ(1,"main",19),i.NdJ("animationCreated",function(e){return i.CHM(t),i.oxw().animationCreated(e)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("options",t.options)}}let Nd=(()=>{class t{constructor(t){this.emoji_service=t,this.options={path:"/assets/json/lottie/loading2.json"},this.icon=new i.vpe}ngOnInit(){}animationCreated(t){}selectIconNonHistory(t){this.icon.emit(t),this.emoji_service.updateHistory(t)}selectIconHistory(t){this.icon.emit(t)}scrollSpan(t){let e=document.getElementById("list"),n=document.querySelectorAll("section"),i=0;n.forEach(n=>{i!=t&&-1!=i&&i++,-1!=i&&i==t&&(i=-1,e.scrollTop=n.offsetTop)})}updateHover(t){switch(document.getElementById("span-1").classList.remove("qua-khu-select"),document.getElementById("span-2").classList.remove("mat-cuoi-select"),document.getElementById("span-3").classList.remove("dong-vat-select"),document.getElementById("span-4").classList.remove("rau-cu-select"),document.getElementById("span-5").classList.remove("do-choi-select"),document.getElementById("span-6").classList.remove("du-lich-select"),document.getElementById("span-7").classList.remove("bong-den-select"),document.getElementById("span-8").classList.remove("dinh-kem-select"),document.getElementById("span-9").classList.remove("co-select"),t){case 1:document.getElementById("span-1").classList.add("qua-khu-select");break;case 2:document.getElementById("span-2").classList.add("mat-cuoi-select");break;case 3:document.getElementById("span-3").classList.add("dong-vat-select");break;case 4:document.getElementById("span-4").classList.add("rau-cu-select");break;case 5:document.getElementById("span-5").classList.add("do-choi-select");break;case 6:document.getElementById("span-6").classList.add("du-lich-select");break;case 7:document.getElementById("span-7").classList.add("bong-den-select");break;case 8:document.getElementById("span-8").classList.add("dinh-kem-select");break;case 9:document.getElementById("span-9").classList.add("co-select")}}eventScroll(t){let e=document.getElementById("list"),n=document.querySelectorAll("section"),i=0;n.forEach(t=>{e.scrollTop>=t.offsetTop&&i++}),this.updateHover(i)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Od))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-emoji"]],hostBindings:function(t,e){1&t&&i.NdJ("scroll",function(t){return e.options(t)})},outputs:{icon:"icon"},decls:68,vars:10,consts:[[1,"container"],["id","list",1,"list",3,"scroll"],[1,"icons"],[4,"ngFor","ngForOf"],[1,"danh-muc"],["id","list-danh-muc-icon",1,"list"],[3,"click"],["id","span-1",1,"qua-khu","qua-khu-select"],["id","span-2",1,"mat-cuoi"],["id","span-3",1,"dong-vat"],["id","span-4",1,"rau-cu"],["id","span-5",1,"do-choi"],["id","span-6",1,"du-lich"],["id","span-7",1,"bong-den"],["id","span-8",1,"dinh-kem"],["id","span-9",1,"co"],["class","loading",4,"ngIf"],["alt","",3,"src"],[1,"loading"],["lottie","",1,"anim",3,"options","animationCreated"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.NdJ("scroll",function(t){return e.eventScroll(t)}),i.TgZ(2,"section"),i.TgZ(3,"p"),i._uU(4,"\u0110\xe3 d\xf9ng g\u1ea7n \u0111\xe2y"),i.qZA(),i.TgZ(5,"div",2),i.YNc(6,Md,3,1,"div",3),i.qZA(),i.qZA(),i.TgZ(7,"section"),i.TgZ(8,"p"),i._uU(9,"M\u1eb7t c\u01b0\u1eddi & h\xecnh ng\u01b0\u1eddi"),i.qZA(),i.TgZ(10,"div",2),i.YNc(11,wd,3,1,"div",3),i.qZA(),i.qZA(),i.TgZ(12,"section"),i.TgZ(13,"p"),i._uU(14,"\u0110\u1ed9ng v\u1eadt & thi\xean nhi\xean"),i.qZA(),i.TgZ(15,"div",2),i.YNc(16,kd,3,1,"div",3),i.qZA(),i.qZA(),i.TgZ(17,"section"),i.TgZ(18,"p"),i._uU(19,"\u1ea8m th\u1ef1c"),i.qZA(),i.TgZ(20,"div",2),i.YNc(21,Td,3,1,"div",3),i.qZA(),i.qZA(),i.TgZ(22,"section"),i.TgZ(23,"p"),i._uU(24,"Ho\u1ea1t \u0111\u1ed9ng"),i.qZA(),i.TgZ(25,"div",2),i.YNc(26,Sd,3,1,"div",3),i.qZA(),i.qZA(),i.TgZ(27,"section"),i.TgZ(28,"p"),i._uU(29,"\u0110i l\u1ea1i & \u0111\u1ecba \u0111i\u1ec3m"),i.qZA(),i.TgZ(30,"div",2),i.YNc(31,Ed,3,1,"div",3),i.qZA(),i.qZA(),i.TgZ(32,"section"),i.TgZ(33,"p"),i._uU(34,"\u0110\u1ed3 v\u1eadt"),i.qZA(),i.TgZ(35,"div",2),i.YNc(36,Ad,3,1,"div",3),i.qZA(),i.qZA(),i.TgZ(37,"section"),i.TgZ(38,"p"),i._uU(39,"Bi\u1ec3u t\u01b0\u1ee3ng"),i.qZA(),i.TgZ(40,"div",2),i.YNc(41,Id,3,1,"div",3),i.qZA(),i.qZA(),i.TgZ(42,"section"),i.TgZ(43,"p"),i._uU(44,"C\u1edd"),i.qZA(),i.TgZ(45,"div",2),i.YNc(46,Dd,3,1,"div",3),i.qZA(),i.qZA(),i.qZA(),i.TgZ(47,"div",4),i.TgZ(48,"div",5),i.TgZ(49,"div",6),i.NdJ("click",function(){return e.scrollSpan(1)}),i._UZ(50,"span",7),i.qZA(),i.TgZ(51,"div",6),i.NdJ("click",function(){return e.scrollSpan(2)}),i._UZ(52,"span",8),i.qZA(),i.TgZ(53,"div",6),i.NdJ("click",function(){return e.scrollSpan(3)}),i._UZ(54,"span",9),i.qZA(),i.TgZ(55,"div",6),i.NdJ("click",function(){return e.scrollSpan(4)}),i._UZ(56,"span",10),i.qZA(),i.TgZ(57,"div",6),i.NdJ("click",function(){return e.scrollSpan(5)}),i._UZ(58,"span",11),i.qZA(),i.TgZ(59,"div",6),i.NdJ("click",function(){return e.scrollSpan(6)}),i._UZ(60,"span",12),i.qZA(),i.TgZ(61,"div",6),i.NdJ("click",function(){return e.scrollSpan(7)}),i._UZ(62,"span",13),i.qZA(),i.TgZ(63,"div",6),i.NdJ("click",function(){return e.scrollSpan(8)}),i._UZ(64,"span",14),i.qZA(),i.TgZ(65,"div",6),i.NdJ("click",function(){return e.scrollSpan(9)}),i._UZ(66,"span",15),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(67,Fd,2,1,"div",16)),2&t&&(i.xp6(6),i.Q6J("ngForOf",e.emoji_service.lich_sus),i.xp6(5),i.Q6J("ngForOf",e.emoji_service.mat_cuois),i.xp6(5),i.Q6J("ngForOf",e.emoji_service.dong_vats),i.xp6(5),i.Q6J("ngForOf",e.emoji_service.rau_cus),i.xp6(5),i.Q6J("ngForOf",e.emoji_service.do_chois),i.xp6(5),i.Q6J("ngForOf",e.emoji_service.du_lichs),i.xp6(5),i.Q6J("ngForOf",e.emoji_service.bong_dens),i.xp6(5),i.Q6J("ngForOf",e.emoji_service.dinh_kems),i.xp6(5),i.Q6J("ngForOf",e.emoji_service.cos),i.xp6(21),i.Q6J("ngIf",!e.emoji_service.isOKe()))},directives:[A,D,Qt,Kt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.loading[_ngcontent-%COMP%]{position:absolute;z-index:10;top:0}.container[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{width:327px;height:313px;background-color:#fff;border-radius:8px}.container[_ngcontent-%COMP%] > .list[_ngcontent-%COMP%]{width:100%;overflow-y:auto;height:280px;scroll-behavior:smooth}.container[_ngcontent-%COMP%] > .list[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:17px;color:#8d949e;cursor:default;font-weight:400;margin:0 8px 4px;font-family:Raleway;font-size:13px}.container[_ngcontent-%COMP%] > .list[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.container[_ngcontent-%COMP%] > .list[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:hover{background:rgba(29,33,41,.04)}.container[_ngcontent-%COMP%] > .list[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer;border-radius:4px;height:36px;margin:2px}.container[_ngcontent-%COMP%] > .list[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:28px;margin:4px;position:relative;width:28px}.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:20px;background:transparent}.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:20px;background:#00000066}.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;border-radius:10px}.container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar:hover{background:#0700001c!important}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]{width:100%;height:32px;border-top:1px solid #ced0d4}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;cursor:pointer;overflow:hidden}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:7px;display:flex;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yv/r/d-CLxy2kETR.png);background-repeat:no-repeat;background-size:auto;width:16px;height:16px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .qua-khu[_ngcontent-%COMP%]{background-position:0 -314px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .qua-khu-select[_ngcontent-%COMP%]{background-position:0 -297px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-cuoi[_ngcontent-%COMP%]{background-position:0 -195px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-cuoi-select[_ngcontent-%COMP%]{background-position:0 -178px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .dong-vat[_ngcontent-%COMP%]{background-position:0 -280px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .dong-vat-select[_ngcontent-%COMP%]{background-position:0 -263px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .rau-cu[_ngcontent-%COMP%]{background-position:0 -42px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .rau-cu-select[_ngcontent-%COMP%]{background-position:0 -25px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .do-choi[_ngcontent-%COMP%]{background-position:0 -348px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .do-choi-select[_ngcontent-%COMP%]{background-position:0 -331px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .du-lich[_ngcontent-%COMP%]{background-position:0 -110px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .du-lich-select[_ngcontent-%COMP%]{background-position:0 -93px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .bong-den[_ngcontent-%COMP%]{background-position:0 -144px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .bong-den-select[_ngcontent-%COMP%]{background-position:0 -127px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .dinh-kem[_ngcontent-%COMP%]{background-position:0 -76px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .dinh-kem-select[_ngcontent-%COMP%]{background-position:0 -59px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .co[_ngcontent-%COMP%]{background-position:0 -229px}.container[_ngcontent-%COMP%]   .danh-muc[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .co-select[_ngcontent-%COMP%]{background-position:0 -212px}"]}),t})(),Ld=(()=>{class t{constructor(t){this.stickersService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(yd))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-shop-sticker"]],decls:76,vars:0,consts:[[1,"container"],[1,"shop"],[1,"shop-content"],[1,"header"],["src","assets/images/list-friends-chat-page/bg-shop-sticker.png","alt","",1,"bg"],[1,"title"],[1,"fas","fa-shopping-basket"],[1,"title-sub"],[1,"exit",3,"click"],[1,"fas","fa-times"],[1,"content-stickers"],[1,"scroll-stickers"],[1,"sticker"],[1,"review"],[1,"review-top"],[1,"left"],["src","https://scontent-hkt1-1.xx.fbcdn.net/v/t39.1997-6/156592483_141550577831540_7691392649336008247_n.png?_nc_cat=1&ccb=1-3&_nc_sid=0572db&_nc_ohc=UXXZQNlyotcAX8OiCwZ&_nc_ht=scontent-hkt1-1.xx&oh=de35ccd50a46af9759c97d3d1c125793&oe=60E3BD1B","alt",""],[1,"right"],["src","https://scontent-hkt1-1.xx.fbcdn.net/v/t39.1997-6/155229018_143264297660168_4186222627523676140_n.png?_nc_cat=102&ccb=1-3&_nc_sid=0572db&_nc_ohc=sQ2YKJJp_ZYAX8BlTMi&_nc_ht=scontent-hkt1-1.xx&oh=74fd495d616e8dd69dc35d110237ad7f&oe=60E3EBA0","alt",""],[1,"review-bot"],[1,"name"],[1,"add"],[1,"btn-add"],["src","https://scontent-hkt1-1.xx.fbcdn.net/v/t39.1997-6/187711910_4046845968695924_612181078665414025_n.png?_nc_cat=110&ccb=1-3&_nc_sid=0572db&_nc_ohc=H2u5xhlIzRMAX9nv6HP&_nc_oc=AQlcsRHLhlMHJxo_asnEFRs7MI3EJrsZfwQ2AZs-uuGB7UKQwtUAQiOAbP79PEmIb1dRsbJHwGDQsFbpVGV2pUWK&_nc_ht=scontent-hkt1-1.xx&oh=e7bdcc7689eea5f3a675d9f81baf24ad&oe=60E4209B","alt",""],["src","https://scontent-hkt1-2.xx.fbcdn.net/v/t39.1997-6/192937066_4070817836298737_5642646015765293863_n.png?_nc_cat=108&ccb=1-3&_nc_sid=0572db&_nc_ohc=sEbGltGzHXgAX8oaXlH&_nc_ht=scontent-hkt1-2.xx&oh=ab576d24c36d89717fd5500366809529&oe=60E3ED22","alt",""],["src","https://scontent-hkt1-1.xx.fbcdn.net/v/t39.1997-6/115950226_608440613087080_5301457290098469091_n.png?_nc_cat=110&ccb=1-3&_nc_sid=0572db&_nc_ohc=s1nRPSsNbV4AX9lJ5qI&_nc_ht=scontent-hkt1-1.xx&oh=eba191285f813ecf0c9c3436f24ad3c1&oe=60E317D3","alt",""],["src","https://scontent-hkt1-2.xx.fbcdn.net/v/t39.1997-6/116707351_609632119634596_4958247337300048769_n.png?_nc_cat=104&ccb=1-3&_nc_sid=0572db&_nc_ohc=5Z7lv0PvHuoAX_vFYTH&_nc_ht=scontent-hkt1-2.xx&oh=90eb3410ccfee18fb85476ee66140b66&oe=60E4FDCA","alt",""],["src","https://scontent-hkt1-1.xx.fbcdn.net/v/t39.1997-6/83695669_476407373022859_502350503200423936_n.png?_nc_cat=111&ccb=1-3&_nc_sid=0572db&_nc_ohc=qOaf0_7CB18AX9yqj1X&_nc_ht=scontent-hkt1-1.xx&oh=0bff570cc7b0bc3951a6b6644ba6db5c&oe=60E39EAB","alt",""],["src","https://scontent-hkt1-1.xx.fbcdn.net/v/t39.1997-6/83871157_483514928978770_3707512917772468224_n.png?_nc_cat=110&ccb=1-3&_nc_sid=0572db&_nc_ohc=FrUB6vXCjNAAX9am_EF&tn=ezhNzfhhsiuYycKO&_nc_ht=scontent-hkt1-1.xx&oh=ada22ac1088c49c9b7066450eecb6005&oe=60E35227","alt",""]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i._UZ(4,"img",4),i.TgZ(5,"div",5),i._UZ(6,"i",6),i.TgZ(7,"span"),i._uU(8,"C\u1eeda h\xe0ng nh\xe3n d\xe1n"),i.qZA(),i.qZA(),i.TgZ(9,"div",7),i.TgZ(10,"span"),i._uU(11,"T\xecm nh\xe3n d\xe1n m\u1edbi \u0111\u1ec3 g\u1eedi cho b\u1ea1n b\xe8."),i.qZA(),i.qZA(),i.TgZ(12,"div",8),i.NdJ("click",function(){return e.stickersService.openShop()}),i._UZ(13,"i",9),i.qZA(),i.qZA(),i.TgZ(14,"div",10),i.TgZ(15,"div",11),i.TgZ(16,"div",12),i.TgZ(17,"div",13),i.TgZ(18,"div",14),i.TgZ(19,"div",15),i._UZ(20,"img",16),i.qZA(),i.TgZ(21,"div",17),i._UZ(22,"img",18),i.qZA(),i.qZA(),i.TgZ(23,"div",19),i.TgZ(24,"div",20),i.TgZ(25,"span"),i._uU(26,"Tr\xe0n ng\u1eadp chu\u1ed1i"),i.qZA(),i.qZA(),i.TgZ(27,"div",21),i.TgZ(28,"div",22),i.TgZ(29,"span"),i._uU(30,"Th\xeam"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(31,"div",12),i.TgZ(32,"div",13),i.TgZ(33,"div",14),i.TgZ(34,"div",15),i._UZ(35,"img",23),i.qZA(),i.TgZ(36,"div",17),i._UZ(37,"img",24),i.qZA(),i.qZA(),i.TgZ(38,"div",19),i.TgZ(39,"div",20),i.TgZ(40,"span"),i._uU(41,"C\u1eb7p b\xe0i tr\xf9ng Usagyuuun"),i.qZA(),i.qZA(),i.TgZ(42,"div",21),i.TgZ(43,"div",22),i.TgZ(44,"span"),i._uU(45,"Th\xeam"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(46,"div",12),i.TgZ(47,"div",13),i.TgZ(48,"div",14),i.TgZ(49,"div",15),i._UZ(50,"img",25),i.qZA(),i.TgZ(51,"div",17),i._UZ(52,"img",26),i.qZA(),i.qZA(),i.TgZ(53,"div",19),i.TgZ(54,"div",20),i.TgZ(55,"span"),i._uU(56,"Usagyuuun si\xeau \u0111\u1ec9nh"),i.qZA(),i.qZA(),i.TgZ(57,"div",21),i.TgZ(58,"div",22),i.TgZ(59,"span"),i._uU(60,"Th\xeam"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(61,"div",12),i.TgZ(62,"div",13),i.TgZ(63,"div",14),i.TgZ(64,"div",15),i._UZ(65,"img",27),i.qZA(),i.TgZ(66,"div",17),i._UZ(67,"img",28),i.qZA(),i.qZA(),i.TgZ(68,"div",19),i.TgZ(69,"div",20),i.TgZ(70,"span"),i._uU(71," T\xecnh y\xeau d\u1ecbu d\xe0ng"),i.qZA(),i.qZA(),i.TgZ(72,"div",21),i.TgZ(73,"div",22),i.TgZ(74,"span"),i._uU(75,"Th\xeam"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA())},styles:[".container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:999;background-color:#e8a2a224}.container[_ngcontent-%COMP%]   .shop[_ngcontent-%COMP%]{width:700px;border-radius:8px;height:624px;background-color:#f1f3f7;margin-left:450px;margin-top:50px;box-shadow:0 0 38px 1px #a19ea1}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]{width:98%;height:100%;margin:auto}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;height:290px;position:relative}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{position:absolute;top:70px;width:100%;height:220px;background-repeat:no-repeat}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-top:90px;text-align:center}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;margin-right:10px}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Raleway;font-size:25px;font-weight:700}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title-sub[_ngcontent-%COMP%]{margin-top:10px;text-align:center}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title-sub[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Raleway;font-size:15px;color:grey}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background-color:#fff;position:absolute;right:10px;top:15px;cursor:pointer;border:1px solid #9da7b8}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:8.5px;top:7px;font-size:18px;color:#9da7b8}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]:hover{background-color:#f7f9fc}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]{width:693px;background-color:#f1f3f7;position:absolute;top:294px;height:380px;border-bottom-right-radius:8px;overflow:hidden}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]{overflow-y:overlay;width:100%;height:98%;margin-top:1.5%;display:flex;flex-wrap:wrap}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]{margin:0 5px 10px;background-color:#fff;width:329px;height:175px;border-radius:8px}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]{width:90%;height:82%;margin-top:5%;margin-left:5%;background-color:#fff}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-top[_ngcontent-%COMP%]{height:75%;width:100%;display:flex}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-top[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:30%;height:100%}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-top[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%;height:90%;object-fit:cover}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-top[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:70%;height:100%}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-top[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-bot[_ngcontent-%COMP%]{width:100%;height:25%;display:flex}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-bot[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:75%;height:100%}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-bot[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:15px;font-family:Raleway;display:block;margin-top:12px}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-bot[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{width:25%;height:100%}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-bot[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{text-align:center;margin-top:10%;width:100%;height:80%;background-color:#3275f7;color:#fff;cursor:pointer;border-radius:20px}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   .scroll-stickers[_ngcontent-%COMP%]   .sticker[_ngcontent-%COMP%]   .review[_ngcontent-%COMP%]   .review-bot[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-family:Raleway;padding-top:7px;font-size:13px}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:20px;background:transparent}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:20px;background:#a7a2a2}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;border-radius:10px}.container[_ngcontent-%COMP%]   .shop-content[_ngcontent-%COMP%]   .content-stickers[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar:hover{background:#0700001c!important}"]}),t})();function Zd(t,e){1&t&&(i.O4$(),i.kcU(),i.TgZ(0,"div",36),i._UZ(1,"app-sticker"),i.qZA())}function Rd(t,e){if(1&t&&(i.O4$(),i.kcU(),i.TgZ(0,"div",37),i._UZ(1,"app-giphy"),i.qZA()),2&t){const t=i.oxw();i.Udp("top",t.getTopGiphy())}}function qd(t,e){if(1&t&&(i.TgZ(0,"div",38),i._UZ(1,"i",39),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Udp("color",t.messenger_footer_service.object_chat_footer.mau)}}function Ud(t,e){1&t&&(i.TgZ(0,"p",40),i._uU(1,"Aa"),i.qZA())}function Bd(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",41),i.TgZ(1,"app-emoji",42),i.NdJ("icon",function(e){return i.CHM(t),i.oxw().getIcon(e)}),i.qZA(),i._UZ(2,"div",43),i.qZA()}if(2&t){const t=i.oxw();i.Udp("top",t.getTopBoxBTCX())("left",t.getLeftBoxBTCX())}}function jd(t,e){if(1&t&&(i.TgZ(0,"div",44),i.O4$(),i.TgZ(1,"svg",45),i._UZ(2,"path",46),i._UZ(3,"path",47),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(2),i.uIk("fill",t.messenger_footer_service.object_chat_footer.mau),i.xp6(1),i.uIk("fill",t.messenger_footer_service.object_chat_footer.mau)}}function zd(t,e){1&t&&i._UZ(0,"app-shop-sticker")}let Vd=(()=>{class t{constructor(t,e,n,i,r){this.messenger_footer_service=t,this.messenger_main_service=e,this.content_service=n,this.route=i,this.stickersService=r}ngOnInit(){this.route.params.subscribe(t=>{this.reset(),null==this.messenger_footer_service.layData||this.messenger_footer_service.layData.unsubscribe(),this.getData()})}getData(){this.messenger_footer_service.layData=this.messenger_footer_service.getThongTinCoBan(this.messenger_main_service.ma_cuoc_tro_chuyen).subscribe(t=>{this.messenger_footer_service.dienThongTinCoBan(t.payload.toJSON())})}reset(){this.last_height=22,document.getElementById("input").innerHTML="",this.messenger_footer_service.chenh_lech_height=0,document.getElementById("parent_input").style.marginBottom="5px",this.tin_nhan=""}getIcon(t){let e=document.createElement("span");e.classList.add("span-image-box-chat"),e.style.backgroundImage=`url("${t.src}")`;let n=document.createElement("span");n.innerText=t.alt,e.appendChild(n),e.setAttribute("contenteditable","false");let i=document.getElementById("input"),r=null,o=null;if(window.getSelection){let t=window.getSelection();if(t.rangeCount){let n=t.getRangeAt(0);var s=n.commonAncestorContainer;let a=n.endOffset;o=a;let c=i.childNodes;if(r=c[a],s.nodeType==Node.TEXT_NODE){let t=0;for(let e=0;e<c.length;e++)if(c[e]==s){t=e;break}let n=c[t].textContent.substring(0,a),r=c[t].textContent.substring(a,c[t].textContent.length),o=document.createTextNode(n),l=document.createTextNode(r);i.removeChild(c[t]);let h=t,u=c[t];0==n.length?(null==u?(i.appendChild(e),i.appendChild(l)):(i.insertBefore(l,u),i.insertBefore(e,l)),h+=1):0==r.length?(null==u?(i.appendChild(o),i.appendChild(e)):(i.insertBefore(e,u),i.insertBefore(o,e)),h+=2):(null==u?(i.appendChild(o),i.appendChild(e),i.appendChild(l)):(i.insertBefore(l,u),i.insertBefore(e,l),i.insertBefore(o,e)),h+=2);let d=document.createRange(),p=window.getSelection();d.setStart(i,h),d.collapse(!0),p.removeAllRanges(),p.addRange(d),this.tin_nhan=i.innerHTML.trim(),this.xuLyCss()}else{c.length>0&&(0==a?c[0].isEqualNode(document.createElement("br"))&&(i.removeChild(c[0]),o=0,r=null):c[a-1].isEqualNode(document.createElement("br"))&&(i.removeChild(c[a-1]),r=i.childNodes[o])),null!=r?i.insertBefore(e,r):i.appendChild(e);let t=document.createRange(),n=window.getSelection();t.setStart(i,o+1),t.collapse(!0),n.removeAllRanges(),n.addRange(t),this.tin_nhan=i.innerHTML.trim(),this.xuLyCss()}}}}inputMessenger(t){this.tin_nhan=t.trim(),this.xuLyCss()}xuLyCss(){let t=document.getElementById("parent_input");t.offsetHeight&&(t.offsetHeight>22?t.offsetHeight!=this.last_height&&(t.style.marginBottom="10px",this.messenger_footer_service.chenh_lech_height=t.offsetHeight-17,22==this.last_height?window.scrollTo(0,window.pageYOffset+(t.offsetHeight-this.last_height)+5):window.scrollTo(0,window.pageYOffset+(t.offsetHeight-this.last_height)),this.last_height=t.offsetHeight):22!=this.last_height&&(this.last_height=22,t.style.marginBottom="5px",this.messenger_footer_service.chenh_lech_height=0))}onKeyInput(t){let e=document.getElementById("input");if(13==t.keyCode)if(t.shiftKey)t.preventDefault(),document.execCommand("insertHTML",!1,"<br><br>");else{if(t.preventDefault(),0!=this.tin_nhan.trim().length){let t=0;for(let n=0;n<e.childNodes.length;n++)e.childNodes[n].isEqualNode(document.createElement("br"))&&t++;t!=e.childNodes.length&&this.content_service.sumitTinNhan(this.messenger_main_service.ma_cuoc_tro_chuyen,this.tin_nhan,e.children.length==e.childNodes.length?"gui_text_icon":"gui_text")}e.innerHTML="",this.tin_nhan="",this.xuLyCss()}}openBoxBtcx(){this.isShowBtcxBox=!this.isShowBtcxBox,this.isShowBtcxBox&&(this.isShowBoxGiphy=!1,this.isShowBoxStickers=!1)}openBoxGiphy(){this.isShowBoxGiphy=!this.isShowBoxGiphy,this.isShowBoxGiphy&&(this.isShowBtcxBox=!1,this.isShowBoxStickers=!1)}openBoxStickers(){this.isShowBoxStickers=!this.isShowBoxStickers,this.isShowBoxStickers&&(this.isShowBtcxBox=!1,this.isShowBoxGiphy=!1)}getTopBoxBTCX(){let t=document.getElementById("parent_input");return 32==t.offsetHeight?"-315px":48==t.offsetHeight?"-307px":64==t.offsetHeight?"-299px":80==t.offsetHeight?"-291px":83==t.offsetHeight?"-290px":"-323px"}getTopGiphy(){let t=document.getElementById("parent_input");return 32==t.offsetHeight?"-306px":48==t.offsetHeight?"-296px":64==t.offsetHeight?"-286px":80==t.offsetHeight||83==t.offsetHeight?"-276px":"-311px"}getLeftBoxBTCX(){if(null!=this.messenger_footer_service.object_chat_footer){if("nhom"==this.messenger_footer_service.object_chat_footer.loai)return"141px";if("don"==this.messenger_footer_service.object_chat_footer.loai)return"129px"}return"141px"}khongNhapNua(t){setTimeout(()=>{this.content_service.onInput=!1},0)}dangNhap(t){setTimeout(()=>{this.content_service.onInput=!0,this.content_service.updateOnInput(this.messenger_main_service.ma_cuoc_tro_chuyen)},0)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Lu),i.Y36(Xr),i.Y36(zu),i.Y36(li),i.Y36(yd))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-messenger-footer"]],decls:36,vars:20,consts:[[1,"container"],[1,"icon"],["matTooltip","\u0110\xednh k\xe8m m\u1ed9t \u1ea3nh ho\u1eb7c video","matTooltipClass","tooltip",1,"child"],["viewBox","0 -1 17 17","height","20px","width","20px",1,"a8c37x1j","ms05siws","hr662l2t","b7h9ocf4"],["fill","none","fill-rule","evenodd"],["d","M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z"],["cx","8.5","cy","4.5","r","1.5"],["d","M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z"],["d","M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z","stroke-linecap","round","stroke-linejoin","round"],["matTooltip","Ch\u1ecdn nh\xe3n d\xe1n","matTooltipClass","tooltip",1,"child",3,"click"],["x","0px","y","0px","viewBox","0 0 17 16","height","20px","width","20px",1,"a8c37x1j","ms05siws","hr662l2t","b7h9ocf4","crt8y2ji"],["fill-rule","evenodd"],["fill","none","cx","5.5","cy","5.5","r","1"],["fill","none","cx","11.5","cy","4.5","r","1"],["d","M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z","fill","none"],["d","M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z"],["d","M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z","fill-rule","nonzero"],["class","box-stickers",4,"ngIf"],["matTooltip","Ch\u1ecdn file gif","matTooltipClass","tooltip",1,"child",3,"click"],["x","0px","y","0px","viewBox","0 0 16 16","height","20px","width","20px",1,"a8c37x1j","ms05siws","hr662l2t","b7h9ocf4","crt8y2ji"],["d","M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z","fill-rule","nonzero"],["class","box-giphy",3,"top",4,"ngIf"],["matTooltip","\u0110\xednh k\xe8m file","matTooltipClass","tooltip",1,"child"],[1,"fas","fa-paperclip"],["class","child","matTooltip","T\u1ea1o cu\u1ed9c th\u0103m d\xf2 \xfd ki\u1ebfn","matTooltipClass","tooltip",4,"ngIf"],["matTooltip","G\u1eedi clip \xe2m thanh","matTooltipClass","tooltip",1,"child"],[1,"fas","fa-microphone"],[1,"khung-chat"],["id","parent_input",1,"parent-input"],["contenteditable","true","id","input",1,"input",3,"input","keydown","focusout","focus"],["input",""],["class","place",4,"ngIf"],["matTooltip","Ch\u1ecdn bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\xfac","matTooltipClass","tooltip",1,"fas","fa-smile","c-btcx",3,"click"],["class","box-bieu-tuong-cam-xuc","id","box-btcx",3,"top","left",4,"ngIf"],["class","bieu-tuong-cam-xuc-chat","matTooltip","G\u1eedi l\u01b0\u1ee3t th\xedch","matTooltipClass","tooltip",4,"ngIf"],[4,"ngIf"],[1,"box-stickers"],[1,"box-giphy"],["matTooltip","T\u1ea1o cu\u1ed9c th\u0103m d\xf2 \xfd ki\u1ebfn","matTooltipClass","tooltip",1,"child"],[1,"fas","fa-poll"],[1,"place"],["id","box-btcx",1,"box-bieu-tuong-cam-xuc"],[3,"icon"],[1,"mui-ten"],["matTooltip","G\u1eedi l\u01b0\u1ee3t th\xedch","matTooltipClass","tooltip",1,"bieu-tuong-cam-xuc-chat"],["viewBox","0 0 16 16","height","20","width","20",1,"crt8y2ji"],["d","M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z"],["d","M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z"]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.O4$(),i.TgZ(3,"svg",3),i.TgZ(4,"g",4),i._UZ(5,"path",5),i._UZ(6,"circle",6),i._UZ(7,"path",7),i._UZ(8,"path",8),i.qZA(),i.qZA(),i.qZA(),i.kcU(),i.TgZ(9,"div",9),i.NdJ("click",function(){return e.openBoxStickers()}),i.O4$(),i.TgZ(10,"svg",10),i.TgZ(11,"g",11),i._UZ(12,"circle",12),i._UZ(13,"circle",13),i._UZ(14,"path",14),i._UZ(15,"path",15),i._UZ(16,"path",16),i.qZA(),i.qZA(),i.qZA(),i.YNc(17,Zd,2,0,"div",17),i.kcU(),i.TgZ(18,"div",18),i.NdJ("click",function(){return e.openBoxGiphy()}),i.O4$(),i.TgZ(19,"svg",19),i._UZ(20,"path",20),i.qZA(),i.qZA(),i.YNc(21,Rd,2,2,"div",21),i.kcU(),i.TgZ(22,"div",22),i._UZ(23,"i",23),i.qZA(),i.YNc(24,qd,2,2,"div",24),i.TgZ(25,"div",25),i._UZ(26,"i",26),i.qZA(),i.qZA(),i.TgZ(27,"div",27),i.TgZ(28,"div",28),i.TgZ(29,"div",29,30),i.NdJ("input",function(){i.CHM(t);const n=i.MAs(30);return e.inputMessenger(n.innerHTML)})("keydown",function(t){return e.onKeyInput(t)})("focusout",function(t){return e.khongNhapNua(t)})("focus",function(t){return e.dangNhap(t)}),i.qZA(),i.qZA(),i.YNc(31,Ud,2,0,"p",31),i.TgZ(32,"i",32),i.NdJ("click",function(){return e.openBoxBtcx()}),i.qZA(),i.YNc(33,Bd,3,4,"div",33),i.qZA(),i.YNc(34,jd,4,2,"div",34),i.qZA(),i.YNc(35,zd,1,0,"app-shop-sticker",35)}2&t&&(i.xp6(5),i.uIk("fill",e.messenger_footer_service.object_chat_footer.mau),i.xp6(1),i.uIk("fill",e.messenger_footer_service.object_chat_footer.mau),i.xp6(1),i.uIk("fill",e.messenger_footer_service.object_chat_footer.mau),i.xp6(1),i.uIk("stroke",e.messenger_footer_service.object_chat_footer.mau),i.xp6(7),i.uIk("fill",e.messenger_footer_service.object_chat_footer.mau),i.xp6(1),i.uIk("fill",e.messenger_footer_service.object_chat_footer.mau),i.xp6(1),i.Q6J("ngIf",e.isShowBoxStickers),i.xp6(3),i.uIk("fill",e.messenger_footer_service.object_chat_footer.mau),i.xp6(1),i.Q6J("ngIf",e.isShowBoxGiphy),i.xp6(2),i.Udp("color",e.messenger_footer_service.object_chat_footer.mau),i.xp6(1),i.Q6J("ngIf","nhom"==e.messenger_footer_service.object_chat_footer.loai),i.xp6(2),i.Udp("color",e.messenger_footer_service.object_chat_footer.mau),i.xp6(5),i.Q6J("ngIf",null==e.tin_nhan||0==e.tin_nhan.length||"<br>"==e.tin_nhan),i.xp6(1),i.Udp("color",e.messenger_footer_service.object_chat_footer.mau),i.xp6(1),i.Q6J("ngIf",e.isShowBtcxBox),i.xp6(1),i.Q6J("ngIf","khong"==e.messenger_footer_service.object_chat_footer.bieu_tuong_cam_xuc),i.xp6(1),i.Q6J("ngIf",e.stickersService.isShowShop))},directives:[Sh,D,vd,xd,Nd,Ld],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{background-color:#fff;width:100%;border-radius:12px;box-shadow:4px 8px 28px 0 #d3dceb;display:flex;justify-content:space-between;align-items:center;position:relative;z-index:2}.container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:15px;display:flex;margin-top:3px}.container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{cursor:pointer;margin-left:5px;margin-right:5px}.container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin-top:1px}.container[_ngcontent-%COMP%]   .khung-chat[_ngcontent-%COMP%]{display:flex;width:273px;border-radius:20px;background-color:#f0f2f5;align-items:center;margin-top:7px;margin-bottom:7px}.container[_ngcontent-%COMP%]   .khung-chat[_ngcontent-%COMP%]   .parent-input[_ngcontent-%COMP%]{max-height:83px;overflow-y:scroll;margin-top:5px;margin-bottom:5px;transform:translateY(2.5px)}.container[_ngcontent-%COMP%]   .khung-chat[_ngcontent-%COMP%]   .parent-input[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{color:#050505;width:225px;margin-right:5px;margin-left:10px;min-height:22px;outline:none;font-family:Raleway;background:#f0f2f5;font-weight:500;font-size:14px}.container[_ngcontent-%COMP%]   .khung-chat[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:20px;background:transparent}.container[_ngcontent-%COMP%]   .khung-chat[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:20px;background:#00000066}.container[_ngcontent-%COMP%]   .khung-chat[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;height:0;border-radius:10px}.container[_ngcontent-%COMP%]   .khung-chat[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar:hover{background:#0700001c!important}.container[_ngcontent-%COMP%]   .khung-chat[_ngcontent-%COMP%]   .place[_ngcontent-%COMP%]{font-size:14px;margin-left:10px;position:absolute;color:#a1abad;font-family:Raleway;font-weight:500}.container[_ngcontent-%COMP%]   .khung-chat[_ngcontent-%COMP%]   .c-btcx[_ngcontent-%COMP%]{margin-left:7px;margin-right:7px;font-size:18px;cursor:pointer}.container[_ngcontent-%COMP%]   .khung-chat[_ngcontent-%COMP%]   .box-bieu-tuong-cam-xuc[_ngcontent-%COMP%]{top:-309px;position:absolute;left:141px;background-color:#fff;border-radius:8px;box-shadow:0 12px 28px 0 #00000033,0 2px 4px 0 #0000001a,inset 0 0 0 1px #ffffff80}.container[_ngcontent-%COMP%]   .khung-chat[_ngcontent-%COMP%]   .box-bieu-tuong-cam-xuc[_ngcontent-%COMP%]   .mui-ten[_ngcontent-%COMP%]{transform:translate(-19px,-7px) rotate(-45deg);width:17px;height:17px;right:0;position:absolute;background:#fff;bottom:-11px;box-shadow:-1px 1px 1px #ffffff80}.container[_ngcontent-%COMP%]   .bieu-tuong-cam-xuc-chat[_ngcontent-%COMP%]{cursor:pointer;margin-right:15px;margin-left:5px}.container[_ngcontent-%COMP%]   .box-giphy[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .box-stickers[_ngcontent-%COMP%]{position:absolute;width:270px;height:300px;top:-311px;left:30px;box-shadow:0 12px 28px 0 #00000033,0 2px 4px 0 #0000001a,inset 0 0 0 1px #ffffff80;border-radius:8px;z-index:10}.container[_ngcontent-%COMP%]   .box-stickers[_ngcontent-%COMP%]{left:0}"]}),t})();function Hd(t,e){1&t&&(i.TgZ(0,"div",1),i._UZ(1,"app-messenger-header"),i.TgZ(2,"div",2),i._UZ(3,"app-messenger-content"),i._UZ(4,"app-messenger-footer"),i.qZA(),i.qZA())}let Gd=(()=>{class t{constructor(t,e){this.route=t,this.messenger_main_service=e}ngOnInit(){this.route.params.subscribe(t=>{this.messenger_main_service.ma_cuoc_tro_chuyen=t.id})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(li),i.Y36(Xr))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-messenger"]],decls:2,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"content"]],template:function(t,e){1&t&&(i.YNc(0,Hd,5,0,"div",0),i._UZ(1,"router-outlet")),2&t&&i.Q6J("ngIf","danh-sach"!=e.messenger_main_service.ma_cuoc_tro_chuyen)},directives:[D,Ir,qh,md,Vd],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{position:absolute;width:502px;height:760px;left:321px;top:20px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;height:92%;flex-direction:column;justify-content:flex-end}"]}),t})();class Yd{tenGioiHan(){let t=new to;return t.noi_dung=this.ten,t.noi_dung_goc=this.ten,null!=t.noi_dung&&(t.noi_dung.length>7?(t.noi_dung=this.ten.substring(0,6).trim()+"...",t.is_cut=!0):t.is_cut=!1),t}}let Jd=(()=>{class t{constructor(){this.options={path:"/assets/json/lottie/loading.json"},this.chon_gioi_tinh_duoc_chon=!1,this.chon_hinh_dai_dien_duoc_chon=!1,this.xac_nhan_email_chon=!1,this.getData()}animationCreated(t){}isLoadingProcess(){return this.isLoading}setLoading(t){this.isLoading=t}getData(){this.reset();let t=JSON.parse(localStorage.getItem("register-process"));"0"==t?this.chon_gioi_tinh_duoc_chon=!0:"1"==t?this.chon_hinh_dai_dien_duoc_chon=!0:"2"==t&&(this.xac_nhan_email_chon=!0)}reset(){this.chon_gioi_tinh_duoc_chon=!1,this.chon_hinh_dai_dien_duoc_chon=!1,this.xac_nhan_email_chon=!1}isChonGioiTinh(){return this.chon_gioi_tinh_duoc_chon}isChonHinhDaiDien(){return this.chon_hinh_dai_dien_duoc_chon}isXacNhanEmail(){return this.xac_nhan_email_chon}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Qd=(()=>{class t{constructor(t,e){this.db=t,this.main_page_process_service=e,this.update()}dienBanBeOnline(t){let e=[];null!=t&&Object.entries(t).forEach(([t,n])=>{if("0"==n.ton_tai){let n=new Yd;n.ma_tai_khoan=t,e.push(n)}}),this.ban_bes=e,setTimeout(()=>{this.main_page_process_service.setLoading(!1)},0)}dienTroChuyenDonOnline(t){let e=[];null!=t&&Object.entries(t).forEach(([t,n])=>{"don"==n.loai_cuoc_tro_truyen&&e.push(t)}),this.maCuocTroChuyenDons=e,setTimeout(()=>{this.main_page_process_service.setLoading(!1)},0)}dienThanhVienCuocTroChuyenOnline(t){null!=t&&Object.entries(t).forEach(([t,e])=>{this.checkContain(t)&&this.handleThanhVienCuocTroChuyenDon(e,t)})}update(){setTimeout(()=>{let t=Number(new Date);if(null!=this.ban_bes)for(let e=0;e<this.ban_bes.length;e++)this.ban_bes[e].trang_thai_online=!(t-this.ban_bes[e].lan_cuoi_dang_nhap>1e4);this.update()},5e3)}checkIsOfflineAll(){if(null!=this.ban_bes){let t=0;for(let e=0;e<this.ban_bes.length;e++)0==this.ban_bes[e].trang_thai_online&&t++;if(t==this.ban_bes.length)return!0}return!1}getListFriend(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));return this.db.object("/ban_be/"+t).snapshotChanges()}getCuocTroChuyenDon(){return this.db.object("/cuoc_tro_chuyen").snapshotChanges()}getTaiKhoan(){return this.db.object("/tai_khoan").snapshotChanges()}getThanhVienCuocTroChuyenDon(){return this.db.object("/thanh_vien_cuoc_tro_chuyen").snapshotChanges()}checkContain(t){for(let e=0;e<this.maCuocTroChuyenDons.length;e++)if(this.maCuocTroChuyenDons[e]==t)return!0;return!1}handleThanhVienCuocTroChuyenDon(t,e){let n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),i=!1,r=!1,o=-1;Object.entries(t).forEach(([t,e])=>{t==n?i=!0:(o=this.checkMaTaiKhoanInChatPageBanBe(t),-1!=o&&(r=!0))}),i&&r&&(this.ban_bes[o].ma_cuoc_tro_chuyen=e)}createNhungBanBeChuaCoCuocTroChuyen(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),e=Number(new Date);for(let n=0;n<this.ban_bes.length;n++)if(null==this.ban_bes[n].ma_cuoc_tro_chuyen){let i=this.db.list("/cuoc_tro_chuyen").push({loai_cuoc_tro_truyen:"don",bieu_tuong_cam_xuc:"khong",mau:"#3275f7"});this.db.object("/thanh_vien_cuoc_tro_chuyen/"+i.key+"/"+t).update({ngay_tham_gia:e,trang_thai:"khong_cho"}),this.db.object("/thanh_vien_cuoc_tro_chuyen/"+i.key+"/"+this.ban_bes[n].ma_tai_khoan).update({ngay_tham_gia:e,trang_thai:"khong_cho"}),this.ban_bes[n].ma_cuoc_tro_chuyen=i.key}}checkMaTaiKhoanInChatPageBanBe(t){for(let e=0;e<this.ban_bes.length;e++)if(null==this.ban_bes[e].ma_cuoc_tro_chuyen&&this.ban_bes[e].ma_tai_khoan==t)return e;return-1}getHinhDaiDienVaLanCuoiDangNhapChoChatPageBanBe(t,e){if(null!=this.ban_bes)for(let n=0;n<this.ban_bes.length;n++)if(this.ban_bes[n].ma_tai_khoan==t){this.ban_bes[n].link_hinh_dai_dien=e.link_hinh,this.ban_bes[n].lan_cuoi_dang_nhap=e.lan_cuoi_dang_nhap,this.ban_bes[n].ten=e.ten;break}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo),i.LFG(Jd))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class $d{}class Wd{getLastTime(){let t=0;if("nhom"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen){let e=0;if(null!=this.cuoc_tro_truyen.tin_nhan&&this.cuoc_tro_truyen.tin_nhan.length>0){let n=this.cuoc_tro_truyen.tin_nhan[0].ngay_gui,i=this.getViTriBanThan();for(let t=0;t<this.cuoc_tro_truyen.tin_nhan.length;t++)"roi"==this.thong_tin_thanh_vien[i].roi_chua?this.cuoc_tro_truyen.tin_nhan[t].ngay_gui>n&&this.cuoc_tro_truyen.tin_nhan[t].ngay_gui<=this.thong_tin_thanh_vien[i].ngay_roi_di&&(n=this.cuoc_tro_truyen.tin_nhan[t].ngay_gui,e=t):"chua"==this.thong_tin_thanh_vien[i].roi_chua&&this.cuoc_tro_truyen.tin_nhan[t].ngay_gui>n&&(n=this.cuoc_tro_truyen.tin_nhan[t].ngay_gui,e=t);t=this.cuoc_tro_truyen.tin_nhan[e].ngay_gui}}else if("don"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen&&null!=this.cuoc_tro_truyen.tin_nhan){let e=0,n=this.cuoc_tro_truyen.tin_nhan[0].ngay_gui;for(let t=0;t<this.cuoc_tro_truyen.tin_nhan.length;t++)this.cuoc_tro_truyen.tin_nhan[t].ngay_gui>n&&(n=this.cuoc_tro_truyen.tin_nhan[t].ngay_gui,e=t);t=this.cuoc_tro_truyen.tin_nhan[e].ngay_gui}return t}getImg(){let t=[],e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if("nhom"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen)this.thong_tin_thanh_vien.length>1&&(t.push(this.thong_tin_thanh_vien[this.thong_tin_thanh_vien.length-1].link_hinh_dai_dien),t.push(this.thong_tin_thanh_vien[this.thong_tin_thanh_vien.length-2].link_hinh_dai_dien));else if("don"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen)for(let n=0;n<this.thong_tin_thanh_vien.length;n++)if(this.thong_tin_thanh_vien[n].ma_tai_khoan!=e){t.push(this.thong_tin_thanh_vien[n].link_hinh_dai_dien);break}return t}getName(){let t=new to,e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if("nhom"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen)t.noi_dung=this.cuoc_tro_truyen.ten_nhom,t.noi_dung_goc=this.cuoc_tro_truyen.ten_nhom;else if("don"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen)for(let n=0;n<this.thong_tin_thanh_vien.length;n++)if(this.thong_tin_thanh_vien[n].ma_tai_khoan!=e){t.noi_dung=this.thong_tin_thanh_vien[n].ten||"",t.noi_dung_goc=this.thong_tin_thanh_vien[n].ten||"";break}return t.noi_dung.length>16?(t.noi_dung=t.noi_dung.substring(0,13)+"...",t.is_cut=!0):t.is_cut=!1,t}isReaded(){if(null!=this.cuoc_tro_truyen.tin_nhan){let t=this.getIndexTinNhanCuoiCung(),e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(this.cuoc_tro_truyen.tin_nhan.length>t&&null!=this.cuoc_tro_truyen.tin_nhan[t].tinh_trang_xem)for(let n=0;n<this.cuoc_tro_truyen.tin_nhan[t].tinh_trang_xem.length;n++)if(this.cuoc_tro_truyen.tin_nhan[t].tinh_trang_xem[n].ma_tai_khoan==e&&"roi"==this.cuoc_tro_truyen.tin_nhan[t].tinh_trang_xem[n].xem_chua)return!0;return!1}return!0}getIndexTinNhanCuoiCung(){let t=0;if(null!=this.cuoc_tro_truyen.tin_nhan&&this.cuoc_tro_truyen.tin_nhan.length>0){let e=this.cuoc_tro_truyen.tin_nhan[0].ngay_gui;if("nhom"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen){let n=this.getViTriBanThan();for(let i=0;i<this.cuoc_tro_truyen.tin_nhan.length;i++)"roi"==this.thong_tin_thanh_vien[n].roi_chua?this.cuoc_tro_truyen.tin_nhan[i].ngay_gui>e&&this.cuoc_tro_truyen.tin_nhan[i].ngay_gui<=this.thong_tin_thanh_vien[n].ngay_roi_di&&(e=this.cuoc_tro_truyen.tin_nhan[i].ngay_gui,t=i):"chua"==this.thong_tin_thanh_vien[n].roi_chua&&this.cuoc_tro_truyen.tin_nhan[i].ngay_gui>e&&(e=this.cuoc_tro_truyen.tin_nhan[i].ngay_gui,t=i)}else if("don"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen)for(let n=0;n<this.cuoc_tro_truyen.tin_nhan.length;n++)this.cuoc_tro_truyen.tin_nhan[n].ngay_gui>e&&(e=this.cuoc_tro_truyen.tin_nhan[n].ngay_gui,t=n)}return t}isNhom(){return"nhom"==this.cuoc_tro_truyen.loai_cuoc_tro_truyen}getTime(){let t="";if(null!=this.cuoc_tro_truyen.tin_nhan&&this.cuoc_tro_truyen.tin_nhan.length>0){let e=this.getIndexTinNhanCuoiCung();if(this.cuoc_tro_truyen.tin_nhan.length>e){let n=this.cuoc_tro_truyen.tin_nhan[e].ngay_gui,i=Number(new Date)-n,r=6e4;i<60*r?t=parseInt(i/r+"")+" ph\xfat":i<60*r*24?t=parseInt(i/(60*r)+"")+" gi\u1edd":i<60*r*24*7?t=parseInt(i/(60*r*24)+"")+" ng\xe0y":i<60*r*24*365?t=parseInt(i/(60*r*24*7)+"")+" tu\u1ea7n":i<60*r*24*365*100&&(t=parseInt(i/(60*r*24*365)+"")+" n\u0103m")}}return t}getViTriBanThan(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));for(let e=0;e<this.thong_tin_thanh_vien.length;e++)if(this.thong_tin_thanh_vien[e].ma_tai_khoan==t)return e;return-1}getNoiDungCuoiCung(){let t=new to;if(t.noi_dung="",t.noi_dung_goc="",null!=this.cuoc_tro_truyen.tin_nhan&&this.cuoc_tro_truyen.tin_nhan.length>0){let e=this.getIndexTinNhanCuoiCung(),n=this.getTenNguoiGui(e);if(this.cuoc_tro_truyen.tin_nhan.length>e)switch(this.cuoc_tro_truyen.tin_nhan[e].loai_tin_nhan){case"gui_text":case"gui_text_icon":t.noi_dung=n+": "+this.cuoc_tro_truyen.tin_nhan[e].noi_dung;break;case"thong_bao":t.noi_dung=n+" "+this.cuoc_tro_truyen.tin_nhan[e].noi_dung;break;case"gui_hinh":t.noi_dung=n+" g\u1eedi m\u1ed9t h\xecnh \u1ea3nh";break;case"gui_video":t.noi_dung=n+" g\u1eedi m\u1ed9t video";break;case"gui_ghi_am":t.noi_dung=n+" g\u1eedi m\u1ed9t tin nh\u1eafn tho\u1ea1i";break;case"gui_file":t.noi_dung=n+" g\u1eedi m\u1ed9t t\u1ec7p";break;case"thu_hoi":t.noi_dung=n+" thu h\u1ed3i m\u1ed9t tin nh\u1eafn";break;case"phan_hoi":t.noi_dung=n+" ph\u1ea3n h\u1ed3i m\u1ed9t tin nh\u1eafn"}}this.handleNoiDung(t),t.noi_dung_goc=t.noi_dung;let e=t.noi_dung.split("\n");return e.length>1?(t.noi_dung=e[0].length>25?e[0].substring(0,22)+"...":e[0]+"...",t.is_cut=!0):t.noi_dung.length>25?(t.noi_dung=t.noi_dung.substring(0,22)+"...",t.is_cut=!0):t.is_cut=!1,t}handleNoiDung(t){let e=document.createElement("div");e.innerHTML=t.noi_dung;let n=e.childNodes,i="";for(let r=0;r<n.length;r++)n[r].isEqualNode(document.createElement("br"))?i+="\n":i+=n[r].textContent;t.noi_dung=i}getTenNguoiGui(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(this.cuoc_tro_truyen.tin_nhan[t].ma_tai_khoan==e)return"B\u1ea1n";if(null!=this.cuoc_tro_truyen.tin_nhan[t].ten){let e=this.cuoc_tro_truyen.tin_nhan[t].ten.trim().split(" ");return e[e.length-1]}return""}itMe(){if(null!=this.cuoc_tro_truyen.tin_nhan){let t=this.getIndexTinNhanCuoiCung(),e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(this.cuoc_tro_truyen.tin_nhan.length>t&&this.cuoc_tro_truyen.tin_nhan[t].ma_tai_khoan==e)return!0}return!1}getImgUserSeened(){let t=[];if(null!=this.cuoc_tro_truyen.tin_nhan){let e=this.getIndexTinNhanCuoiCung(),n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(this.cuoc_tro_truyen.tin_nhan.length>e)for(let i=0;i<this.cuoc_tro_truyen.tin_nhan[e].tinh_trang_xem.length;i++)if("roi"==this.cuoc_tro_truyen.tin_nhan[e].tinh_trang_xem[i].xem_chua&&this.cuoc_tro_truyen.tin_nhan[e].tinh_trang_xem[i].ma_tai_khoan!=n)if(t.length<3){let n=new $d;n.url=this.cuoc_tro_truyen.tin_nhan[e].tinh_trang_xem[i].hinh;let r="",o=new Date(this.cuoc_tro_truyen.tin_nhan[e].tinh_trang_xem[i].ngay_xem),s=o.getFullYear(),a=o.getMonth()+1,c=o.getDate(),l=o.getHours(),h=o.getMinutes(),u=o.getSeconds();r=`${l.toString().length>1?l:"0"+l}:${h.toString().length>1?h:"0"+h}:${u.toString().length>1?u:"0"+u} ${c.toString().length>1?c:"0"+c} Th\xe1ng ${a.toString().length>1?a:"0"+a}, ${s}`;let d=[""];null!=this.cuoc_tro_truyen.tin_nhan[e].tinh_trang_xem[i].ten&&(d=this.cuoc_tro_truyen.tin_nhan[e].tinh_trang_xem[i].ten.split(" ")),n.noi_dung=d[d.length-1]+" \u0111\xe3 xem l\xfac "+r,t.push(n)}else if(3==t.length){let n=new $d;n.url=this.cuoc_tro_truyen.tin_nhan[e].tinh_trang_xem[i].hinh,n.noi_dung=this.cuoc_tro_truyen.tin_nhan[e].tinh_trang_xem[i].ten,n.so_thanh_vien=1,t.push(n)}else t[3].so_thanh_vien=t[3].so_thanh_vien+1,t[3].noi_dung=t[3].noi_dung+"\n"+this.cuoc_tro_truyen.tin_nhan[e].tinh_trang_xem[i].ten}return t}isDaNhan(){if(null!=this.cuoc_tro_truyen.tin_nhan){let t=this.getIndexTinNhanCuoiCung(),e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(this.cuoc_tro_truyen.tin_nhan.length>t)for(let n=0;n<this.cuoc_tro_truyen.tin_nhan[t].tinh_trang_xem.length;n++)if("dang"==this.cuoc_tro_truyen.tin_nhan[t].tinh_trang_xem[n].xem_chua&&this.cuoc_tro_truyen.tin_nhan[t].tinh_trang_xem[n].ma_tai_khoan!=e)return!0}return!1}}let Kd=(()=>{class t{constructor(t,e){this.db=t,this.main_page_process_service=e,this.search="",this.update()}compareSearch(t){if(null!=this.allBoxData[t])if("nhom"==this.allBoxData[t].cuoc_tro_truyen.loai_cuoc_tro_truyen){if(null!=this.allBoxData[t].cuoc_tro_truyen.ten_nhom&&this.allBoxData[t].cuoc_tro_truyen.ten_nhom.trim().toLowerCase().includes(this.search.trim().toLowerCase()))return!0}else if("don"==this.allBoxData[t].cuoc_tro_truyen.loai_cuoc_tro_truyen){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));for(let n=0;n<this.allBoxData[t].thong_tin_thanh_vien.length;n++)if(this.allBoxData[t].thong_tin_thanh_vien[n].ma_tai_khoan!=e&&null!=this.allBoxData[t].thong_tin_thanh_vien[n].ten&&this.allBoxData[t].thong_tin_thanh_vien[n].ten.trim().toLowerCase().includes(this.search.trim().toLowerCase()))return!0}return!1}getLength(){if(null!=this.allBoxData){let t=0;for(let e=0;e<this.allBoxData.length;e++)this.compareSearch(e)&&t++;return t}return 0}update(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));setTimeout(()=>{let e=Number(new Date);if(null!=this.allBoxData)for(let n=0;n<this.allBoxData.length;n++){let i=!1;for(let r=0;r<this.allBoxData[n].thong_tin_thanh_vien.length;r++)if(this.allBoxData[n].thong_tin_thanh_vien[r].ma_tai_khoan!=t&&e-this.allBoxData[n].thong_tin_thanh_vien[r].lan_cuoi_dang_nhap<1e4){i=!0;break}this.allBoxData[n].trang_thai_online=i}this.update()},5e3)}getIndexSeleced(){if(null!=this.allBoxData){let t=-1;for(let n=0;n<this.allBoxData.length;n++)if(this.allBoxData[n].box_chat_dang_duoc_chon){t=n;break}if(!this.compareSearch(t))return-1;let e=0;for(let n=0;n<=t;n++)this.compareSearch(n)||e++;return t-e}return-1}getIndexPre(){let t=-1;if(null!=this.allBoxData){let e=-1;for(let t=0;t<this.allBoxData.length;t++)if(this.allBoxData[t].box_chat_dang_duoc_chon){e=t;break}let n=-1;for(let t=e-1;t>-1;t--)if(this.compareSearch(t)){n=t;break}t=n}return t}getIndexNext(){let t=-1;if(null!=this.allBoxData){let e=-1;for(let t=0;t<this.allBoxData.length;t++)if(this.allBoxData[t].box_chat_dang_duoc_chon){e=t;break}let n=-1;for(let t=e+1;t<this.allBoxData.length;t++)if(this.compareSearch(t)){n=t;break}t=n}return t}getIndexSelecedNotSearch(){if(null!=this.allBoxData)for(let t=0;t<this.allBoxData.length;t++)if(this.allBoxData[t].box_chat_dang_duoc_chon)return t;return-1}updateSelected(){for(let t=0;t<this.allBoxData.length;t++)this.allBoxData[t].box_chat_dang_duoc_chon=this.allBoxData[t].cuoc_tro_truyen.ma_cuoc_tro_chuyen==this.now_ma_cuoc_tro_chuyen;this.updateScroll()}updateScroll(){let t=document.getElementById("danh_sach_ban_be_ben_duoi");if(null!=t){let e=this.getIndexSelecedNotSearch();-1!=e&&t.scrollTo(e<3?{top:0,behavior:"smooth"}:{top:76*(e-2),behavior:"smooth"})}}updateScrollFirst(){let t=document.getElementById("danh_sach_ban_be_ben_duoi");if(null!=t){let e=this.getIndexSeleced();t.scrollTo(e<3?{top:0,behavior:"smooth"}:{top:76*(e-2),behavior:"smooth"}),null==this.is_di_chuyen_dung_vi_tri&&(this.is_di_chuyen_dung_vi_tri=0),this.is_di_chuyen_dung_vi_tri++}}seen(t){for(let e=0;e<this.allBoxData.length;e++)if(this.allBoxData[e].cuoc_tro_truyen.ma_cuoc_tro_chuyen==t&&null!=this.allBoxData[e].cuoc_tro_truyen.tin_nhan){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),n=Number(new Date);for(let i=0;i<this.allBoxData[e].cuoc_tro_truyen.tin_nhan.length;i++)this.isChuaXem(this.allBoxData[e].cuoc_tro_truyen.tin_nhan[i].tinh_trang_xem)&&this.db.database.ref("/chi_tiet_cuoc_tro_chuyen/"+this.allBoxData[e].cuoc_tro_truyen.ma_cuoc_tro_chuyen+"/"+this.allBoxData[e].cuoc_tro_truyen.tin_nhan[i].ma_tin_nhan+"/tinh_trang_xem/"+t).update({xem_chua:"roi",ngay_xem:n});break}}da_nhan(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));for(let e=0;e<this.allBoxData.length;e++)if(null!=this.allBoxData[e].cuoc_tro_truyen.tin_nhan){let n=Number(new Date);for(let i=0;i<this.allBoxData[e].cuoc_tro_truyen.tin_nhan.length;i++)this.isNhanChua(this.allBoxData[e].cuoc_tro_truyen.tin_nhan[i].tinh_trang_xem)&&this.db.database.ref("/chi_tiet_cuoc_tro_chuyen/"+this.allBoxData[e].cuoc_tro_truyen.ma_cuoc_tro_chuyen+"/"+this.allBoxData[e].cuoc_tro_truyen.tin_nhan[i].ma_tin_nhan+"/tinh_trang_xem/"+t).update({xem_chua:"dang",ngay_nhan:n})}}isChuaXem(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));for(let n=0;n<t.length;n++)if(t[n].ma_tai_khoan==e)return"roi"!=t[n].xem_chua;return!1}isNhanChua(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));for(let n=0;n<t.length;n++)if(t[n].ma_tai_khoan==e)return"roi"!=t[n].xem_chua&&"dang"!=t[n].xem_chua;return!1}checkUrl(t){for(let e=0;e<this.allBoxData.length;e++)if(this.allBoxData[e].cuoc_tro_truyen.ma_cuoc_tro_chuyen==t)return!0;return!1}dienTinNhan(t,e){for(let n=0;n<this.allBoxData.length;n++)if(this.allBoxData[n].cuoc_tro_truyen.ma_cuoc_tro_chuyen==t){let t=[];return Object.entries(e).forEach(([e,n])=>{let i=new Bu;i.ma_tin_nhan=e,i.dia_chi_file=n.dia_chi_file,i.link_file=n.link_file,i.loai_tin_nhan=n.loai_tin_nhan,i.ma_tai_khoan=n.ma_tai_khoan,i.ma_tin_nhan_phan_hoi=n.ma_tin_nhan_phan_hoi,i.ngay_gui=n.ngay_gui,i.noi_dung=n.noi_dung;let r=n.tinh_trang_xem,o=[];null!=r&&(Object.entries(r).forEach(([t,e])=>{let n=new Uu;n.ma_tai_khoan=t,n.ngay_xem=e.ngay_xem,n.xem_chua=e.xem_chua,n.ngay_nhan=e.ngay_nhan,o.push(n)}),i.tinh_trang_xem=o,t.push(i))}),void(this.allBoxData[n].cuoc_tro_truyen.tin_nhan=t)}}sort(){this.allBoxData=this.allBoxData.sort((t,e)=>{let n=t.getLastTime();return e.getLastTime()-n})}dienTenVaHinhChoTaiKhoanTrongBoxData(t,e){if(null!=this.allBoxData)for(let n=0;n<this.allBoxData.length;n++){for(let i=0;i<this.allBoxData[n].thong_tin_thanh_vien.length;i++)if(this.allBoxData[n].thong_tin_thanh_vien[i].ma_tai_khoan==t){this.allBoxData[n].thong_tin_thanh_vien[i].ten=e.ten,this.allBoxData[n].thong_tin_thanh_vien[i].link_hinh_dai_dien=e.link_hinh,this.allBoxData[n].thong_tin_thanh_vien[i].lan_cuoi_dang_nhap=e.lan_cuoi_dang_nhap;break}if(this.allBoxData[n].cuoc_tro_truyen.ma_tai_khoan_chu_so_huu==t&&(this.allBoxData[n].cuoc_tro_truyen.ten_nguoi_so_huu=e.ten),null!=this.allBoxData[n].cuoc_tro_truyen.tin_nhan)for(let i=0;i<this.allBoxData[n].cuoc_tro_truyen.tin_nhan.length;i++){for(let r=0;r<this.allBoxData[n].cuoc_tro_truyen.tin_nhan[i].tinh_trang_xem.length;r++)this.allBoxData[n].cuoc_tro_truyen.tin_nhan[i].tinh_trang_xem[r].ma_tai_khoan==t&&(this.allBoxData[n].cuoc_tro_truyen.tin_nhan[i].tinh_trang_xem[r].ten=e.ten,this.allBoxData[n].cuoc_tro_truyen.tin_nhan[i].tinh_trang_xem[r].hinh=e.link_hinh);this.allBoxData[n].cuoc_tro_truyen.tin_nhan[i].ma_tai_khoan==t&&(this.allBoxData[n].cuoc_tro_truyen.tin_nhan[i].ten=e.ten)}}}getBoxData(t,e){let n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),i=new Wd;for(let r=0;r<this.allCuocTroTruyen.length;r++)if(this.allCuocTroTruyen[r].ma_cuoc_tro_chuyen==t){let t=new Ru;t.ma_cuoc_tro_chuyen=this.allCuocTroTruyen[r].ma_cuoc_tro_chuyen,t.loai_cuoc_tro_truyen=this.allCuocTroTruyen[r].loai_cuoc_tro_truyen,t.ngay_tao=this.allCuocTroTruyen[r].ngay_tao,t.ten_nhom=this.allCuocTroTruyen[r].ten_nhom,t.ton_tai=this.allCuocTroTruyen[r].ton_tai,t.ma_tai_khoan_chu_so_huu=this.allCuocTroTruyen[r].ma_tai_khoan_chu_so_huu,t.ten_nguoi_so_huu=this.allCuocTroTruyen[r].ten_nguoi_so_huu,i.cuoc_tro_truyen=t;let o=[],s=!1;if(Object.entries(e).forEach(([t,e])=>{let i=new qu;i.ma_tai_khoan=t,i.ngay_tham_gia=e.ngay_tham_gia,i.ngay_roi_di=e.ngay_roi_di,i.roi_chua=e.roi_chua,o.push(i),s||t==n&&"khong_cho"==e.trang_thai&&(s=!0)}),!s)return null;i.thong_tin_thanh_vien=o,i.box_chat_dang_duoc_chon=!1;break}return i}getAllTaiKhoan(){return this.db.object("/tai_khoan").snapshotChanges()}getAllChiTietCuocTroChuyen(){return this.db.object("/chi_tiet_cuoc_tro_chuyen").snapshotChanges()}getAllCuocTroChuyen(){return this.db.object("/cuoc_tro_chuyen").snapshotChanges()}getAllCuocTroChuyenNhom(){return this.db.object("/thong_tin_tro_chuyen_nhom").snapshotChanges()}dienThongTinNhom(t,e){for(let n=0;n<this.allCuocTroTruyen.length;n++)if("nhom"==this.allCuocTroTruyen[n].loai_cuoc_tro_truyen&&this.allCuocTroTruyen[n].ma_cuoc_tro_chuyen==t&&0==e.ton_tai){this.allCuocTroTruyen[n].ten_nhom=e["ten-nhom"],this.allCuocTroTruyen[n].ngay_tao=e.ngay_tao,this.allCuocTroTruyen[n].ma_tai_khoan_chu_so_huu=e.chu_so_huu,this.allCuocTroTruyen[n].ton_tai=e.ton_tai;break}}getThanhVienCuocTroTruyen(){return this.db.object("/thanh_vien_cuoc_tro_chuyen").snapshotChanges()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo),i.LFG(Jd))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Xd{constructor(t,e,n){this.ten=t,this.ma_tai_khoan=e,this.hinh=n}}let tp=(()=>{class t{constructor(t){this.db=t,this.init()}createGroup(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),n=Number(new Date),i=this.db.list("/cuoc_tro_chuyen").push({loai_cuoc_tro_truyen:"nhom",bieu_tuong_cam_xuc:"khong",mau:"#3275f7"});this.db.object("/thong_tin_tro_chuyen_nhom/"+i.key).update({chu_so_huu:e,ngay_tao:n,"ten-nhom":t,ton_tai:0}),this.db.object("/thanh_vien_cuoc_tro_chuyen/"+i.key+"/"+e).update({ngay_roi_di:0,ngay_tham_gia:n,roi_chua:"chua",trang_thai:"khong_cho"});let r=[];r.push({ma_tai_khoan:e,ngay_nhan:0,ngay_xem:n,xem_chua:"roi"});for(let o=0;o<this.user_added.length;o++)this.db.object("/thanh_vien_cuoc_tro_chuyen/"+i.key+"/"+this.user_added[o].ma_tai_khoan).update({ngay_roi_di:0,ngay_tham_gia:n,roi_chua:"chua",trang_thai:"khong_cho"}),r.push({ma_tai_khoan:this.user_added[o].ma_tai_khoan,ngay_nhan:0,ngay_xem:0,xem_chua:"chua"});this.db.list("/chi_tiet_cuoc_tro_chuyen/"+i.key).push({dia_chi_file:"",link_file:"",loai_tin_nhan:"thong_bao",ma_tai_khoan:e,ma_tin_nhan_phan_hoi:"",ngay_gui:n,noi_dung:"\u0111\xe3 t\u1ea1o nh\xf3m"}).then(t=>{for(let e=0;e<r.length;e++)this.db.object("/chi_tiet_cuoc_tro_chuyen/"+i.key+"/"+t.key+"/tinh_trang_xem/"+r[e].ma_tai_khoan).update({ngay_nhan:r[e].ngay_nhan,ngay_xem:r[e].ngay_xem,xem_chua:r[e].xem_chua})})}fillter(t){this.user_search=[];let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(t.length>0)for(let n=0;n<this.all_user.length;n++)this.all_user[n].ma_tai_khoan!=e&&this.all_user[n].ten.trim().toLowerCase().includes(t.trim().toLowerCase())&&this.isNotInAdded(this.all_user[n].ma_tai_khoan)&&this.user_search.push(new Xd(this.all_user[n].ten,this.all_user[n].ma_tai_khoan,this.all_user[n].hinh))}clearAdded(t){let e=-1;for(let n=0;n<this.user_added.length;n++)if(this.user_added[n].ma_tai_khoan==t){e=n;break}-1!=e&&this.user_added.splice(e,1)}updateSearch(t,e){let n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(t.trim().length>0)for(let i=0;i<this.all_user.length;i++)if(this.all_user[i].ma_tai_khoan!=n&&this.all_user[i].ma_tai_khoan==e)return void(this.all_user[i].ten.trim().toLowerCase().includes(t.trim().toLowerCase())&&this.user_search.push(new Xd(this.all_user[i].ten,this.all_user[i].ma_tai_khoan,this.all_user[i].hinh)))}isNotInAdded(t){for(let e=0;e<this.user_added.length;e++)if(this.user_added[e].ma_tai_khoan==t)return!1;return!0}selectUser(t){for(let e=0;e<this.all_user.length;e++)if(this.all_user[e].ma_tai_khoan==t)return this.user_added.push(new Xd(this.all_user[e].ten,this.all_user[e].ma_tai_khoan,this.all_user[e].hinh)),void(this.user_search=[])}getAllUser(){return this.db.object("/tai_khoan").snapshotChanges()}off(){this.isshow=!1,this.init()}init(){this.user_added=[],this.user_search=[]}isOke(){return 0!=this.user_added.length}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ep(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",23),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit;return i.oxw().selectChat(e.ma_cuoc_tro_chuyen)}),i._UZ(1,"img",24),i.TgZ(2,"div",25),i._uU(3),i.qZA(),i.TgZ(4,"div",26),i._UZ(5,"div",27),i.qZA(),i.qZA()}if(2&t){const t=i.oxw().$implicit;i.xp6(1),i.Q6J("src",t.link_hinh_dai_dien||"assets/images/loading.gif",i.LSH),i.xp6(1),i.Q6J("matTooltip",t.tenGioiHan().noi_dung_goc)("matTooltipDisabled",!t.tenGioiHan().is_cut),i.xp6(1),i.hij(" ",t.tenGioiHan().noi_dung," ")}}function np(t,e){if(1&t&&(i.TgZ(0,"div",21),i.YNc(1,ep,6,4,"div",22),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf",t.trang_thai_online)}}function ip(t,e){1&t&&(i.TgZ(0,"p",28),i._uU(1,"Hi\u1ec7n t\u1ea1i kh\xf4ng c\xf3 ai online c\u1ea3"),i.qZA())}function rp(t,e){1&t&&(i.TgZ(0,"p",29),i._uU(1,"Ch\u1edd online \u01b0? \u0110i k\u1ebft th\xeam b\u1ea1n \u0111i n\xe0o!"),i.qZA())}function op(t,e){if(1&t&&(i.TgZ(0,"div",47),i._UZ(1,"img",24),i.qZA()),2&t){const t=i.oxw(2).$implicit;i.xp6(1),i.Q6J("src",t.getImg()[0]||"assets/images/loading.gif",i.LSH)}}function sp(t,e){if(1&t&&(i.TgZ(0,"div",48),i._UZ(1,"img",49),i._UZ(2,"img",50),i.qZA()),2&t){const t=i.oxw(2).$implicit;i.xp6(1),i.Q6J("src",t.getImg()[0]||"assets/images/loading.gif",i.LSH),i.xp6(1),i.Q6J("src",t.getImg()[1]||"assets/images/loading.gif",i.LSH)}}function ap(t,e){if(1&t&&(i.TgZ(0,"div",51),i._uU(1),i.qZA()),2&t){const t=i.oxw(2).$implicit,e=i.oxw();i.Q6J("ngStyle",t.isReaded()?null:e.getStyleNameReadMessage())("matTooltip",t.getName().noi_dung_goc)("matTooltipDisabled",!t.getName().is_cut),i.xp6(1),i.hij(" ",t.getName().noi_dung," ")}}function cp(t,e){if(1&t&&(i.TgZ(0,"div",52),i._uU(1),i.qZA()),2&t){const t=i.oxw(2).$implicit,e=i.oxw();i.Q6J("ngStyle",t.isReaded()?null:e.getStyleNameReadMessage())("ngStyle",t.isReaded()?null:e.getStyleNameReadMessage())("matTooltip",t.getName().noi_dung_goc)("matTooltipDisabled",!t.getName().is_cut),i.xp6(1),i.hij(" ",t.getName().noi_dung," ")}}function lp(t,e){if(1&t&&(i.TgZ(0,"div",53),i._uU(1),i.qZA()),2&t){const t=i.oxw(2).$implicit;i.xp6(1),i.hij("",t.getTime()," ")}}function hp(t,e){if(1&t&&(i.TgZ(0,"div",54),i._uU(1),i.qZA()),2&t){const t=i.oxw(2).$implicit;i.xp6(1),i.hij("",t.getTime()," ")}}function up(t,e){1&t&&(i.TgZ(0,"div",27),i._UZ(1,"div",55),i.qZA())}function dp(t,e){if(1&t&&(i.TgZ(0,"div",61),i._UZ(1,"img",24),i.qZA()),2&t){const t=i.oxw(3).$implicit;i.Q6J("matTooltip",t.getImgUserSeened()[0].noi_dung),i.xp6(1),i.Q6J("src",t.getImgUserSeened()[0].url||"assets/images/loading.gif",i.LSH)}}function pp(t,e){if(1&t&&(i.TgZ(0,"div",62),i._UZ(1,"img",24),i.qZA()),2&t){const t=i.oxw(3).$implicit;i.Q6J("matTooltip",t.getImgUserSeened()[1].noi_dung),i.xp6(1),i.Q6J("src",t.getImgUserSeened()[1].url||"assets/images/loading.gif",i.LSH)}}function gp(t,e){if(1&t&&(i.TgZ(0,"div",63),i._UZ(1,"img",24),i.qZA()),2&t){const t=i.oxw(3).$implicit;i.Q6J("matTooltip",t.getImgUserSeened()[2].noi_dung),i.xp6(1),i.Q6J("src",t.getImgUserSeened()[2].url||"assets/images/loading.gif",i.LSH)}}function fp(t,e){if(1&t&&(i.TgZ(0,"div",64),i.TgZ(1,"p"),i._uU(2),i.qZA(),i.qZA()),2&t){const t=i.oxw(3).$implicit;i.Q6J("matTooltip",t.getImgUserSeened()[3].noi_dung),i.xp6(2),i.hij("+",t.getImgUserSeened()[3].so_thanh_vien,"")}}function _p(t,e){if(1&t&&(i.TgZ(0,"div",56),i.YNc(1,dp,2,2,"div",57),i.YNc(2,pp,2,2,"div",58),i.YNc(3,gp,2,2,"div",59),i.YNc(4,fp,3,2,"div",60),i.qZA()),2&t){const t=i.oxw(2).$implicit;i.xp6(1),i.Q6J("ngIf",t.getImgUserSeened().length>0),i.xp6(1),i.Q6J("ngIf",t.getImgUserSeened().length>1),i.xp6(1),i.Q6J("ngIf",t.getImgUserSeened().length>2),i.xp6(1),i.Q6J("ngIf",t.getImgUserSeened().length>3)}}function mp(t,e){1&t&&(i.TgZ(0,"div",65),i._UZ(1,"i",66),i.qZA())}function yp(t,e){1&t&&(i.TgZ(0,"div",67),i._UZ(1,"i",66),i.qZA())}function vp(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",32),i.TgZ(2,"div",33),i.YNc(3,op,2,1,"div",34),i.YNc(4,sp,3,2,"div",35),i.TgZ(5,"div",26),i._UZ(6,"div",27),i.qZA(),i.qZA(),i.TgZ(7,"div",36),i.YNc(8,ap,2,4,"div",37),i.YNc(9,cp,2,5,"div",38),i.TgZ(10,"div",39),i._uU(11),i.qZA(),i._UZ(12,"div",40),i.qZA(),i.YNc(13,lp,2,1,"div",41),i.YNc(14,hp,2,1,"div",42),i.qZA(),i.YNc(15,up,2,0,"div",43),i.YNc(16,_p,5,4,"div",44),i.YNc(17,mp,2,0,"div",45),i.YNc(18,yp,2,0,"div",46),i.qZA()),2&t){const t=i.oxw().$implicit,e=i.oxw();i.xp6(3),i.Q6J("ngIf",!t.isNhom()),i.xp6(1),i.Q6J("ngIf",t.isNhom()),i.xp6(4),i.Q6J("ngIf",0!=t.getNoiDungCuoiCung().noi_dung.length),i.xp6(1),i.Q6J("ngIf",0==t.getNoiDungCuoiCung().noi_dung.length),i.xp6(1),i.Q6J("ngStyle",t.isReaded()?null:e.getStyleMessageReadMessage())("matTooltip",t.getNoiDungCuoiCung().noi_dung_goc)("matTooltipDisabled",!t.getNoiDungCuoiCung().is_cut),i.xp6(1),i.hij(" ",t.getNoiDungCuoiCung().noi_dung," "),i.xp6(1),i.Q6J("ngStyle",t.isReaded()?null:e.getStylePointReadMessage()),i.xp6(1),i.Q6J("ngIf",0!=t.getNoiDungCuoiCung().noi_dung.length),i.xp6(1),i.Q6J("ngIf",0==t.getNoiDungCuoiCung().noi_dung.length),i.xp6(1),i.Q6J("ngIf",t.trang_thai_online),i.xp6(1),i.Q6J("ngIf",t.itMe()),i.xp6(1),i.Q6J("ngIf",t.itMe()&&0==t.getImgUserSeened().length&&t.isDaNhan()),i.xp6(1),i.Q6J("ngIf",t.itMe()&&0==t.getImgUserSeened().length&&!t.isDaNhan())}}function Cp(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",30),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().onSelected(e.cuoc_tro_truyen.ma_cuoc_tro_chuyen)}),i.YNc(1,vp,19,15,"div",31),i.qZA()}if(2&t){const t=e.index,n=i.oxw();i.ekj("selected-container",n.chat_page_friend_left_service.getIndexSelecedNotSearch()===t)("selected-prev",t===n.chat_page_friend_left_service.getIndexPre()&&-1!=n.chat_page_friend_left_service.getIndexSeleced()&&n.chat_page_friend_left_service.compareSearch(n.chat_page_friend_left_service.getIndexSelecedNotSearch()))("selected-next",t===n.chat_page_friend_left_service.getIndexNext()&&-1!=n.chat_page_friend_left_service.getIndexSeleced()&&n.chat_page_friend_left_service.compareSearch(n.chat_page_friend_left_service.getIndexSelecedNotSearch()))("done-select",n.chat_page_friend_left_service.getIndexSelecedNotSearch()!=t)("hidden",!n.chat_page_friend_left_service.compareSearch(t)),i.xp6(1),i.Q6J("ngIf",n.chat_page_friend_left_service.compareSearch(t))}}function bp(t,e){if(1&t&&i._UZ(0,"div",68),2&t){const t=i.oxw();i.ekj("selected-next",t.chat_page_friend_left_service.getIndexSeleced()===t.chat_page_friend_left_service.getLength()-1&&-1!=t.chat_page_friend_left_service.getIndexSeleced()&&t.chat_page_friend_left_service.compareSearch(t.chat_page_friend_left_service.getIndexSelecedNotSearch())),i.Q6J("ngStyle",t.getStyleFillAll())}}function xp(t,e){if(1&t&&i._UZ(0,"div",18),2&t){const t=i.oxw();i.Q6J("ngStyle",t.getStyleShadowTop())}}let Pp=(()=>{class t{constructor(t,e,n,i,r,o){this.router=t,this.route=e,this.chat_page_friends_service=n,this.main_page_process_service=i,this.chat_page_friend_left_service=r,this.chat_page_create_ground=o}ngOnInit(){this.route.params.subscribe(t=>{let e=t.id;this.chat_page_friend_left_service.now_ma_cuoc_tro_chuyen=e,"danh-sach"!=e&&null!=this.chat_page_friend_left_service.allBoxData&&(this.chat_page_friend_left_service.checkUrl(e)?this.chat_page_friend_left_service.seen(e):this.router.navigate(["/**"])),null!=this.chat_page_friend_left_service.allBoxData&&this.chat_page_friend_left_service.updateSelected()}),null==this.chat_page_friends_service.ban_bes&&this.getDataOnline(),null==this.chat_page_friend_left_service.allBoxData&&this.getDataLeft()}getDataOnline(){null==this.chat_page_friends_service.layListBanbe||this.chat_page_friends_service.layListBanbe.unsubscribe(),this.getListFriendDataOnline()}getListFriendDataOnline(){this.chat_page_friends_service.layListBanbe=this.chat_page_friends_service.getListFriend().subscribe(t=>{this.chat_page_friends_service.dienBanBeOnline(t.payload.toJSON()),null==this.chat_page_friends_service.layTroChuyenDon||this.chat_page_friends_service.layTroChuyenDon.unsubscribe(),this.getTroChuyenDonDataOnline()})}getTroChuyenDonDataOnline(){this.chat_page_friends_service.layTroChuyenDon=this.chat_page_friends_service.getCuocTroChuyenDon().subscribe(t=>{this.chat_page_friends_service.dienTroChuyenDonOnline(t.payload.toJSON()),null==this.chat_page_friends_service.layThanhVienCuocTroChuyen||this.chat_page_friends_service.layThanhVienCuocTroChuyen.unsubscribe(),this.getThanhVienCuoCTroChuyenDataOnline()})}getThanhVienCuoCTroChuyenDataOnline(){this.chat_page_friends_service.layThanhVienCuocTroChuyen=this.chat_page_friends_service.getThanhVienCuocTroChuyenDon().subscribe(t=>{this.chat_page_friends_service.dienThanhVienCuocTroChuyenOnline(t.payload.toJSON()),this.chat_page_friends_service.createNhungBanBeChuaCoCuocTroChuyen(),null==this.chat_page_friends_service.layThongTinThanhVien||this.chat_page_friends_service.layThongTinThanhVien.unsubscribe(),this.layThongTinThanhVienOnline()})}layThongTinThanhVienOnline(){this.chat_page_friends_service.layThongTinThanhVien=this.chat_page_friends_service.getTaiKhoan().subscribe(t=>{let e=t.payload.toJSON();Object.entries(e).forEach(([t,e])=>{this.chat_page_friends_service.getHinhDaiDienVaLanCuoiDangNhapChoChatPageBanBe(t,e)}),setTimeout(()=>{this.main_page_process_service.setLoading(!1)},0)})}getDataLeft(){null==this.chat_page_friend_left_service.layAllCuocTroChuyen||this.chat_page_friend_left_service.layAllCuocTroChuyen.unsubscribe(),this.getAllCuocTroChuyenLeft()}getAllCuocTroChuyenLeft(){this.chat_page_friend_left_service.layAllCuocTroChuyen=this.chat_page_friend_left_service.getAllCuocTroChuyen().subscribe(t=>{let e=t.payload.toJSON(),n=[];null!=e&&Object.entries(e).forEach(([t,e])=>{let i=new Ru;i.ma_cuoc_tro_chuyen=t,i.loai_cuoc_tro_truyen=e.loai_cuoc_tro_truyen,n.push(i)}),this.chat_page_friend_left_service.allCuocTroTruyen=n,this.chat_page_friend_left_service.is_di_chuyen_dung_vi_tri=null,null==this.chat_page_friend_left_service.layAllCuocTroChuyenNhom||this.chat_page_friend_left_service.layAllCuocTroChuyenNhom.unsubscribe(),this.getAllCuocTroChuyenNhom()})}getAllCuocTroChuyenNhom(){this.chat_page_friend_left_service.layAllCuocTroChuyenNhom=this.chat_page_friend_left_service.getAllCuocTroChuyenNhom().subscribe(t=>{let e=t.payload.toJSON();null!=e&&Object.entries(e).forEach(([t,e])=>{this.chat_page_friend_left_service.dienThongTinNhom(t,e)}),null==this.chat_page_friend_left_service.layThanhVienCuocTroChuyenLeft||this.chat_page_friend_left_service.layThanhVienCuocTroChuyenLeft.unsubscribe(),this.getThanhVienCuocTroChuyenLeft()})}getThanhVienCuocTroChuyenLeft(){this.chat_page_friend_left_service.layThanhVienCuocTroChuyenLeft=this.chat_page_friend_left_service.getThanhVienCuocTroTruyen().subscribe(t=>{let e=t.payload.toJSON(),n=[];null!=e&&Object.entries(e).forEach(([t,e])=>{let i=this.chat_page_friend_left_service.getBoxData(t,e);null!=i&&n.push(i)}),this.chat_page_friend_left_service.allBoxData=n,this.chat_page_friend_left_service.updateSelected(),null==this.chat_page_friend_left_service.layAllChiTietCuocTroChuyen||this.chat_page_friend_left_service.layAllChiTietCuocTroChuyen.unsubscribe(),this.getAllChiTietCuocTroChuyenLeft()})}getAllChiTietCuocTroChuyenLeft(){this.chat_page_friend_left_service.layAllChiTietCuocTroChuyen=this.chat_page_friend_left_service.getAllChiTietCuocTroChuyen().subscribe(t=>{let e=t.payload.toJSON();null!=e&&Object.entries(e).forEach(([t,e])=>{this.chat_page_friend_left_service.dienTinNhan(t,e)}),this.chat_page_friend_left_service.sort(),"danh-sach"!=this.chat_page_friend_left_service.now_ma_cuoc_tro_chuyen&&(this.chat_page_friend_left_service.checkUrl(this.chat_page_friend_left_service.now_ma_cuoc_tro_chuyen)?this.chat_page_friend_left_service.seen(this.chat_page_friend_left_service.now_ma_cuoc_tro_chuyen):this.router.navigate(["/**"])),this.chat_page_friend_left_service.da_nhan(),null==this.chat_page_friend_left_service.layThongTinThanhVien||this.chat_page_friend_left_service.layThongTinThanhVien.unsubscribe(),this.getThongTinThanhVien()})}getThongTinThanhVien(){this.chat_page_friend_left_service.layThongTinThanhVien=this.chat_page_friend_left_service.getAllTaiKhoan().subscribe(t=>{let e=t.payload.toJSON();null!=e&&Object.entries(e).forEach(([t,e])=>{this.chat_page_friend_left_service.dienTenVaHinhChoTaiKhoanTrongBoxData(t,e)}),(null==this.chat_page_friend_left_service.is_di_chuyen_dung_vi_tri||this.chat_page_friend_left_service.is_di_chuyen_dung_vi_tri<2)&&this.chat_page_friend_left_service.updateScrollFirst(),setTimeout(()=>{this.main_page_process_service.setLoading(!1)},0)})}onSelected(t){this.chat_page_friend_left_service.now_ma_cuoc_tro_chuyen!=t&&this.router.navigate(["/bessenger/tin-nhan/"+t])}selectChat(t){this.chat_page_friend_left_service.now_ma_cuoc_tro_chuyen!=t&&this.router.navigate(["/bessenger/tin-nhan/"+t])}createNewGroup(){setTimeout(()=>{this.chat_page_create_ground.isshow=!0},0)}getStyleShadowTop(){return{height:76*this.chat_page_friend_left_service.getIndexSeleced()+"px",position:"absolute",width:"281px",top:"0px",left:"0px","border-bottom-right-radius":"27px","box-shadow":"4px 8px 28px 0px #d3dceb"}}getStyleShadowBottom(){let t=0;return this.chat_page_friend_left_service.getLength()<7&&(t=75*(7-this.chat_page_friend_left_service.getLength())-(2+this.chat_page_friend_left_service.getLength())),{height:76*(this.chat_page_friend_left_service.getLength()-this.chat_page_friend_left_service.getIndexSeleced()-1)+t+"px",position:"absolute",width:"281px",top:76*(this.chat_page_friend_left_service.getIndexSeleced()+1)+"px",left:"0px","border-top-right-radius":"27px","box-shadow":"4px 8px 28px 0px #d3dceb"}}getStyleNameReadMessage(){return{"font-weight":"bold",color:"black","font-size":"15px"}}getStyleMessageReadMessage(){return{"font-weight":"bold",color:"#3275f7"}}getStylePointReadMessage(){return{position:"absolute",width:"10px",height:"10px","border-radius":"50%","background-color":"#3275f7",right:"9px",top:"46.5px"}}getStyleFillAll(){return{width:"281px",background:"white","z-index":"10",position:"relative","border-bottom":"#e5f1fc solid 0.1px",height:75*(7-this.chat_page_friend_left_service.getLength())-(2+this.chat_page_friend_left_service.getLength())+"px"}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ar),i.Y36(li),i.Y36(Qd),i.Y36(Jd),i.Y36(Kd),i.Y36(tp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-friends-list"]],decls:24,vars:8,consts:[[1,"friends-list"],[1,"header"],[1,"title"],["matTooltip","T\u1ea1o nh\xf3m chat m\u1edbi","matTooltipClass","tooltip",1,"new-message",3,"click"],[1,"far","fa-edit"],[1,"search"],["type","text","placeholder","T\xecm ki\u1ebfm",3,"ngModel","ngModelChange"],[1,"fas","fa-search"],["id","danh_sach_ban_be_ben_tren",1,"status"],["class","myContent",4,"ngFor","ngForOf"],["class","no_user",4,"ngIf"],["class","no_user_2",4,"ngIf"],["id","box-shadow-header-and-status",1,"box-shadow-header-and-status"],[1,"friends"],["id","danh_sach_ban_be_ben_duoi",1,"content-friends"],["class","container message_read",3,"selected-container","selected-prev","selected-next","done-select","hidden","click",4,"ngFor","ngForOf"],["class","fillAll",3,"ngStyle","selected-next",4,"ngIf"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[1,"hidden_error"],[1,"end"],[1,"myContent"],[3,"click",4,"ngIf"],[3,"click"],["alt","",3,"src"],["matTooltipClass","tooltip",1,"name",3,"matTooltip","matTooltipDisabled"],[1,"cover-online"],[1,"online"],[1,"no_user"],[1,"no_user_2"],[1,"container","message_read",3,"click"],[4,"ngIf"],[1,"content"],[1,"left"],["class","don",4,"ngIf"],["class","nhom",4,"ngIf"],[1,"right"],["class","name","matTooltipClass","tooltip",3,"ngStyle","matTooltip","matTooltipDisabled",4,"ngIf"],["class","name2","matTooltipClass","tooltip",3,"ngStyle","matTooltip","matTooltipDisabled",4,"ngIf"],["matTooltipClass","tooltip",1,"message",3,"ngStyle","matTooltip","matTooltipDisabled"],[1,"message-unread",3,"ngStyle"],["class","timer",4,"ngIf"],["class","timer2",4,"ngIf"],["class","online",4,"ngIf"],["class","so_nguoi_da_xem",4,"ngIf"],["class","da_gui","matTooltip","\u0110\xe3 chuy\u1ec3n","matTooltipClass","tooltip",4,"ngIf"],["class","chua_nhan","matTooltip","\u0110\xe3 g\u1eedi","matTooltipClass","tooltip",4,"ngIf"],[1,"don"],[1,"nhom"],["alt","",1,"hinh_1",3,"src"],["alt","",1,"hinh_2",3,"src"],["matTooltipClass","tooltip",1,"name",3,"ngStyle","matTooltip","matTooltipDisabled"],["matTooltipClass","tooltip",1,"name2",3,"ngStyle","matTooltip","matTooltipDisabled"],[1,"timer"],[1,"timer2"],[1,"child"],[1,"so_nguoi_da_xem"],["class","hinh_1","matTooltipClass","tooltip",3,"matTooltip",4,"ngIf"],["class","hinh_2","matTooltipClass","tooltip",3,"matTooltip",4,"ngIf"],["class","hinh_3","matTooltipClass","tooltip",3,"matTooltip",4,"ngIf"],["class","hinh_4","matTooltipClass","tooltip",3,"matTooltip",4,"ngIf"],["matTooltipClass","tooltip",1,"hinh_1",3,"matTooltip"],["matTooltipClass","tooltip",1,"hinh_2",3,"matTooltip"],["matTooltipClass","tooltip",1,"hinh_3",3,"matTooltip"],["matTooltipClass","tooltip",1,"hinh_4",3,"matTooltip"],["matTooltip","\u0110\xe3 chuy\u1ec3n","matTooltipClass","tooltip",1,"da_gui"],[1,"fas","fa-check"],["matTooltip","\u0110\xe3 g\u1eedi","matTooltipClass","tooltip",1,"chua_nhan"],[1,"fillAll",3,"ngStyle"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"h3"),i._uU(4,"Bensenger"),i.qZA(),i.TgZ(5,"div",3),i.NdJ("click",function(){return e.createNewGroup()}),i._UZ(6,"i",4),i.qZA(),i.qZA(),i.TgZ(7,"div",5),i.TgZ(8,"input",6),i.NdJ("ngModelChange",function(t){return e.chat_page_friend_left_service.search=t}),i.qZA(),i._UZ(9,"i",7),i.qZA(),i.qZA(),i.TgZ(10,"div",8),i.YNc(11,np,2,1,"div",9),i.YNc(12,ip,2,0,"p",10),i.YNc(13,rp,2,0,"p",11),i.qZA(),i._UZ(14,"div",12),i.TgZ(15,"div",13),i.TgZ(16,"div",14),i.YNc(17,Cp,2,11,"div",15),i.YNc(18,bp,1,3,"div",16),i.YNc(19,xp,1,1,"div",17),i._UZ(20,"div",18),i.qZA(),i._UZ(21,"div",19),i.qZA(),i._UZ(22,"div",20),i.qZA(),i._UZ(23,"router-outlet")),2&t&&(i.xp6(8),i.Q6J("ngModel",e.chat_page_friend_left_service.search),i.xp6(3),i.Q6J("ngForOf",e.chat_page_friends_service.ban_bes),i.xp6(1),i.Q6J("ngIf",e.chat_page_friends_service.checkIsOfflineAll()),i.xp6(1),i.Q6J("ngIf",e.chat_page_friends_service.checkIsOfflineAll()),i.xp6(4),i.Q6J("ngForOf",e.chat_page_friend_left_service.allBoxData),i.xp6(1),i.Q6J("ngIf",e.chat_page_friend_left_service.getLength()<7),i.xp6(1),i.Q6J("ngIf",-1!=e.chat_page_friend_left_service.getIndexSeleced()),i.xp6(1),i.Q6J("ngStyle",e.getStyleShadowBottom()))},directives:[Sh,Yh,cu,ku,A,D,L,Ir],styles:[".friends-list[_ngcontent-%COMP%]{font-family:Raleway;width:281px;position:relative;height:95%;top:20px;left:20px;border-radius:27px}.friends-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{z-index:4;background-color:#fff;padding-top:27px;border-top-left-radius:27px;border-top-right-radius:27px;position:relative}.friends-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:80%;display:flex;margin:auto auto 25px;position:relative}.friends-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.friends-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .new-message[_ngcontent-%COMP%]{position:absolute;right:-4px;border-radius:50%;background-color:#f5f9fc;width:35px;height:35px;top:-8px;display:flex;justify-content:center;align-items:center;cursor:pointer}.friends-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .new-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.friends-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:85%;height:35px;margin:auto;border-radius:20px;position:relative;background-color:#f5f9fc}.friends-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:70%;margin-left:20px;margin-top:5px;border:none;outline:none}.friends-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#a4afbf}.friends-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:13px;background-color:#f5f9fc}.friends-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a4afbf;font-size:15px;position:absolute;top:10px;right:15px;cursor:pointer}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{margin-top:15px;position:absolute;z-index:4;height:265px;width:88px;top:9px;padding-left:14px;left:96px;overflow:scroll;transform:rotate(-90deg)}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .no_user[_ngcontent-%COMP%]{transform:rotate(90deg) translate(105px,58px);width:211px;font-family:Raleway;font-weight:600;font-size:13px;letter-spacing:1px}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .no_user_2[_ngcontent-%COMP%]{transform:rotate(90deg) translate(69px,79px);width:211px;position:absolute;font-family:Raleway;font-weight:500;font-size:10px;color:grey;letter-spacing:1px}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .myContent[_ngcontent-%COMP%]{transform:rotate(90deg);margin-right:10px;max-width:45px;position:relative;margin-left:10px}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .myContent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 0 2px #909090;width:40px;height:40px;object-fit:cover;border-radius:50%;cursor:pointer}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .myContent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-top:7px;text-align:center;font-size:11px;cursor:pointer;word-wrap:break-word}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .myContent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .cover-online[_ngcontent-%COMP%]{width:13.5px;height:13.5px;position:absolute;background-color:#fff;top:26px;display:flex;right:4px;border-radius:50%;justify-content:center;align-items:center}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .myContent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .cover-online[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{width:9.5px;height:9.5px;border-radius:50%;background-color:#31a24c}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .o1[_ngcontent-%COMP%]{margin-left:16px}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .o4[_ngcontent-%COMP%]{margin-right:0}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%], .friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .prev[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;border-radius:50%;font-size:15px;text-align:center;background-color:#e5f1fc;top:145px;cursor:pointer}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]{position:absolute;top:37px;right:21px}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .prev[_ngcontent-%COMP%]{position:absolute;top:37px;left:21px}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .next-none[_ngcontent-%COMP%], .friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .prev-none[_ngcontent-%COMP%]{display:none}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .slide1-selected[_ngcontent-%COMP%]{opacity:1;transform:translateX(6%);transition:all 1s;margin-left:15px}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .slide2-unselected[_ngcontent-%COMP%]{opacity:0;transform:translateX(100%);transition:all 1s}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .slide1-unselected[_ngcontent-%COMP%]{opacity:0;transform:translateX(-100%);transition:all 1s}.friends-list[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .slide2-selected[_ngcontent-%COMP%]{opacity:1;transform:translateX(-94%);transition:all 1s;margin-left:17px}.friends-list[_ngcontent-%COMP%]   .box-shadow-header-and-status[_ngcontent-%COMP%]{box-shadow:4px 8px 28px 0 #d3dceb;position:absolute;top:0;background-color:#fff;left:0;width:100%;height:210px;z-index:2;border-top-left-radius:27px;border-top-right-radius:27px}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]{margin-top:101px;z-index:3;overflow-y:hidden;position:relative;height:541px;width:320px}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]{width:320px;height:541px;overflow:scroll;position:relative;scroll-behavior:smooth}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:281px;height:75px;z-index:2;position:relative;cursor:pointer;border-bottom:.1px solid #e5f1fc;z-index:10}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:85%;margin:auto;display:flex;padding-top:12px;position:relative}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{position:relative;width:50px;height:50px}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .don[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 0 2px #909090;width:50px;height:50px;object-fit:cover;border-radius:50%}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .nhom[_ngcontent-%COMP%]   .hinh_1[_ngcontent-%COMP%]{box-shadow:0 0 2px #909090;position:absolute;left:0;bottom:0;z-index:10;width:32px;height:32px;object-fit:cover;border-radius:50%}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .nhom[_ngcontent-%COMP%]   .hinh_2[_ngcontent-%COMP%]{box-shadow:0 0 2px #909090;z-index:9;width:32px;height:32px;object-fit:cover;border-radius:50%;position:absolute;top:0;right:0}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .cover-online[_ngcontent-%COMP%]{width:18px;height:18px;position:absolute;background-color:#fff;top:33px;right:-2px;border-radius:50%;display:none}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .cover-online[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{position:absolute;top:16%;left:17%;width:12px;height:12px;border-radius:50%;background-color:#30e430}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .status-online[_ngcontent-%COMP%]{display:block}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-left:15px;padding-top:5px;max-width:215px}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-family:Raleway;word-wrap:break-word;font-size:13px;font-weight:600}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:11px;color:grey;padding-top:10px}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .name2[_ngcontent-%COMP%]{font-family:Raleway;word-wrap:break-word;font-size:13px;font-weight:600;margin-top:13px}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%], .friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .timer2[_ngcontent-%COMP%]{font-size:11px;color:grey;padding-top:3px;position:absolute;right:0;top:18px}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .timer2[_ngcontent-%COMP%]{margin-top:10px}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .selected-prev[_ngcontent-%COMP%]{border-bottom-right-radius:27px}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .selected-next[_ngcontent-%COMP%]{border-top-right-radius:27px}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .done-select[_ngcontent-%COMP%]{background-color:#fff}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .done-select[_ngcontent-%COMP%]:hover, .friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .done-select[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .cover-online[_ngcontent-%COMP%]{background-color:#e5f1fc}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .selected-container[_ngcontent-%COMP%]{border-bottom:none;border-left:4px solid #3275f7;transition:all .25s ease-in}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .selected-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .cover-online[_ngcontent-%COMP%]{background-color:initial}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{width:15px;height:15px;position:absolute;background-color:#fff;left:54px;bottom:13px;display:flex;justify-content:center;align-items:center;border-radius:50%}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{width:11px;height:11px;border-radius:50%;background-color:#31a24c}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .chua_nhan[_ngcontent-%COMP%]{position:absolute;right:28px;top:39px;border-radius:50%;border:1px solid #bcc0c4;width:17px;height:17px;display:flex;justify-content:center;align-items:center}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .chua_nhan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#bcc0c4;font-size:9px;margin:0;padding:0}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .da_gui[_ngcontent-%COMP%]{position:absolute;right:28px;top:39px;border-radius:50%;background:#bcc0c4;width:17px;height:17px;display:flex;justify-content:center;align-items:center}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .da_gui[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:9px;margin:0;padding:0}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .so_nguoi_da_xem[_ngcontent-%COMP%]{position:absolute;display:flex;right:-20px;top:37px;width:115px;justify-content:center;align-items:center}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .so_nguoi_da_xem[_ngcontent-%COMP%]   .hinh_1[_ngcontent-%COMP%]{position:relative;border-radius:50%;width:21px;height:21px;display:flex;justify-content:center;align-items:center;z-index:5;background-color:#fff}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .so_nguoi_da_xem[_ngcontent-%COMP%]   .hinh_1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:17px;height:17px;object-fit:cover;box-shadow:0 0 1px #909090}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .so_nguoi_da_xem[_ngcontent-%COMP%]   .hinh_2[_ngcontent-%COMP%]{background-color:#fff;transform:translateX(-7px);position:relative;z-index:4;border-radius:50%;width:21px;height:21px;display:flex;justify-content:center;align-items:center}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .so_nguoi_da_xem[_ngcontent-%COMP%]   .hinh_2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:17px;height:17px;object-fit:cover;box-shadow:0 0 1px #909090}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .so_nguoi_da_xem[_ngcontent-%COMP%]   .hinh_3[_ngcontent-%COMP%]{background-color:#fff;position:relative;transform:translateX(-14px);z-index:3;border-radius:50%;width:21px;height:21px;display:flex;justify-content:center;align-items:center}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .so_nguoi_da_xem[_ngcontent-%COMP%]   .hinh_3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:17px;height:17px;object-fit:cover;box-shadow:0 0 1px #909090}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .so_nguoi_da_xem[_ngcontent-%COMP%]   .hinh_4[_ngcontent-%COMP%]{transform:translateX(-14px);z-index:2;border-radius:50%;width:21px;height:21px;display:flex;justify-content:center;align-items:center}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .content-friends[_ngcontent-%COMP%]   .so_nguoi_da_xem[_ngcontent-%COMP%]   .hinh_4[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border-radius:50%;width:18px;height:18px;color:#65676b;background-color:#e4e6eb;font-family:Raleway;font-size:13px;font-weight:600;text-align:center;align-items:center;display:flex;justify-content:center}.friends-list[_ngcontent-%COMP%]   .friends[_ngcontent-%COMP%]   .hidden_error[_ngcontent-%COMP%]{width:26px;height:22px;color:#e5f1fc;left:299px;position:absolute}.friends-list[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.friends-list[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%]{z-index:2;box-shadow:8px 5px 37px 0 #b3bac5;margin-top:-17px;width:100%;height:25px;border-bottom-right-radius:27px;border-bottom-left-radius:27px;background-color:#fff;position:relative}.hidden[_ngcontent-%COMP%]{display:none}"]}),t})();class Op{}class Mp{}class wp{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof wp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new wp;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof wp?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class kp{encodeKey(t){return Tp(t)}encodeValue(t){return Tp(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Tp(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Sp(t){return`${t}`}class Ep{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new kp,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const i=t.indexOf("="),[r,o]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],s=n.get(r)||[];s.push(o),n.set(r,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ep({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Sp(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(Sp(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Ap{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function Ip(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Dp(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Fp(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Np{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new wp),this.context||(this.context=new Ap),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ep,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ip(this.body)||Dp(this.body)||Fp(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ep?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fp(this.body)?null:Dp(this.body)?this.body.type||null:Ip(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ep?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const h=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new Np(n,i,o,{params:l,headers:c,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var Lp=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Zp{constructor(t,e=200,n="OK"){this.headers=t.headers||new wp,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Rp extends Zp{constructor(t={}){super(t),this.type=Lp.ResponseHeader}clone(t={}){return new Rp({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class qp extends Zp{constructor(t={}){super(t),this.type=Lp.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new qp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Up extends Zp{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Bp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let jp=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof Np)i=t;else{let r,o;r=n.headers instanceof wp?n.headers:new wp(n.headers),n.params&&(o=n.params instanceof Ep?n.params:new Ep({fromObject:n.params})),i=new Np(t,e,void 0!==n.body?n.body:null,{headers:r,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=(0,Et.of)(i).pipe(Re(t=>this.handler.handle(t)));if(t instanceof Np||"events"===n.observe)return r;const o=r.pipe(Ae(t=>t instanceof qp));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe((0,It.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe((0,It.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe((0,It.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe((0,It.U)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ep).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Bp(n,e))}post(t,e,n={}){return this.request("POST",t,Bp(n,e))}put(t,e,n={}){return this.request("PUT",t,Bp(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Op))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class zp{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Vp=new i.OlP("HTTP_INTERCEPTORS");let Hp=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Gp=/^\)\]\}',?\n/;let Yp=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ae.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",o=new wp(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new Rp({headers:o,status:e,statusText:i,url:s}),r},s=()=>{let{headers:i,status:r,statusText:s,url:a}=o(),c=null;204!==r&&(c=void 0===n.response?n.responseText:n.response),0===r&&(r=c?200:0);let l=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(Gp,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=t,l&&(l=!1,c={error:h,text:c})}}l?(e.next(new qp({body:c,headers:i,status:r,statusText:s,url:a||void 0})),e.complete()):e.error(new Up({error:c,headers:i,status:r,statusText:s,url:a||void 0}))},a=t=>{const{url:i}=o(),r=new Up({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let c=!1;const l=i=>{c||(e.next(o()),c=!0);let r={type:Lp.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},h=t=>{let n={type:Lp.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",l),null!==i&&n.upload&&n.upload.addEventListener("progress",h)),n.send(i),e.next({type:Lp.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",l),null!==i&&n.upload&&n.upload.removeEventListener("progress",h)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Y))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Jp=new i.OlP("XSRF_COOKIE_NAME"),Qp=new i.OlP("XSRF_HEADER_NAME");class $p{}let Wp=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=T(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s),i.LFG(i.Lbi),i.LFG(Jp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Kp=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG($p),i.LFG(Qp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Xp=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Vp,[]);this.chain=t.reduceRight((t,e)=>new zp(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Mp),i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),tg=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Kp,useClass:Hp}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Jp,useValue:e.cookieName}:[],e.headerName?{provide:Qp,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Kp,{provide:Vp,useExisting:Kp,multi:!0},{provide:$p,useClass:Wp},{provide:Jp,useValue:"XSRF-TOKEN"},{provide:Qp,useValue:"X-XSRF-TOKEN"}]}),t})(),eg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[jp,{provide:Op,useClass:Xp},Yp,{provide:Mp,useExisting:Yp}],imports:[[tg.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),ng=(()=>{class t{constructor(t,e){this.http=t,this.db=e,this.REST_API_SERVER="https://bessenger.000webhostapp.com"}isQMK(){return null!=JSON.parse(localStorage.getItem("ma_tai_khoan_qmk"))}updatePassword(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_qmk"));return this.http.get(`${this.REST_API_SERVER}/cap_nhat_password.php?ma_tai_khoan=${e}&&mat_khau=${t}`)}updatePasswordFirebase(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_qmk"));this.db.object("/tai_khoan/"+e).update({mat_khau:t})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(jp),i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ig=(()=>{class t{constructor(){this.options={path:"/assets/json/lottie/notification.json"},this.show=!1,this.title="Y\xeau c\u1ea7u th\xe0nh c\xf4ng",this.child="H\xecnh \u1ea3nh c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt"}hidden(){this.show=!1}isShow(){return this.show}setTitle(t){this.title=t}setChild(t){this.child=t}showPop(){this.show=!0}animationCreated(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rg=(()=>{class t{constructor(){this.optionsLoading={path:"/assets/json/lottie/loading.json"},this.chon_mat_khau_duoc_chon=!1,this.xac_nhan_email_chon=!1,this.getData()}isLoadingProcess(){return this.isLoading}setLoading(t){this.isLoading=t}getData(){this.reset();let t=JSON.parse(localStorage.getItem("qmk-process"));"0"==t?this.xac_nhan_email_chon=!0:"1"==t&&(this.chon_mat_khau_duoc_chon=!0)}reset(){this.xac_nhan_email_chon=!1,this.chon_mat_khau_duoc_chon=!1}isChonMatKhau(){return this.chon_mat_khau_duoc_chon}isXacNhanEmail(){return this.xac_nhan_email_chon}animationCreatedLoading(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),og=(()=>{class t{constructor(){this.options={path:"/assets/json/lottie/notification.json"},this.show=!1,this.title="Y\xeau c\u1ea7u th\xe0nh c\xf4ng",this.child="H\xecnh \u1ea3nh c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt"}hidden(){this.show=!1}isShow(){return this.show}setTitle(t){this.title=t}setChild(t){this.child=t}showPop(){this.show=!0}animationCreated(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sg=(()=>{class t{constructor(t,e,n,i,r){this.fp_service=t,this.notification_fp=e,this.fp_process_service=n,this.router=i,this.notification_login_page=r}ngOnInit(){this.fp_service.isQMK()?this.fp_process_service.isChonMatKhau()?setTimeout(()=>{this.fp_process_service.reset(),this.fp_process_service.getData()},0):this.fp_process_service.isXacNhanEmail()&&this.moveToSelectVerifyEmail():this.router.navigate(["/bessenger"])}moveToSelectVerifyEmail(){this.router.navigate(["quen-mat-khau/xac-nhan-email"])}hasNumber(t){return/\d/.test(t)}changePassword(t){let e=0,n=!1,i=!1;for(;e<=t.length;){let n=t.charAt(e);n==n.toUpperCase()&&isNaN(n)&&(i=!0),e++}n=this.hasNumber(t);let r=document.getElementById("level-password").children;!n&&!i&&t.length>0?(r[3].textContent="Y\u1ebfu",r[3].style.color="#ff7b5c",r[0].style.background="#ff7b5c",r[1].style.background="#e2e2e2",r[2].style.background="#e2e2e2",document.getElementById("dk-password").style.border="1px solid #e2e2e2",document.getElementById("dk-error-3").style.display="none"):!n&&i||!i&&n?(r[3].textContent="Trung b\xecnh",r[3].style.color="yellow",r[0].style.background="yellow",r[1].style.background="yellow",r[2].style.background="#e2e2e2",document.getElementById("dk-password").style.border="1px solid #e2e2e2",document.getElementById("dk-error-3").style.display="none"):n&&i?(r[3].textContent="M\u1ea1nh",r[3].style.color="#20e820",r[0].style.background="#20e820",r[1].style.background="#20e820",r[2].style.background="#20e820",document.getElementById("dk-password").style.border="1px solid #e2e2e2",document.getElementById("dk-error-3").style.display="none"):(r[3].textContent="H\xe3y nh\u1eadp m\u1eadt kh\u1ea9u",r[3].style.color="#e2e2e2",r[0].style.background="#e2e2e2",r[1].style.background="#e2e2e2",r[2].style.background="#e2e2e2",document.getElementById("dk-password").style.border="1px solid #ff7b5c",document.getElementById("dk-error-3").style.display="block")}hiddenAndShowPassword(t,e){"text"==t.type?(t.type="password",e.classList.remove("fa-eye-slash"),e.classList.add("fa-eye")):(t.type="text",e.classList.add("fa-eye-slash"),e.classList.remove("fa-eye"))}submit(){let t=this.password||"";0==t.length?(document.getElementById("dk-password").style.border="1px solid #ff7b5c",document.getElementById("dk-error-3").style.display="block"):(this.fp_process_service.setLoading(!0),this.fp_service.updatePassword(t).subscribe(e=>{this.fp_service.updatePasswordFirebase(t),setTimeout(()=>{this.fp_process_service.setLoading(!1)},0),localStorage.removeItem("ma_tai_khoan_qmk"),localStorage.removeItem("qmk-process"),this.notification_login_page.setTitle("L\u1ea5y l\u1ea1i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng!"),this.notification_login_page.setChild("\u0110\xe3 t\u1edbi l\xfac \u0111\u0103ng nh\u1eadp v\xe0 th\u01b0\u1edfng th\u1ee9c n\xe0o!"),this.notification_login_page.showPop(),this.router.navigate(["/dang-nhap"])}))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ng),i.Y36(ig),i.Y36(rg),i.Y36(Ar),i.Y36(og))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-fp-select-password"]],decls:23,vars:1,consts:[[1,"container"],[1,"title-header"],[1,"noi-dung"],["id","dk-password",1,"input_data"],[1,"fab","fa-keycdn"],["type","password","placeholder","M\u1eadt kh\u1ea9u",3,"ngModel","ngModelChange"],["password2",""],[1,"far","fa-eye","eye",3,"click"],["eye2",""],["id","dk-error-3",1,"error"],["id","level-password",1,"level-password"],[1,"child"],[1,"go-next",3,"click"],[1,"fab","fa-cloudversify"]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"p",1),i._uU(2,"B\u01b0\u1edbc cu\u1ed1i c\xf9ng"),i.qZA(),i.TgZ(3,"p",2),i._uU(4,"H\xe3y nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi c\u1ee7a b\u1ea1n"),i.qZA(),i.TgZ(5,"div",3),i._UZ(6,"i",4),i.TgZ(7,"input",5,6),i.NdJ("ngModelChange",function(t){return e.password=t})("ngModelChange",function(t){return e.changePassword(t)}),i.qZA(),i.TgZ(9,"i",7,8),i.NdJ("click",function(){i.CHM(t);const n=i.MAs(8),r=i.MAs(10);return e.hiddenAndShowPassword(n,r)}),i.qZA(),i.qZA(),i.TgZ(11,"p",9),i._uU(12,"M\u1eadt kh\u1ea9u kh\xf4ng th\u1ec3 thi\u1ebfu"),i.qZA(),i.TgZ(13,"div",10),i._UZ(14,"div",11),i._UZ(15,"div",11),i._UZ(16,"div",11),i.TgZ(17,"p"),i._uU(18,"H\xe3y nh\u1eadp m\u1eadt kh\u1ea9u"),i.qZA(),i.qZA(),i.TgZ(19,"div",12),i.NdJ("click",function(){return e.submit()}),i._UZ(20,"i",13),i.TgZ(21,"p"),i._uU(22,"L\u1ea5y m\u1eadt kh\u1ea9u n\xe0y"),i.qZA(),i.qZA(),i.qZA()}2&t&&(i.xp6(7),i.Q6J("ngModel",e.password))},directives:[Yh,cu,ku],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{width:65%;height:488px;margin-left:auto;margin-right:auto;position:relative;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{font-family:Raleway;font-weight:700;letter-spacing:1px;font-size:23px;margin-top:30px;color:#23262e}.container[_ngcontent-%COMP%]   .noi-dung[_ngcontent-%COMP%]{letter-spacing:1px;font-size:11px;color:#888;margin-top:20px;font-family:Raleway}.container[_ngcontent-%COMP%]   .level-password[_ngcontent-%COMP%]{margin-top:20px;width:100%;display:flex;flex-direction:row;align-items:center}.container[_ngcontent-%COMP%]   .level-password[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{width:50px;height:4px;border-radius:4px;background-color:#e2e2e2;margin-left:2px;margin-right:2px}.container[_ngcontent-%COMP%]   .level-password[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:119px;margin-left:10px;cursor:pointer;color:#a7a7a7}.container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .level-password[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600}.container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{display:none;width:326px;margin-top:20px;color:#ff7b5c}.container[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]{display:flex;align-items:center;width:326px;height:40px;border:1px solid #e2e2e2;border-radius:10px;margin-top:50px}.container[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#23262e;margin-left:15px}.container[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]{margin-left:0;cursor:pointer}.container[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:247px;margin-left:15px;outline:none;color:#23262e;border:none}.container[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:red}.container[_ngcontent-%COMP%]   .go-next[_ngcontent-%COMP%]{background-color:#4290f6;display:flex;justify-content:center;align-items:center;margin-top:50px;width:171px;cursor:pointer;border-radius:5px;padding:12px 24px}.container[_ngcontent-%COMP%]   .go-next[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;color:#fff;margin-left:10px}.container[_ngcontent-%COMP%]   .go-next[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;color:#fff}"]}),t})();class ag{}let cg=(()=>{class t{constructor(t,e,n){this.fp_process_service=t,this.db=e,this.http=n,this.REST_API_SERVER="https://bessenger.000webhostapp.com"}getEmail(){setTimeout(()=>{this.fp_process_service.setLoading(!0)},0);let t=JSON.parse(localStorage.getItem("ma_tai_khoan_qmk"));return this.http.get(`${this.REST_API_SERVER}/lay_email_tu_ma_tai_khoan.php?ma_tai_khoan=${t}`)}sendMailQMK(t){return this.http.get(`${this.REST_API_SERVER}/sendEmailQMK.php?code=${t.code}&&email=${t.email}`)}updateEmail(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_qmk"));return this.http.get(`${this.REST_API_SERVER}/cap_nhat_code.php?ma_tai_khoan=${e}&&code=${t}`)}submit(t){setTimeout(()=>{this.fp_process_service.setLoading(!0)},0);let e=JSON.parse(localStorage.getItem("ma_tai_khoan_qmk"));return this.http.get(`${this.REST_API_SERVER}/kiem_tra_code.php?ma_tai_khoan=${e}&&code=${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(rg),i.LFG(Uo),i.LFG(jp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),lg=(()=>{class t{constructor(t,e,n,i,r){this.fp_service=t,this.notification_fp=e,this.fp_process_service=n,this.router=i,this.fp_verify_email_service=r}ngOnInit(){this.fp_service.isQMK()?this.fp_process_service.isChonMatKhau()?this.moveToSelectPassword():this.fp_process_service.isXacNhanEmail()&&setTimeout(()=>{this.fp_process_service.reset(),this.fp_process_service.getData()},0):this.router.navigate(["/bessenger"])}moveToSelectPassword(){this.router.navigate(["quen-mat-khau/chon-mat-khau"])}handleButton(t){let e=0;null!=this.num1&&null!=this.num1&&e++,null!=this.num2&&null!=this.num2&&e++,null!=this.num3&&null!=this.num3&&e++,null!=this.num4&&null!=this.num4&&e++,null!=this.num5&&null!=this.num5&&e++,null!=this.num6&&null!=this.num6&&e++,6==e?(t.disabled=!1,t.classList.remove("button-done-select"),t.classList.add("button-select")):(t.disabled=!0,t.classList.add("button-done-select"),t.classList.remove("button-select"))}reSendEmail(){let t="";for(let n=0;n<6;n++)t+=Math.floor(10*Math.random())+0+"";let e=new ag;e.code=t,this.fp_verify_email_service.getEmail().subscribe(t=>{e.email=t[0].email,this.fp_verify_email_service.sendMailQMK(e).subscribe(t=>{this.fp_verify_email_service.updateEmail(e.code).subscribe(t=>{setTimeout(()=>{this.fp_process_service.setLoading(!1)},0),this.notification_fp.setTitle("G\u1eedi l\u1ea1i m\xe3 th\xe0nh c\xf4ng!"),this.notification_fp.setChild("Email c\xf3 ch\u1ee9a m\xe3 m\u1edbi \u0111\xe3 \u0111\u01b0\u1ee3c ch\xfang t\xf4i g\u1eedi l\u1ea1i \u0111\u1ebfn b\u1ea1n, vui l\xf2ng ki\u1ec3m tra email"),this.notification_fp.showPop()})})})}submit(t){this.fp_verify_email_service.submit(this.num1+""+this.num2+this.num3+this.num4+this.num5+this.num6).subscribe(e=>{e.length>0?(setTimeout(()=>{this.fp_process_service.setLoading(!1)},0),localStorage.setItem("qmk-process",JSON.stringify("1")),this.fp_process_service.reset(),this.fp_process_service.getData(),this.moveToSelectPassword()):(setTimeout(()=>{this.fp_process_service.setLoading(!1)},0),t.style.display="block")})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ng),i.Y36(ig),i.Y36(rg),i.Y36(Ar),i.Y36(cg))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-fp-verify-email"]],decls:33,vars:6,consts:[[1,"container"],["src","assets/images/register-page/email.png","alt","",1,"email"],[1,"title-header"],[1,"noi-dung"],[1,"verify"],[1,"child"],["type","number","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","maxlength","1",3,"ngModel","ngModelChange","change"],["type","number","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","maxlength","1",3,"ngModel","ngModelChange"],[1,"error"],["error",""],["disabled","",1,"confirm","button-done-select",3,"click"],["button",""],[1,"fab","fa-cloudversify"],[1,"re-send"],[1,"child-1"],[1,"child-2",3,"click"],[1,"fas","fa-spinner"]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i._UZ(1,"img",1),i.TgZ(2,"p",2),i._uU(3,"H\xe3y x\xe1c th\u1ef1c Email c\u1ee7a b\u1ea1n"),i.qZA(),i.TgZ(4,"p",3),i._uU(5,'Ch\xfang t\xf4i \u0111\xe3 g\u1eedi cho b\u1ea1n m\u1ed9t "M\xe3 x\xe1c th\u1ef1c" \u0111\u1ebfn Email c\u1ee7a b\u1ea1n g\u1ed3m 6 CH\u1eee S\u1ed0, h\xe3y nh\u1eadp \u0111\u1ec3 ch\u1eafc ch\u1eafn \u0111\xf3 l\xe0 b\u1ea1n!'),i.qZA(),i.TgZ(6,"div",4),i.TgZ(7,"div",5),i.TgZ(8,"input",6),i.NdJ("ngModelChange",function(t){return e.num1=t})("change",function(){i.CHM(t);const n=i.MAs(23);return e.handleButton(n)}),i.qZA(),i.qZA(),i.TgZ(9,"div",5),i.TgZ(10,"input",6),i.NdJ("ngModelChange",function(t){return e.num2=t})("change",function(){i.CHM(t);const n=i.MAs(23);return e.handleButton(n)}),i.qZA(),i.qZA(),i.TgZ(11,"div",5),i.TgZ(12,"input",6),i.NdJ("ngModelChange",function(t){return e.num3=t})("change",function(){i.CHM(t);const n=i.MAs(23);return e.handleButton(n)}),i.qZA(),i.qZA(),i.TgZ(13,"div",5),i.TgZ(14,"input",6),i.NdJ("ngModelChange",function(t){return e.num4=t})("change",function(){i.CHM(t);const n=i.MAs(23);return e.handleButton(n)}),i.qZA(),i.qZA(),i.TgZ(15,"div",5),i.TgZ(16,"input",6),i.NdJ("ngModelChange",function(t){return e.num5=t})("change",function(){i.CHM(t);const n=i.MAs(23);return e.handleButton(n)}),i.qZA(),i.qZA(),i.TgZ(17,"div",5),i.TgZ(18,"input",7),i.NdJ("ngModelChange",function(t){return e.num6=t})("ngModelChange",function(){i.CHM(t);const n=i.MAs(23);return e.handleButton(n)}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(19,"p",8,9),i._uU(21,"M\xe3 x\xe1c th\u1ef1c kh\xf4ng \u0111\xfang, vui l\xf2ng ki\u1ec3m tra l\u1ea1i!"),i.qZA(),i.TgZ(22,"button",10,11),i.NdJ("click",function(){i.CHM(t);const n=i.MAs(20);return e.submit(n)}),i._UZ(24,"i",12),i.TgZ(25,"p"),i._uU(26,"X\xe1c th\u1ef1c"),i.qZA(),i.qZA(),i.TgZ(27,"div",13),i.TgZ(28,"p",14),i._uU(29,"B\u1ea1n kh\xf4ng nh\u1eadn \u0111\u01b0\u1ee3c m\xe3?"),i.qZA(),i.TgZ(30,"p",15),i.NdJ("click",function(){return e.reSendEmail()}),i._UZ(31,"i",16),i._uU(32," G\u1eedi l\u1ea1i m\xe3"),i.qZA(),i.qZA(),i.qZA()}2&t&&(i.xp6(8),i.Q6J("ngModel",e.num1),i.xp6(2),i.Q6J("ngModel",e.num2),i.xp6(2),i.Q6J("ngModel",e.num3),i.xp6(2),i.Q6J("ngModel",e.num4),i.xp6(2),i.Q6J("ngModel",e.num5),i.xp6(2),i.Q6J("ngModel",e.num6))},directives:[Su,Yh,Iu,cu,ku],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{width:65%;height:488px;position:relative;display:flex;flex-direction:column}.container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{width:150px;margin-top:10px}.container[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{font-weight:700;font-size:23px;margin-top:30px;color:#23262e}.container[_ngcontent-%COMP%]   .noi-dung[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{font-family:Raleway;letter-spacing:1px;text-align:center}.container[_ngcontent-%COMP%]   .noi-dung[_ngcontent-%COMP%]{font-size:11px;color:#888;margin-top:20px}.container[_ngcontent-%COMP%]   .verify[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .verify[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{overflow:hidden;border-radius:5px;display:flex;justify-content:center;align-items:center;width:51px;height:62px;box-shadow:0 0 3px #00000066}.container[_ngcontent-%COMP%]   .verify[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#23262e;border:none;outline:none;text-align:center;width:100px;height:100%;font-size:32px;font-family:sans-serif;font-weight:900;margin-left:15px;margin-bottom:2px}.container[_ngcontent-%COMP%]   .button-select[_ngcontent-%COMP%]{background-color:#4290f6}.container[_ngcontent-%COMP%]   .button-select[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .button-select[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.container[_ngcontent-%COMP%]   .button-done-select[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .button-done-select[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#23262e}.container[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{border:none;justify-content:center;align-items:center;margin-top:40px;margin-left:auto;margin-right:auto;display:flex;cursor:pointer;border-radius:5px;padding:12px 24px}.container[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;margin-left:10px}.container[_ngcontent-%COMP%]   .re-send[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .re-send[_ngcontent-%COMP%]   .child-1[_ngcontent-%COMP%]{font-weight:500;color:#888}.container[_ngcontent-%COMP%]   .re-send[_ngcontent-%COMP%]   .child-1[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .re-send[_ngcontent-%COMP%]   .child-2[_ngcontent-%COMP%]{letter-spacing:1px;font-size:12px;margin-top:20px;font-family:Raleway;text-align:center}.container[_ngcontent-%COMP%]   .re-send[_ngcontent-%COMP%]   .child-2[_ngcontent-%COMP%]{color:#4290f6;font-weight:700;cursor:pointer;margin-left:30px}.container[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]{background-color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;top:379px;left:0;cursor:pointer;border-radius:5px;padding:11px 24px;border:1px solid #23262e}.container[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;margin-left:10px;color:#23262e}.container[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;color:#23262e}.container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#ff7b5c;display:none;text-align:center;font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;top:353px;position:absolute;left:0;margin-left:auto;margin-right:auto;width:100%}"]}),t})();function hg(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",33),i.TgZ(1,"div",17),i.TgZ(2,"main",34),i.NdJ("animationCreated",function(e){return i.CHM(t),i.oxw().notification_fp.animationCreated(e)}),i.qZA(),i.TgZ(3,"p",16),i._uU(4),i.qZA(),i.TgZ(5,"p",35),i._uU(6),i.qZA(),i.TgZ(7,"button",36),i.NdJ("click",function(){return i.CHM(t),i.oxw().notification_fp.hidden()}),i._UZ(8,"i",37),i.TgZ(9,"p"),i._uU(10,"Ti\u1ebfp t\u1ee5c"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(2),i.Q6J("options",t.notification_fp.options),i.xp6(2),i.Oqu(t.notification_fp.title),i.xp6(2),i.Oqu(t.notification_fp.child)}}function ug(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",38),i.TgZ(1,"main",34),i.NdJ("animationCreated",function(e){return i.CHM(t),i.oxw().fp_process_service.animationCreatedLoading(e)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("options",t.fp_process_service.optionsLoading)}}function dg(t,e){1&t&&i._UZ(0,"i",39)}function pg(t,e){1&t&&i._UZ(0,"i",40)}function gg(t,e){1&t&&i._UZ(0,"i",39)}function fg(t,e){1&t&&i._UZ(0,"i",40)}function _g(t,e){1&t&&(i.TgZ(0,"p"),i._uU(1,"X\xe1c nh\u1eadn email"),i.qZA())}function mg(t,e){1&t&&(i.TgZ(0,"p",41),i._uU(1,"X\xe1c nh\u1eadn email"),i.qZA())}function yg(t,e){1&t&&(i.TgZ(0,"p"),i._uU(1,"Ch\u1ecdn gi\u1edbi t\xednh"),i.qZA())}function vg(t,e){1&t&&(i.TgZ(0,"p",41),i._uU(1,"Ch\u1ecdn m\u1eadt kh\u1ea9u"),i.qZA())}let Cg=(()=>{class t{constructor(t,e,n,i,r){this.notification_fp=t,this.fp_process_service=e,this.router=n,this.route=i,this.fp_service=r}ngOnInit(){this.fp_service.isQMK()?(null==JSON.parse(localStorage.getItem("qmk-process"))&&(localStorage.setItem("qmk-process",JSON.stringify("0")),this.fp_process_service.reset(),this.fp_process_service.getData()),this.init()):this.router.navigate(["/bessenger"])}init(){setTimeout(()=>{this.fp_process_service.setLoading(!1)},0),document.getElementById("hinh2").style.opacity="0",document.getElementById("hinh3").style.opacity="0",document.getElementById("hinh4").style.opacity="0",document.getElementById("hinh5").style.opacity="0",this.countSlide=0,this.isRunningSlide=!0,this.setDelay(1e4),this.fp_process_service.isXacNhanEmail()?this.moveToVerifyEmailPage():this.fp_process_service.isChonMatKhau()&&this.moveToSelectPassword()}setDelay(t){setTimeout(()=>{this.countSlide++;let e=`hinh${this.countSlide}`,n=`hinh${this.countSlide+1}`;5==this.countSlide&&(n="hinh1",this.countSlide=0);let i=document.getElementById(e);null!=i&&(i.style.opacity="0");let r=document.getElementById(n);null!=r&&(r.style.opacity="1");let o=document.getElementById("child");null!=o&&(o.style.left=64*this.countSlide+"px");let s=document.getElementById("content_child");null!=s&&(s.innerText=`0${this.countSlide+1}`),this.isRunningSlide&&this.setDelay(t)},t)}moveToSelectPassword(){this.router.navigate(["chon-mat-khau"],{relativeTo:this.route})}moveToVerifyEmailPage(){this.router.navigate(["xac-nhan-email"],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ig),i.Y36(rg),i.Y36(Ar),i.Y36(li),i.Y36(ng))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-forgot-password"]],decls:52,vars:10,consts:[["class","notification",4,"ngIf"],["class","loading",4,"ngIf"],[1,"container"],[1,"left"],["id","hinh1","src","assets/images/login-page/background1.jpg","alt","",1,"img"],["id","hinh2","src","assets/images/login-page/background2.jpg","alt","",1,"img"],["id","hinh3","src","assets/images/login-page/background3.jpg","alt","",1,"img"],["id","hinh4","src","assets/images/login-page/background4.jpg","alt","",1,"img"],["id","hinh5","src","assets/images/login-page/background5.jpg","alt","",1,"img"],[1,"left_header"],["src","assets/images/icon.ico","alt",""],[1,"bar"],["id","child",1,"child"],[1,"content_child"],["id","content_child"],[1,"thanks"],[1,"title"],[1,"content"],[1,"more"],[1,"fab","fa-ubuntu"],[1,"right"],[1,"header"],[1,"process"],["class","far fa-circle",4,"ngIf"],["class","fas fa-check-circle",4,"ngIf"],[1,"line-done-1"],[1,"line-done-2"],[1,"process-name"],[4,"ngIf"],["style","color: #4290f6;",4,"ngIf"],[1,"line"],[1,"footer"],[1,"far","fa-question-circle"],[1,"notification"],["lottie","",1,"anim",3,"options","animationCreated"],[1,"child"],[1,"confirm",3,"click"],[1,"fab","fa-battle-net"],[1,"loading"],[1,"far","fa-circle"],[1,"fas","fa-check-circle"],[2,"color","#4290f6"]],template:function(t,e){1&t&&(i.YNc(0,hg,11,3,"div",0),i.YNc(1,ug,2,1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i._UZ(4,"img",4),i._UZ(5,"img",5),i._UZ(6,"img",6),i._UZ(7,"img",7),i._UZ(8,"img",8),i.TgZ(9,"div",9),i._UZ(10,"img",10),i.TgZ(11,"p"),i._uU(12,"Bessenger"),i.qZA(),i.qZA(),i.TgZ(13,"div",11),i._UZ(14,"div",12),i.qZA(),i.TgZ(15,"div",13),i.TgZ(16,"p",14),i._uU(17,"01 "),i.qZA(),i.TgZ(18,"p"),i._uU(19," - 05"),i.qZA(),i.qZA(),i.TgZ(20,"p",15),i._uU(21,"C\u1ea3m \u01a1n b\u1ea1n \u0111\xe3 \u0111\u1ebfn v\u1edbi ch\xfang t\xf4i"),i.qZA(),i.TgZ(22,"p",16),i._uU(23,"Ho\xe0n thi\u1ec7n nh\u1eefng b\u01b0\u1edbc cu\u1ed1i c\xf9ng"),i.qZA(),i.TgZ(24,"p",17),i._uU(25,'Bessenger c\u1ee7a ch\xfang t\xf4i ra \u0111\u1eddi nh\u1eafm \u0111\xe1p \u1ee9ng c\xe1c nhu c\u1ea7u nh\u1eafn tin m\xe0 c\xe1c trang kh\xe1c kh\xf4ng l\xe0m \u0111\u01b0\u1ee3c \u0111\xf3 l\xe0 "\xcdt ng\u01b0\u1eddi bi\u1ebft \u0111\u1ebfn", \u0111i\u1ec1u \u0111\xf3 gi\xfap b\u1ea1n v\xe0 t\u1ed5 ch\u1ee9c, c\xe1 nh\u1eadn c\u1ee7a b\u1ea1n c\xf3 \u0111\u01b0\u1ee3c c\xe1c cu\u1ed9c trao \u0111\u1ed5i ri\xeang t\u01b0 kh\xf4ng b\u1ecb \u0103n c\u1eafp hay nghe l\xe9n. D\xf9 \u0111\u01a1n gi\u1ea3n nh\u01b0ng ch\xfang t\xf4i v\xe3n \u0111\xe1p \u1ee9ng \u0111\u1ea7y \u0111\u1ee7 c\xe1c ch\u1ee9c n\u0103ng c\u1ee7a m\u1ed9t \u1ee9ng d\u1ee5ng Chat!'),i.qZA(),i.TgZ(26,"div",18),i._UZ(27,"i",19),i.TgZ(28,"p"),i._uU(29,"T\u1ea1i sao b\u1ea1n l\u1ea1i bi\u1ebfn \u0111\u1ebfn ch\xfang t\xf4i mu\u1ed9n v\u1eady? \u0110\xf3 l\xe0 \u0111i\u1ec1u thi\u1ec7t th\xf2i c\u1ee7a b\u1ea1n!"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(30,"div",20),i.TgZ(31,"div",21),i.TgZ(32,"p",16),i._uU(33,"Ch\xe0o m\u1eebng \u0111\u1ebfn v\u1edbi d\u1ecbch v\u1ee5 Bessenger!"),i.qZA(),i.TgZ(34,"div",22),i.YNc(35,dg,1,0,"i",23),i.YNc(36,pg,1,0,"i",24),i.YNc(37,gg,1,0,"i",23),i.YNc(38,fg,1,0,"i",24),i._UZ(39,"div",25),i._UZ(40,"div",26),i.qZA(),i.TgZ(41,"div",27),i.YNc(42,_g,2,0,"p",28),i.YNc(43,mg,2,0,"p",29),i.YNc(44,yg,2,0,"p",28),i.YNc(45,vg,2,0,"p",29),i.qZA(),i._UZ(46,"div",30),i.qZA(),i._UZ(47,"router-outlet"),i.TgZ(48,"div",31),i._UZ(49,"i",32),i.TgZ(50,"p"),i._uU(51,"M\u1ecdi th\u1eafc m\u1eafc, c\xe2u h\u1ecfi h\xe3y li\xean h\u1ec7 v\u1edbi ch\xfang t\xf4i qua \u0111\u1ecba ch\u1ec9 mail: bessenger@gmail.com, ch\xfang t\xf4i s\u1ebd gi\u1ea3i \u0111\xe1p cho b\u1ea1n s\u1edbm nh\u1ea5t c\xf3 th\u1ec3. C\u1ea3m \u01a1n!"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.Q6J("ngIf",e.notification_fp.isShow()),i.xp6(1),i.Q6J("ngIf",e.fp_process_service.isLoadingProcess()),i.xp6(34),i.Q6J("ngIf",!e.fp_process_service.isXacNhanEmail()&&!e.fp_process_service.isChonMatKhau()),i.xp6(1),i.Q6J("ngIf",e.fp_process_service.isXacNhanEmail()||e.fp_process_service.isChonMatKhau()),i.xp6(1),i.Q6J("ngIf",!e.fp_process_service.isChonMatKhau()),i.xp6(1),i.Q6J("ngIf",e.fp_process_service.isChonMatKhau()),i.xp6(4),i.Q6J("ngIf",!e.fp_process_service.isXacNhanEmail()),i.xp6(1),i.Q6J("ngIf",e.fp_process_service.isXacNhanEmail()),i.xp6(1),i.Q6J("ngIf",!e.fp_process_service.isChonMatKhau()),i.xp6(1),i.Q6J("ngIf",e.fp_process_service.isChonMatKhau()))},directives:[D,Ir,Qt,Kt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.notification[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;display:flex;justify-content:center;align-items:center;top:0;left:0}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:600px;height:500px;display:flex;background-color:#fff;flex-direction:column;align-items:center;border-radius:10px;box-shadow:17px 20px 14px 4px #dbdae4}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{width:285px;margin-top:10px;height:285px}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#23262e;font-family:Raleway;line-height:21px;letter-spacing:1px;font-weight:700;font-size:20px;margin-top:20px}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{letter-spacing:1px;font-size:12px;font-weight:500;color:#888;margin-top:15px;font-family:Raleway;text-align:center}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{border:none;background-color:#ff7ca9;justify-content:center;align-items:center;margin-top:40px;margin-left:auto;margin-right:auto;display:flex;cursor:pointer;border-radius:5px;padding:12px 24px}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;margin-left:10px;color:#fff}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#fff}.loading[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;display:flex;justify-content:center;align-items:center;top:0;left:0}.loading[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{border:4px solid #da9696;border-radius:50%;background:#fff;width:300px;height:300px}.container[_ngcontent-%COMP%]{width:1244px;display:flex;flex-direction:row;height:800px;background-color:#fff;box-shadow:0 0 73px 10px #d7e2edd6;border-radius:40px;margin:50px}.left[_ngcontent-%COMP%]{border-top-left-radius:40px;border-bottom-left-radius:40px;width:34%;position:relative;height:100%;overflow:hidden}.left[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:700px;position:absolute;top:0;transform:translateX(-100px);left:0;transition:all 3s ease-in-out}.left_header[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;align-items:center;top:50px;left:50px}.left_header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}.left_header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:18px;margin-left:10px;font-weight:700;font-family:Raleway}.left[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;top:730px;left:50px;width:320px;background-color:#e2e2e25c;border-radius:4px;height:4px;overflow:hidden}.left[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transition:all 3s ease-in-out;width:64px;height:4px;background:#fff}.left[_ngcontent-%COMP%]   .content_child[_ngcontent-%COMP%]{position:absolute;top:0;right:0;top:752px;font-size:19px;font-weight:600;left:314px;display:flex;font-family:Raleway}.left[_ngcontent-%COMP%]   .content_child[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{transition:all 2s ease-in-out;color:#fff}.left[_ngcontent-%COMP%]   .content_child[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){color:#e2e2e2}.left[_ngcontent-%COMP%]   .thanks[_ngcontent-%COMP%]{top:210px;font-size:15px}.left[_ngcontent-%COMP%]   .thanks[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-family:Raleway;left:50px;position:absolute;font-weight:500;letter-spacing:1px}.left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{top:260px;font-size:36px}.left[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{top:389px;font-size:13px}.left[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{color:#fff;font-family:Raleway;left:50px;width:325px;line-height:21px;letter-spacing:1px;position:absolute;font-weight:500}.left[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{top:671px;font-size:11px;display:flex;flex-direction:row}.left[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{transform:translateY(-7px);margin-left:17px}.left[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.right[_ngcontent-%COMP%]{width:66%;overflow:hidden;border-bottom-right-radius:40px;height:100%}.right[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;height:27%;align-items:center}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#23262e;font-family:Raleway;line-height:21px;letter-spacing:1px;font-weight:700;font-size:20px;margin-top:70px}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]{width:60%;margin-top:37px;display:flex;position:relative;align-items:center;justify-content:space-between}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:#fff;color:#4290f6;z-index:2}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]   .line-done-1[_ngcontent-%COMP%]{left:0}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]   .line-done-1[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]   .line-done-2[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#f5f5f5;position:absolute;top:0;margin-top:7px}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]   .line-done-2[_ngcontent-%COMP%]{right:0;z-index:1}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process-name[_ngcontent-%COMP%]{width:70%;margin-top:15px;display:flex;position:relative;align-items:center;justify-content:space-between}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:1px;font-size:12px;font-family:Raleway;font-weight:600;color:#c8c5cb}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:80%;height:2px;background-color:#f5f5f5;position:absolute;bottom:0}.right[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;width:72%;margin-left:140px;height:12%;color:#888;font-family:Raleway}.right[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:21px;letter-spacing:1px;font-size:11px;transform:translateY(-5px);margin-left:17px}.right[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;font-weight:500}"]}),t})(),bg=(()=>{class t{constructor(t){this.http=t,this.REST_API_SERVER="https://bessenger.000webhostapp.com"}checkEmail(t){return this.http.get(`${this.REST_API_SERVER}/kiem_tra_email_dang_nhap.php?email=${t}`)}logOut(){localStorage.removeItem("ma_tai_khoan_dn")}isLogin(){return null!=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"))}login(t){localStorage.setItem("ma_tai_khoan_dn",JSON.stringify(t))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(jp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xg=(()=>{class t{constructor(t,e){this.httpClient=t,this.db=e,this.REST_API_SERVER="https://bessenger.000webhostapp.com",this.getData()}sendMail(t){return this.httpClient.get(`${this.REST_API_SERVER}/sendEmail.php?code=${t.code}&&email=${t.email}`)}sendMailQMK(t){return this.httpClient.get(`${this.REST_API_SERVER}/sendEmailQMK.php?code=${t.code}&&email=${t.email}`)}checkEmail(t){return this.httpClient.get(`${this.REST_API_SERVER}/kiem_tra_email.php?email=${t}`)}updateEmail(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_qmk"));return this.httpClient.get(`${this.REST_API_SERVER}/cap_nhat_code.php?ma_tai_khoan=${e}&&code=${t}`)}insertNewAccountToFirebase(t,e,n,i){let r=Number(new Date),o=this.db.list("/tai_khoan").push({ten:t,email:e,ngay_tao:r,mat_khau:n,lan_cuoi_dang_nhap:r});localStorage.setItem("ma_tai_khoan",JSON.stringify(o.key)),this.getData()}themDuLieuTaiKhoanMoiWebservice(t,e,n,i,r){return this.httpClient.get(`${this.REST_API_SERVER}/them_mot_tai_khoan_moi.php?code=${i}&&email=${e}&&ten=${t}&&mat_khau=${n}&&ma_tai_khoan=${r}&&trang_thai_kich_hoat=chua`)}taiHinhMacDinhChoTaiKhoan(t){let e="assets/images/register-page/nam.png";return"nu"==t&&(e="assets/images/register-page/nu.png"),this.httpClient.get(e,{responseType:"blob"})}getData(){this.ma_tai_khoan=JSON.parse(localStorage.getItem("ma_tai_khoan"))}isRegister(){return null!=JSON.parse(localStorage.getItem("ma_tai_khoan"))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(jp),i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Pg=n(1062),Og=n(4762),Mg=n(250),wg=n(5119),kg="firebasestorage.googleapis.com",Tg=function(t){function e(n,i){var r=t.call(this,Sg(n),"Firebase Storage: "+i+" ("+Sg(n)+")")||this;return r.customData={serverResponse:null},r._baseMessage=r.message,Object.setPrototypeOf(r,e.prototype),r}return(0,Og.ZT)(e,t),e.prototype._codeEquals=function(t){return Sg(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(Mg.ZR);function Sg(t){return"storage/"+t}function Eg(){return new Tg("unknown","An unknown error occurred, please check the error payload for server response.")}function Ag(){return new Tg("canceled","User canceled the upload/download.")}function Ig(){return new Tg("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Dg(t){return new Tg("invalid-argument",t)}function Fg(){return new Tg("app-deleted","The Firebase app was deleted.")}function Ng(t){return new Tg("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lg(t,e){return new Tg("invalid-format","String does not match format '"+t+"': "+e)}function Zg(t){throw new Tg("internal-error","Internal error: "+t)}var Rg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},qg=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Ug(t,e){switch(t){case Rg.RAW:return new qg(Bg(e));case Rg.BASE64:case Rg.BASE64URL:return new qg(jg(t,e));case Rg.DATA_URL:return new qg((n=new zg(e)).base64?jg(Rg.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Lg(Rg.DATA_URL,"Malformed data URL.")}return Bg(e)}(n.rest),new zg(e).contentType)}var n;throw Eg()}function Bg(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var r=i,o=t.charCodeAt(++n);e.push(240|(i=65536|(1023&r)<<10|1023&o)>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function jg(t,e){switch(t){case Rg.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw Lg(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Rg.BASE64URL:var r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw Lg(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(l){throw Lg(t,"Invalid character found")}for(var a=new Uint8Array(s.length),c=0;c<s.length;c++)a[c]=s.charCodeAt(c);return a}var zg=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Lg(Rg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,i,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=(i=";base64").length&&n.substring(n.length-i.length)===i,this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),Vg={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Hg(t){switch(t){case"running":case"pausing":case"canceling":return Vg.RUNNING;case"paused":return Vg.PAUSED;case"success":return Vg.SUCCESS;case"canceled":return Vg.CANCELED;case"error":default:return Vg.ERROR}}var Gg=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Yg=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Gg.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Gg.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Gg.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,i){if(this.sent_)throw Zg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(var r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Zg("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Zg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Zg("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Jg=function(){function t(){}return t.prototype.createXhrIo=function(){return new Yg},t}(),Qg=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var i;try{i=t.makeFromUrl(e,n)}catch(r){return new t(e,"")}if(""===i.path)return i;throw new Tg("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var i=null,r="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),c=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===kg?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],l=0;l<c.length;l++){var h=c[l],u=h.regex.exec(e);if(u){var d=u[h.indices.path];d||(d=""),i=new t(u[h.indices.bucket],d),h.postModify(i);break}}if(null==i)throw function(t){return new Tg("invalid-url","Invalid URL '"+t+"'.")}(e);return i},t}(),$g=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function Wg(t){return"string"==typeof t||t instanceof String}function Kg(t){return Xg()&&t instanceof Blob}function Xg(){return"undefined"!=typeof Blob}function tf(t,e,n,i){if(i<e)throw Dg("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(i>n)throw Dg("Invalid value for '"+t+"'. Expected "+n+" or less.")}function ef(t,e){var n=e.match(/^(\w+):\/\/.+/),i=e;return null==(null==n?void 0:n[1])&&(i="https://"+e),i+"/v0"+t}function nf(t){var e=encodeURIComponent,n="?";for(var i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n.slice(0,-1)}var rf=function(){function t(t,e,n,i,r,o,s,a,c,l,h){var u=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=l,this.timeout_=c,this.pool_=h,this.promise_=new Promise(function(t,e){u.resolve_=t,u.reject_=e,u.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var i,r=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?r(a):r()}catch(c){o(c)}else null!==s?((i=Eg()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,i):i)):o(i=n.canceled?t.appDelete_?Fg():Ag():new Tg("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new of(!1,null,!0)):this.backoffId_=function(e,n,i){var r=1,o=null,s=!1,a=0;function c(){return 2===a}var l=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function u(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new of(!1,null,!0));else{var i=t.pool_.createXhrIo();t.pendingXhr_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(r),t.pendingXhr_=null;var i=(n=n).getErrorCode()===Gg.NO_ERROR,o=n.getStatus();if(i&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new of(s,n))}else{var a=n.getErrorCode()===Gg.ABORT;e(!1,new of(!1,null,a))}})}function r(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)h.call.apply(h,(0,Og.ev)([null,t],e));else{var i;c()||s?h.call.apply(h,(0,Og.ev)([null,t],e)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),u(i))}}var p=!1;function g(t){p||(p=!0,l||(null!==o?(t||(a=2),clearTimeout(o),u(0)):t||(a=1)))}return u(0),setTimeout(function(){s=!0,g(!0)},i),g}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i},t}(),of=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function sf(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function af(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=sf();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(Xg())return new Blob(t);throw new Tg("unsupported-environment","This browser doesn't seem to support creating Blobs")}var cf=function(){function t(t,e){var n=0,i="";Kg(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Kg(this.data_)){var i=(o=e,s=n,(r=this.data_).webkitSlice?r.webkitSlice(o,s):r.mozSlice?r.mozSlice(o,s):r.slice?r.slice(o,s):null);return null===i?null:new t(i)}var r,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Xg()){var i=e.map(function(e){return e instanceof t?e.data_:e});return new t(af.apply(null,i))}var r=e.map(function(t){return Wg(t)?Ug(Rg.RAW,t).data:t.data_}),o=0;r.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return r.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function lf(t){var e,n;try{e=JSON.parse(t)}catch(i){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function hf(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function uf(t,e){return e}var df=function(){return function(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||uf}}(),pf=null;function gf(){if(pf)return pf;var t=[];t.push(new df("bucket")),t.push(new df("generation")),t.push(new df("metageneration")),t.push(new df("name","fullPath",!0));var e=new df("name");e.xform=function(t,e){return function(t){return!Wg(t)||t.length<2?t:hf(t)}(e)},t.push(e);var n=new df("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new df("timeCreated")),t.push(new df("updated")),t.push(new df("md5Hash",null,!0)),t.push(new df("cacheControl",null,!0)),t.push(new df("contentDisposition",null,!0)),t.push(new df("contentEncoding",null,!0)),t.push(new df("contentLanguage",null,!0)),t.push(new df("contentType",null,!0)),t.push(new df("metadata","customMetadata",!0)),pf=t}function ff(t,e,n){var i=lf(e);return null===i?null:function(t,e,n){for(var i={type:"file"},r=n.length,o=0;o<r;o++){var s=n[o];i[s.local]=s.xform(i,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Qg(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(i,t),i}(t,i,n)}function _f(t,e){for(var n={},i=e.length,r=0;r<i;r++){var o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var mf=function(){return function(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function yf(t){if(!t)throw Eg()}function vf(t,e){return function(n,i){var r=ff(t,i,e);return yf(null!==r),r}}function Cf(t){return function(e,n){var i;return(i=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new Tg("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Tg("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Tg("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Tg("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,i}}function bf(t){var e=Cf(t);return function(n,i){var r=e(n,i);return 404===n.getStatus()&&(r=new Tg("object-not-found","Object '"+t.path+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function xf(t,e,n){var i=ef(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new mf(i,"GET",vf(t,n),r);return o.errorHandler=bf(e),o}function Pf(t,e,n){var i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}var Of=function(){return function(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}}();function Mf(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){yf(!1)}return yf(!!n&&-1!==(e||["active"]).indexOf(n)),n}var wf=262144,kf=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}}();function Tf(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var Sf=function(){function t(t,e,n){var i=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=gf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){i._request=void 0,i._chunkMultiplier=1,t._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=t,i._transition("error"))},this._metadataErrorHandler=function(t){i._request=void 0,t._codeEquals("canceled")?i.completeTransitions_():(i._error=t,i._transition("error"))},this._promise=new Promise(function(t,e){i._resolve=t,i._reject=e,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var i=n[0],r=n[1];switch(e._state){case"running":t(i,r);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var i=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),s=Pf(e,i,r),a={name:s.fullPath},c=ef(o,t.host),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=_f(s,n),u=new mf(c,"POST",function(t){var e;Mf(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){yf(!1)}return yf(Wg(e)),e},t.maxUploadRetryTime);return u.urlParams=a,u.headers=l,u.body=h,u.errorHandler=Cf(e),u}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(i,e,n);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,i){var r=function(t,e,n,i){var r=new mf(n,"POST",function(t){var e=Mf(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){yf(!1)}n||yf(!1);var r=Number(n);return yf(!isNaN(r)),new Of(r,i.size(),"final"===e)},t.maxUploadRetryTime);return r.headers={"X-Goog-Upload-Command":"query"},r.errorHandler=Cf(e),r}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(r,n,i);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=wf*this._chunkMultiplier,n=new Of(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(r,o){var s;try{s=function(t,e,n,i,r,o,s,a){var c=new Of(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw new Tg("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,h=l;r>0&&(h=Math.min(h,r));var u=c.current,d={"X-Goog-Upload-Command":h===l?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},p=i.slice(u,u+h);if(null===p)throw Ig();var g=new mf(n,"POST",function(t,n){var r,s=Mf(t,["active","final"]),a=c.current+h,l=i.size();return r="final"===s?vf(e,o)(t,n):null,new Of(a,l,"final"===s,r)},e.maxUploadRetryTime);return g.headers=d,g.body=p.uploadData(),g.progressCallback=a||null,g.errorHandler=Cf(t),g}(t._ref._location,t._ref.storage,i,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(c){return t._error=c,void t._transition("error")}var a=t._ref.storage._makeRequest(s,r,o);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){wf*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var i=xf(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(i,e,n);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var i=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var c=Pf(e,i,r),l=_f(c,n),h=cf.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+a+"--");if(null===h)throw Ig();var u={name:c.fullPath},d=ef(o,t.host),p=t.maxUploadRetryTime,g=new mf(d,"POST",vf(t,n),p);return g.urlParams=u,g.headers=s,g.body=h.uploadData(),g.errorHandler=Cf(e),g}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(i,e,n);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Ag(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Hg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,i){var r=this,o=new kf(e,n,i);return this._addObserver(o),function(){r._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Hg(this._state)){case Vg.SUCCESS:Tf(this._resolve.bind(null,this.snapshot))();break;case Vg.CANCELED:case Vg.ERROR:Tf(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Hg(this._state)){case Vg.RUNNING:case Vg.PAUSED:t.next&&Tf(t.next.bind(t,this.snapshot))();break;case Vg.SUCCESS:t.complete&&Tf(t.complete.bind(t))();break;case Vg.CANCELED:case Vg.ERROR:t.error&&Tf(t.error.bind(t,this._error))();break;default:t.error&&Tf(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Ef=function(){function t(t,e){this._service=t,this._location=e instanceof Qg?e:Qg.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Qg(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return hf(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Qg(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Ng(t)},t}();function Af(t){var e={prefixes:[],items:[]};return If(t,e).then(function(){return e})}function If(t,e,n){return(0,Og.mG)(this,void 0,void 0,function(){var i,r,o;return(0,Og.Jh)(this,function(s){switch(s.label){case 0:return[4,Df(t,{pageToken:n})];case 1:return i=s.sent(),(r=e.prefixes).push.apply(r,i.prefixes),(o=e.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,If(t,e,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Df(t,e){return(0,Og.mG)(this,void 0,void 0,function(){var n,i;return(0,Og.Jh)(this,function(r){switch(r.label){case 0:return null!=e&&"number"==typeof e.maxResults&&tf("options.maxResults",1,1e3,e.maxResults),i=function(t,e,n,i,r){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);var s=ef(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,c=new mf(s,"GET",function(t,e){return function(n,i){var r=function(t,e,n){var i=lf(n);return null===i?null:function(t,e,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var r=0,o=n.prefixes;r<o.length;r++){var s=o[r].replace(/\/$/,""),a=t._makeStorageReference(new Qg(e,s));i.prefixes.push(a)}if(n.items)for(var c=0,l=n.items;c<l.length;c++)a=t._makeStorageReference(new Qg(e,l[c].name)),i.items.push(a);return i}(t,e,i)}(t,e,i);return yf(null!==r),r}}(t,e.bucket),a);return c.urlParams=o,c.errorHandler=Cf(e),c}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(i)];case 1:return[2,r.sent().getPromise()]}})})}function Ff(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),i=new Qg(t._location.bucket,n);return new Ef(t.storage,i)}function Nf(t){return/^[A-Za-z]+:\/\//.test(t)}function Lf(t,e){if(t instanceof qf){var n=t;if(null==n._bucket)throw new Tg("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new Ef(n,n._bucket);return null!=e?Lf(i,e):i}if(void 0!==e){if(e.includes(".."))throw Dg('`path` param cannot contain ".."');return Ff(t,e)}return t}function Zf(t,e){if(e&&Nf(e)){if(t instanceof qf)return new Ef(t,e);throw Dg("To use ref(service, url), the first argument must be a Storage instance.")}return Lf(t,e)}function Rf(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:Qg.makeFromBucketSpec(n,t)}var qf=function(){function t(t,e,n,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=kg,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Qg.makeFromBucketSpec(r,this._host):Rf(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?Qg.makeFromBucketSpec(this._url,t):Rf(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){tf("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){tf("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,Og.mG)(this,void 0,void 0,function(){var t,e;return(0,Og.Jh)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return(0,Og.mG)(this,void 0,void 0,function(){var t;return(0,Og.Jh)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new Ef(this,t)},t.prototype._makeRequest=function(t,e,n){var i=this;if(this._deleted)return new $g(Fg());var r=function(t,e,n,i,r,o){var s=nf(t.urlParams),a=t.url+s,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,i),new rf(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return i._requests.delete(r)},function(){return i._requests.delete(r)}),r},t.prototype.makeRequestWithTokens=function(t){return(0,Og.mG)(this,void 0,void 0,function(){var e;return(0,Og.Jh)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function Uf(t,e){return Zf(t=(0,Mg.m9)(t),e)}var Bf,jf,zf=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Vf=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new zf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new zf(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,i){var r=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new zf(t,r,r._ref))}:{next:e.next?function(t){return e.next(new zf(t,r,r._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,i||void 0)},t}(),Hf=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Gf(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Gf(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Gf=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Ff(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Vf(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Sf(t,new cf(e),n)}(t=(0,Mg.m9)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Rg.RAW),this._throwIfRoot("putString");var i=Ug(e,t),r=(0,Og.pi)({},n);return null==r.contentType&&null!=i.contentType&&(r.contentType=i.contentType),new Vf(new Sf(this._delegate,new cf(i.data,!0),r),this)},t.prototype.listAll=function(){var t=this;return function(t){return Af(t=(0,Mg.m9)(t))}(this._delegate).then(function(e){return new Hf(e,t.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return Df(t=(0,Mg.m9)(t),e)}(this._delegate,t||void 0).then(function(t){return new Hf(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return function(t){return(0,Og.mG)(this,void 0,void 0,function(){var e;return(0,Og.Jh)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=xf(t.storage,t._location,gf()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,Mg.m9)(t))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return(0,Og.mG)(this,void 0,void 0,function(){var n;return(0,Og.Jh)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,i){var r=ef(e.fullServerUrl(),t.host),o=_f(n,i),s=t.maxOperationRetryTime,a=new mf(r,"PATCH",vf(t,i),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=bf(e),a}(t.storage,t._location,e,gf()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}(t=(0,Mg.m9)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return function(t){return(0,Og.mG)(this,void 0,void 0,function(){var e;return(0,Og.Jh)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var i=ef(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new mf(i,"GET",function(t,e){return function(n,i){var r=ff(t,i,e);return yf(null!==r),function(t,e,n){var i=lf(e);if(null===i)return null;if(!Wg(i.downloadTokens))return null;var r=i.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map(function(e){var i=t.fullPath;return ef("/b/"+o(t.bucket)+"/o/"+o(i),n)+nf({alt:"media",token:e})})[0]}(r,i,t.host)}}(t,n),r);return o.errorHandler=bf(e),o}(t.storage,t._location,gf()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new Tg("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=(0,Mg.m9)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return(0,Og.mG)(this,void 0,void 0,function(){var e;return(0,Og.Jh)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=ef(e.fullServerUrl(),t.host),i=new mf(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return i.successCodes=[200,204],i.errorHandler=bf(e),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,Mg.m9)(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Ng(t)},t}(),Yf=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Nf(t))throw Dg("ref() expected a child path but got a URL, use refFromURL instead.");return new Gf(Uf(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Nf(t))throw Dg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qg.makeFromUrl(t,this._delegate.host)}catch(e){throw Dg("refFromUrl() expected a valid full URL but got an invalid one.")}return new Gf(Uf(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function Jf(t){const e=function(t){return new ae.y(e=>{const n=t=>e.next(t);n(t.snapshot);const i=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},i=>{n(t.snapshot),(t=>{e.error(t)})(i)}),function(){i()}}).pipe(Ks(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,It.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Qf(t,e,n){return{getDownloadURL:()=>(0,Et.of)(void 0).pipe((0,Nt.QV)(e.outsideAngular),Ce(()=>t.getDownloadURL()),n),getMetadata:()=>(0,Et.of)(void 0).pipe((0,Nt.QV)(e.outsideAngular),Ce(()=>t.getMetadata()),n),delete:()=>(0,St.D)(t.delete()),child:i=>Qf(t.child(i),e,n),updateMetadata:e=>(0,St.D)(t.updateMetadata(e)),put:(e,n)=>Jf(t.put(e,n)),putString:(e,n,i)=>Jf(t.putString(e,n,i)),listAll:()=>(0,St.D)(t.listAll())}}jf={TaskState:Vg,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Rg,Storage:qf,Reference:Gf},(Bf=Pg.Z).INTERNAL.registerComponent(new wg.wA("storage",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Yf(i,new qf(i,r,o,new Jg,n,Pg.Z.SDK_VERSION))},"PUBLIC").setServiceProps(jf).setMultipleInstances(!0)),Bf.registerVersion("@firebase/storage","0.5.2");const $f=new i.OlP("angularfire2.storageBucket"),Wf=new i.OlP("angularfire2.storage.maxUploadRetryTime"),Kf=new i.OlP("angularfire2.storage.maxOperationRetryTime");let Xf=(()=>{class t{constructor(t,e,n,i,r,o,s){this.schedulers=new po.HU(r),this.keepUnstableUntilFirst=(0,po.ss)(this.schedulers);const a=(0,po.on)(t,r,e);this.storage=(0,po.sI)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=r.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return Qf(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return Qf(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return Qf(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(po.Dh),i.LFG(po.xv,8),i.LFG($f,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Wf,8),i.LFG(Kf,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(po.Dh),i.LFG(po.xv,8),i.LFG($f,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Wf,8),i.LFG(Kf,8))},token:t,providedIn:"any"}),t})(),t_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),e_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Xf],imports:[t_]}),t})();const n_=["recaptcha"];function i_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",64),i.TgZ(1,"div",11),i.TgZ(2,"main",65),i.NdJ("animationCreated",function(e){return i.CHM(t),i.oxw().notification_login_page.animationCreated(e)}),i.qZA(),i.TgZ(3,"p",66),i._uU(4),i.qZA(),i.TgZ(5,"p",55),i._uU(6),i.qZA(),i.TgZ(7,"button",67),i.NdJ("click",function(){return i.CHM(t),i.oxw().notification_login_page.hidden()}),i._UZ(8,"i",68),i.TgZ(9,"p"),i._uU(10,"Ti\u1ebfp t\u1ee5c"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(2),i.Q6J("options",t.notification_login_page.options),i.xp6(2),i.Oqu(t.notification_login_page.title),i.xp6(2),i.Oqu(t.notification_login_page.child)}}function r_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",69),i.TgZ(1,"main",65),i.NdJ("animationCreated",function(e){return i.CHM(t),i.oxw().animationCreated(e)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("options",t.options)}}let o_=(()=>{class t{constructor(t,e,n,i,r,o){this.router=t,this.login_service=e,this.register_account_service=n,this.storage=i,this.db=r,this.notification_login_page=o,this.options={path:"/assets/json/lottie/loading.json"}}addRecaptchaScript(){var t,e,n,i;window.grecaptchaCallback=()=>{this.renderReCaptcha()},e="recaptcha-jssdk",i=(t=document).getElementsByTagName("script")[0],t.getElementById(e)?this.renderReCaptcha():((n=t.createElement("script")).id=e,n.src="https://www.google.com/recaptcha/api.js?onload=grecaptchaCallback&render=explicit",i.parentNode.insertBefore(n,i))}renderReCaptcha(){window.grecaptcha.render(this.recaptchaElement.nativeElement,{sitekey:"6LdT1D0aAAAAAHDZf574nzU5pDf_Reb25rV6SIqY",callback:t=>{this.isCheckRecapcha=!0,document.getElementById("dn-error-3").style.display="none"},"expired-callback":t=>{this.isCheckRecapcha=!1,document.getElementById("dn-error-3").innerText="M\xe3 x\xe1c minh \u0111\xe3 h\u1ebft h\u1ea1n, vui l\xf2ng x\xe1c minh l\u1ea1i",document.getElementById("dn-error-3").style.display="block"}})}animationCreated(t){}ngOnInit(){this.isCheckRecapcha=!1,this.addRecaptchaScript(),document.getElementById("hinh2").style.opacity="0",document.getElementById("hinh3").style.opacity="0",document.getElementById("hinh4").style.opacity="0",document.getElementById("hinh5").style.opacity="0",this.countSlide=0,this.isLoading=!1,this.isRunningSlide=!0,this.userName="",this.passWord="",this.login_service.isLogin()&&this.router.navigate(["/bessenger"]),this.setDelay(1e4)}dangNhap(){let t=this.userName.trim(),e=this.passWord,n=0;0==t.length&&(n++,document.getElementById("dn-email").style.border="1px solid #ff7b5c",document.getElementById("dn-error-1").style.display="block",document.getElementById("dn-error-1").innerText="Email kh\xf4ng th\u1ec3 thi\u1ebfu"),0==e.length&&(n++,document.getElementById("dn-mat-khau").style.border="1px solid #ff7b5c",document.getElementById("dn-error-2").style.display="block",document.getElementById("dn-error-2").innerText="M\u1eadt kh\u1ea9u kh\xf4ng th\u1ec3 thi\u1ebfu"),this.isCheckRecapcha||(n++,document.getElementById("dn-error-3").style.display="block",document.getElementById("dn-error-3").innerText="B\u1ea1n l\xe0 Robot \u01b0?"),0==n&&(this.isLoading=!0,this.login_service.checkEmail(t).subscribe(t=>{0==t.length?(document.getElementById("dn-email").style.border="1px solid #ff7b5c",document.getElementById("dn-error-1").style.display="block",document.getElementById("dn-error-1").innerText="Email ch\u01b0a \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n Bessenger",this.isLoading=!1):"chua"==t[0].trang_thai_kich_hoat?(document.getElementById("dn-email").style.border="1px solid #ff7b5c",document.getElementById("dn-error-1").style.display="block",document.getElementById("dn-error-1").innerText="T\xe0i kho\u1ea3n ch\u01b0a \u0111\u01b0\u1ee3c kich ho\u1ea1t, vui l\xf2ng ch\u1ecdn Qu\xean M\u1eadt Kh\u1ea9u \u0111\u1ec3 k\xedch ho\u1ea1t t\xe0i kho\u1ea3n",this.isLoading=!1):e!=t[0].mat_khau?(document.getElementById("dn-email").style.border="1px solid #e2e2e2",document.getElementById("dn-error-1").style.display="none",document.getElementById("dn-mat-khau").style.border="1px solid #ff7b5c",document.getElementById("dn-error-2").style.display="block",document.getElementById("dn-error-2").innerText="M\u1eadt kh\u1ea9u kh\xf4ng ch\xednh x\xe1c",this.isLoading=!1):(document.getElementById("dn-email").style.border="1px solid #e2e2e2",document.getElementById("dn-error-1").style.display="none",document.getElementById("dn-mat-khau").style.border="1px solid #e2e2e2",document.getElementById("dn-error-2").style.display="none",this.login_service.login(t[0].ma_tai_khoan),this.isRunningSlide=!1,this.isLoading=!1,this.router.navigate(["/bessenger"]))}))}dangKyTaoKhoanChuyenComponent(){document.getElementById("dang-nhap").style.display="none",document.getElementById("dang-ky-2").style.display="none",document.getElementById("dang-ky").style.display="block",document.getElementById("dang-nhap-2").style.display="flex",this.reset()}dangNhapChuyenComponent(){document.getElementById("dang-nhap").style.display="block",document.getElementById("dang-ky-2").style.display="flex",document.getElementById("dang-ky").style.display="none",document.getElementById("dang-nhap-2").style.display="none",this.reset()}reset(){this.userName="",this.passWord="",this.ten="";let t=document.getElementById("level-password").children;t[3].textContent="H\xe3y nh\u1eadp m\u1eadt kh\u1ea9u",t[3].style.color="#e2e2e2",t[0].style.background="#e2e2e2",t[1].style.background="#e2e2e2",t[2].style.background="#e2e2e2",document.getElementById("dk-email").style.border="1px solid #e2e2e2",document.getElementById("dk-error-1").style.display="none",document.getElementById("dk-ten").style.border="1px solid #e2e2e2",document.getElementById("dk-error-2").style.display="none",document.getElementById("dk-password").style.border="1px solid #e2e2e2",document.getElementById("dk-error-3").style.display="none"}hiddenAndShowPassword(t,e){"text"==t.type?(t.type="password",e.classList.remove("fa-eye-slash"),e.classList.add("fa-eye")):(t.type="text",e.classList.add("fa-eye-slash"),e.classList.remove("fa-eye"))}dkTen(t){t.trim().length>0?(document.getElementById("dk-ten").style.border="1px solid #e2e2e2",document.getElementById("dk-error-2").style.display="none"):(document.getElementById("dk-ten").style.border="1px solid #ff7b5c",document.getElementById("dk-error-2").style.display="block")}dkEmail(t){t.trim().length>0?(document.getElementById("dk-email").style.border="1px solid #e2e2e2",document.getElementById("dk-error-1").style.display="none"):(document.getElementById("dk-email").style.border="1px solid #ff7b5c",document.getElementById("dk-error-1").style.display="block",document.getElementById("dk-error-1").innerText="Email kh\xf4ng th\u1ec3 thi\u1ebfu")}dnEmail(t){t.trim().length>0?(document.getElementById("dn-email").style.border="1px solid #e2e2e2",document.getElementById("dn-error-1").style.display="none"):(document.getElementById("dn-email").style.border="1px solid #ff7b5c",document.getElementById("dn-error-1").style.display="block",document.getElementById("dn-error-1").innerText="Email kh\xf4ng th\u1ec3 thi\u1ebfu")}dnPassword(t){t.trim().length>0?(document.getElementById("dn-mat-khau").style.border="1px solid #e2e2e2",document.getElementById("dn-error-2").style.display="none"):(document.getElementById("dn-mat-khau").style.border="1px solid #ff7b5c",document.getElementById("dn-error-2").style.display="block",document.getElementById("dn-error-2").innerText="M\u1eadt kh\u1ea9u kh\xf4ng th\u1ec3 thi\u1ebfu")}hiddenQMK(){this.email_quen_mat_khau="",document.getElementById("qmk-email").style.border="1px solid #e2e2e2",document.getElementById("qmk-error").style.display="none",document.getElementById("quen-mat-khau").style.display="none"}requestQMK(){if(null==this.email_quen_mat_khau)document.getElementById("qmk-email").style.border="1px solid #ff7b5c",document.getElementById("qmk-error").style.display="block",document.getElementById("qmk-error").innerText="Email kh\xf4ng th\u1ec3 thi\u1ebfu";else{let t=this.email_quen_mat_khau.trim();0==t.length?(document.getElementById("qmk-email").style.border="1px solid #ff7b5c",document.getElementById("qmk-error").style.display="block",document.getElementById("qmk-error").innerText="Email kh\xf4ng th\u1ec3 thi\u1ebfu"):(this.isLoading=!0,this.register_account_service.checkEmail(t).subscribe(e=>{if(0==e.length)document.getElementById("qmk-email").style.border="1px solid #ff7b5c",document.getElementById("qmk-error").style.display="block",document.getElementById("qmk-error").innerText="Email b\u1ea1n nh\u1eadp ch\u01b0a \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n Bessenger",this.isLoading=!1;else{localStorage.setItem("ma_tai_khoan_qmk",JSON.stringify(e[0].ma_tai_khoan));let n="";for(let t=0;t<6;t++)n+=Math.floor(10*Math.random())+0+"";let i=new ag;i.code=n,i.email=t,this.register_account_service.updateEmail(n).subscribe(t=>{this.register_account_service.sendMailQMK(i).subscribe(t=>{this.isLoading=!1,this.router.navigate(["quen-mat-khau"])})})}}))}}qMK(){document.getElementById("quen-mat-khau").style.display="flex"}quenMatKhauEmail(t){t.trim().length>0?(document.getElementById("qmk-email").style.border="1px solid #e2e2e2",document.getElementById("qmk-error").style.display="none"):(document.getElementById("qmk-email").style.border="1px solid #ff7b5c",document.getElementById("qmk-error").style.display="block",document.getElementById("qmk-error").innerText="Email kh\xf4ng th\u1ec3 thi\u1ebfu")}dangKy(){let t=this.userName.trim(),e=this.ten.trim(),n=this.passWord,i=0;if(0==t.length&&(i++,document.getElementById("dk-email").style.border="1px solid #ff7b5c",document.getElementById("dk-error-1").style.display="block",document.getElementById("dk-error-1").innerText="Email kh\xf4ng th\u1ec3 thi\u1ebfu"),0==e.length&&(i++,document.getElementById("dk-ten").style.border="1px solid #ff7b5c",document.getElementById("dk-error-2").style.display="block"),0==n.length&&(i++,document.getElementById("dk-password").style.border="1px solid #ff7b5c",document.getElementById("dk-error-3").style.display="block"),0==i){this.isLoading=!0;let i="";for(let t=0;t<6;t++){let t=Math.floor(10*Math.random())+0;i+=t+""}let r=new ag;r.code=i,r.email=t,this.register_account_service.checkEmail(t).subscribe(o=>{if(0!=o.length)document.getElementById("dk-email").style.border="1px solid #ff7b5c",document.getElementById("dk-error-1").style.display="block",document.getElementById("dk-error-1").innerText="Email \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u0103ng k\xfd, b\u1ea1n c\xf3 th\u1ec3 ch\u1ecdn qu\xean m\u1eadt kh\u1ea9u \u0111\u1ec3 l\u1ea5y l\u1ea1i m\u1eadt kh\u1ea9u",this.isLoading=!1;else{this.register_account_service.insertNewAccountToFirebase(e,t,n,i);let o=JSON.parse(localStorage.getItem("ma_tai_khoan"));this.register_account_service.themDuLieuTaiKhoanMoiWebservice(e,t,n,i,o).subscribe(t=>{this.register_account_service.taiHinhMacDinhChoTaiKhoan("nam").subscribe(t=>{let e=new File([t],o+".png",{type:t.type}),n="/tai_khoan/"+o+".png";const i=this.storage.ref(n),s=this.storage.upload(n,e);s.snapshotChanges().pipe(Ke(()=>{i.getDownloadURL().subscribe(t=>{this.db.object("/tai_khoan/"+o).update({hinh:n,link_hinh:t,gioi_tinh:"Nam"})})})).subscribe(),s.percentageChanges().subscribe(t=>{console.log("Ti\u1ebfn \u0111\u1ed9 t\u1ea3i h\xecnh gi\u1edbi t\xednh: "+t),100==t&&this.register_account_service.sendMail(r).subscribe(t=>{this.isLoading=!1,this.router.navigate(["dang-ky"])})})})})}})}}setDelay(t){setTimeout(()=>{this.countSlide++;let e=`hinh${this.countSlide}`,n=`hinh${this.countSlide+1}`;5==this.countSlide&&(n="hinh1",this.countSlide=0);let i=document.getElementById(e);null!=i&&(i.style.opacity="0");let r=document.getElementById(n);null!=r&&(r.style.opacity="1");let o=document.getElementById("child");null!=o&&(o.style.left=80*this.countSlide+"px");let s=document.getElementById("content_child");null!=s&&(s.innerText=`0${this.countSlide+1}`),this.isRunningSlide&&this.setDelay(t)},t)}changePassword(t){let e=0,n=!1,i=!1;for(;e<=t.length;){let n=t.charAt(e);n==n.toUpperCase()&&isNaN(n)&&(i=!0),e++}n=this.hasNumber(t);let r=document.getElementById("level-password").children;!n&&!i&&t.length>0?(r[3].textContent="Y\u1ebfu",r[3].style.color="#ff7b5c",r[0].style.background="#ff7b5c",r[1].style.background="#e2e2e2",r[2].style.background="#e2e2e2",document.getElementById("dk-password").style.border="1px solid #e2e2e2",document.getElementById("dk-error-3").style.display="none"):!n&&i||!i&&n?(r[3].textContent="Trung b\xecnh",r[3].style.color="yellow",r[0].style.background="yellow",r[1].style.background="yellow",r[2].style.background="#e2e2e2",document.getElementById("dk-password").style.border="1px solid #e2e2e2",document.getElementById("dk-error-3").style.display="none"):n&&i?(r[3].textContent="M\u1ea1nh",r[3].style.color="#20e820",r[0].style.background="#20e820",r[1].style.background="#20e820",r[2].style.background="#20e820",document.getElementById("dk-password").style.border="1px solid #e2e2e2",document.getElementById("dk-error-3").style.display="none"):(r[3].textContent="H\xe3y nh\u1eadp m\u1eadt kh\u1ea9u",r[3].style.color="#e2e2e2",r[0].style.background="#e2e2e2",r[1].style.background="#e2e2e2",r[2].style.background="#e2e2e2",document.getElementById("dk-password").style.border="1px solid #ff7b5c",document.getElementById("dk-error-3").style.display="block")}hasNumber(t){return/\d/.test(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ar),i.Y36(bg),i.Y36(xg),i.Y36(Xf),i.Y36(Uo),i.Y36(og))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-login-page"]],viewQuery:function(t,e){if(1&t&&i.Gf(n_,7),2&t){let t;i.iGM(t=i.CRH())&&(e.recaptchaElement=t.first)}},decls:130,vars:8,consts:[["class","notification",4,"ngIf"],["class","loading",4,"ngIf"],[1,"container"],[1,"left"],["id","hinh1","src","assets/images/login-page/background1.jpg","alt","",1,"img"],["id","hinh2","src","assets/images/login-page/background2.jpg","alt","",1,"img"],["id","hinh3","src","assets/images/login-page/background3.jpg","alt","",1,"img"],["id","hinh4","src","assets/images/login-page/background4.jpg","alt","",1,"img"],["id","hinh5","src","assets/images/login-page/background5.jpg","alt","",1,"img"],[1,"left_header"],["src","assets/images/icon.ico","alt",""],[1,"content"],["id","dang-ky-2",1,"login",3,"click"],["id","dang-nhap-2",1,"login",2,"display","none",3,"click"],[1,"bar"],["id","child",1,"child"],[1,"content_child"],["id","content_child"],[1,"right"],[1,"right_header"],["id","dang-nhap",1,"dang-nhap"],[1,"right_header2"],["id","dn-email",1,"input_data"],[1,"far","fa-paper-plane"],["type","text","placeholder","T\xe0i kho\u1ea3n",3,"ngModel","ngModelChange"],["id","dn-error-1",1,"error"],["id","dn-mat-khau",1,"input_data"],[1,"fab","fa-keycdn"],["type","password","placeholder","M\u1eadt kh\u1ea9u",3,"ngModel","ngModelChange"],["password",""],[1,"far","fa-eye","eye",3,"click"],["eye",""],["id","dn-error-2",1,"error"],[1,"re-capcha"],[1,"card-body"],["recaptcha",""],["id","dn-error-3",1,"error"],[1,"login",3,"click"],[1,"line"],[1,"more"],[3,"click"],[1,"terms"],["id","dang-ky",1,"dang-ky"],["id","dk-email",1,"input_data"],["type","text","placeholder","Email",3,"ngModel","ngModelChange"],["id","dk-error-1",1,"error"],["id","dk-ten",1,"input_data"],[1,"fas","fa-signature"],["type","text","placeholder","T\xean c\u1ee7a b\u1ea1n",3,"ngModel","ngModelChange"],["id","dk-error-2",1,"error"],["id","dk-password",1,"input_data"],["password2",""],["eye2",""],["id","dk-error-3",1,"error"],["id","level-password",1,"level-password"],[1,"child"],[1,"bao-mat"],[1,"terms",3,"click"],["id","quen-mat-khau",1,"quen-mat-khau"],["id","qmk-email",1,"input_data"],["id","qmk-error",1,"error"],[1,"buttons"],[1,"go-back",3,"click"],[1,"fas","fa-angle-left"],[1,"notification"],["lottie","",1,"anim",3,"options","animationCreated"],[1,"title"],[1,"confirm",3,"click"],[1,"fab","fa-battle-net"],[1,"loading"]],template:function(t,e){if(1&t){const t=i.EpF();i.YNc(0,i_,11,3,"div",0),i.YNc(1,r_,2,1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i._UZ(4,"img",4),i._UZ(5,"img",5),i._UZ(6,"img",6),i._UZ(7,"img",7),i._UZ(8,"img",8),i.TgZ(9,"div",9),i._UZ(10,"img",10),i.TgZ(11,"p"),i._uU(12,"Bessenger"),i.qZA(),i.qZA(),i.TgZ(13,"p",11),i._uU(14,"Bessenger gi\xfap b\u1ea1n k\u1ebft n\u1ed1i v\xe0 chia s\u1ebb v\u1edbi m\u1ecdi ng\u01b0\u1eddi trong cu\u1ed9c s\u1ed1ng c\u1ee7a b\u1ea1n."),i.qZA(),i.TgZ(15,"div",12),i.NdJ("click",function(){return e.dangKyTaoKhoanChuyenComponent()}),i.TgZ(16,"p"),i._uU(17,"\u0110\u0103ng k\xfd"),i.qZA(),i.qZA(),i.TgZ(18,"div",13),i.NdJ("click",function(){return e.dangNhapChuyenComponent()}),i.TgZ(19,"p"),i._uU(20,"\u0110\u0103ng nh\u1eadp"),i.qZA(),i.qZA(),i.TgZ(21,"div",14),i._UZ(22,"div",15),i.qZA(),i.TgZ(23,"div",16),i.TgZ(24,"p",17),i._uU(25,"01 "),i.qZA(),i.TgZ(26,"p"),i._uU(27," - 05"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(28,"div",18),i.TgZ(29,"div",19),i._UZ(30,"img",10),i.TgZ(31,"p"),i._uU(32,"Bessenger"),i.qZA(),i.qZA(),i.TgZ(33,"div",20),i.TgZ(34,"div",21),i.TgZ(35,"p"),i._uU(36,"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n"),i.qZA(),i.qZA(),i.TgZ(37,"div",22),i._UZ(38,"i",23),i.TgZ(39,"input",24),i.NdJ("ngModelChange",function(t){return e.userName=t})("ngModelChange",function(t){return e.dnEmail(t)}),i.qZA(),i.qZA(),i.TgZ(40,"p",25),i._uU(41,"Email kh\xf4ng th\u1ec3 thi\u1ebfu"),i.qZA(),i.TgZ(42,"div",26),i._UZ(43,"i",27),i.TgZ(44,"input",28,29),i.NdJ("ngModelChange",function(t){return e.passWord=t})("ngModelChange",function(t){return e.dnPassword(t)}),i.qZA(),i.TgZ(46,"i",30,31),i.NdJ("click",function(){i.CHM(t);const n=i.MAs(45),r=i.MAs(47);return e.hiddenAndShowPassword(n,r)}),i.qZA(),i.qZA(),i.TgZ(48,"p",32),i._uU(49,"M\u1eadt kh\u1ea9u kh\xf4ng th\u1ec3 thi\u1ebfu"),i.qZA(),i.TgZ(50,"div",33),i.TgZ(51,"div",34),i._UZ(52,"div",null,35),i.qZA(),i.qZA(),i.TgZ(54,"p",36),i._uU(55,"B\u1ea1n l\xe0 Robot \u01b0 ?"),i.qZA(),i.TgZ(56,"div",37),i.NdJ("click",function(){return e.dangNhap()}),i.TgZ(57,"p"),i._uU(58,"\u0110\u0103ng nh\u1eadp"),i.qZA(),i.qZA(),i._UZ(59,"div",38),i.TgZ(60,"div",39),i.TgZ(61,"p",40),i.NdJ("click",function(){return e.dangKyTaoKhoanChuyenComponent()}),i._uU(62,"\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n m\u1edbi?"),i.qZA(),i.TgZ(63,"p",40),i.NdJ("click",function(){return e.qMK()}),i._uU(64,"Qu\xean m\u1eb7t kh\u1ea9u?"),i.qZA(),i.qZA(),i.TgZ(65,"div",41),i.TgZ(66,"p"),i._uU(67,"Ch\xednh s\xe1ch b\u1ea3o m\u1eadt"),i.qZA(),i.TgZ(68,"p"),i._uU(69,"\u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(70,"div",42),i.TgZ(71,"div",21),i.TgZ(72,"p"),i._uU(73,"\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n"),i.qZA(),i.qZA(),i.TgZ(74,"div",43),i._UZ(75,"i",23),i.TgZ(76,"input",44),i.NdJ("ngModelChange",function(t){return e.userName=t})("ngModelChange",function(t){return e.dkEmail(t)}),i.qZA(),i.qZA(),i.TgZ(77,"p",45),i._uU(78,"Email kh\xf4ng th\u1ec3 thi\u1ebfu"),i.qZA(),i.TgZ(79,"div",46),i._UZ(80,"i",47),i.TgZ(81,"input",48),i.NdJ("ngModelChange",function(t){return e.ten=t})("ngModelChange",function(t){return e.dkTen(t)}),i.qZA(),i.qZA(),i.TgZ(82,"p",49),i._uU(83,"T\xean kh\xf4ng th\u1ec3 thi\u1ebfu"),i.qZA(),i.TgZ(84,"div",50),i._UZ(85,"i",27),i.TgZ(86,"input",28,51),i.NdJ("ngModelChange",function(t){return e.passWord=t})("ngModelChange",function(t){return e.changePassword(t)}),i.qZA(),i.TgZ(88,"i",30,52),i.NdJ("click",function(){i.CHM(t);const n=i.MAs(87),r=i.MAs(89);return e.hiddenAndShowPassword(n,r)}),i.qZA(),i.qZA(),i.TgZ(90,"p",53),i._uU(91,"M\u1eadt kh\u1ea9u kh\xf4ng th\u1ec3 thi\u1ebfu"),i.qZA(),i.TgZ(92,"div",54),i._UZ(93,"div",55),i._UZ(94,"div",55),i._UZ(95,"div",55),i.TgZ(96,"p"),i._uU(97,"H\xe3y nh\u1eadp m\u1eadt kh\u1ea9u"),i.qZA(),i.qZA(),i.TgZ(98,"p",56),i._uU(99,"B\u1eb1ng c\xe1ch \u0111\u0103ng k\xfd, b\u1ea1n x\xe1c nh\u1eadn r\u1eb1ng \u0111\xe3 \u0111\u1ecdc v\xe0 ch\u1ea5p thu\u1eadt "),i.TgZ(100,"span"),i._uU(101,"Th\xf4ng B\xe1o Ng\u01b0\u1eddi D\xf9ng"),i.qZA(),i._uU(102," v\xe0 "),i.TgZ(103,"span"),i._uU(104,"Ch\xednh S\xe1ch B\u1ea3o M\u1eadt"),i.qZA(),i._uU(105," c\u1ee7a ch\xfang t\xf4i "),i.qZA(),i.TgZ(106,"div",37),i.NdJ("click",function(){return e.dangKy()}),i.TgZ(107,"p"),i._uU(108,"\u0110\u0103ng k\xfd"),i.qZA(),i.qZA(),i.TgZ(109,"div",57),i.NdJ("click",function(){return e.dangNhapChuyenComponent()}),i.TgZ(110,"p"),i._uU(111,"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n? \u0110\u0103ng nh\u1eadp"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(112,"div",58),i.TgZ(113,"div",11),i.TgZ(114,"div",21),i.TgZ(115,"p"),i._uU(116,"Qu\xean m\u1eadt kh\u1ea9u"),i.qZA(),i.qZA(),i.TgZ(117,"div",59),i._UZ(118,"i",23),i.TgZ(119,"input",44),i.NdJ("ngModelChange",function(t){return e.email_quen_mat_khau=t})("ngModelChange",function(t){return e.quenMatKhauEmail(t)}),i.qZA(),i.qZA(),i.TgZ(120,"p",60),i._uU(121,"Email kh\xf4ng th\u1ec3 thi\u1ebfu"),i.qZA(),i.TgZ(122,"div",61),i.TgZ(123,"div",62),i.NdJ("click",function(){return e.hiddenQMK()}),i._UZ(124,"i",63),i.TgZ(125,"p"),i._uU(126,"Tr\u1edf l\u1ea1i"),i.qZA(),i.qZA(),i.TgZ(127,"div",37),i.NdJ("click",function(){return e.requestQMK()}),i.TgZ(128,"p"),i._uU(129,"G\u1eedi y\xeau c\u1ea7u"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}2&t&&(i.Q6J("ngIf",e.notification_login_page.isShow()),i.xp6(1),i.Q6J("ngIf",e.isLoading),i.xp6(38),i.Q6J("ngModel",e.userName),i.xp6(5),i.Q6J("ngModel",e.passWord),i.xp6(32),i.Q6J("ngModel",e.userName),i.xp6(5),i.Q6J("ngModel",e.ten),i.xp6(5),i.Q6J("ngModel",e.passWord),i.xp6(33),i.Q6J("ngModel",e.email_quen_mat_khau))},directives:[D,Yh,cu,ku,Qt,Kt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.quen-mat-khau[_ngcontent-%COMP%]{display:none;width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:99;justify-content:center;align-items:center;top:0;left:0}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:600px;height:400px;display:flex;background-color:#fff;flex-direction:column;align-items:center;border-radius:10px;box-shadow:0 0 15px 2px #a7575782}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right_header2[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;margin-top:90px;justify-content:center}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right_header2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .right_header2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#23262e;font-size:24px;margin-left:10px;font-weight:700;font-family:Raleway}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]{display:flex;align-items:center;width:326px;height:40px;border:1px solid #e2e2e2;border-radius:10px;margin-left:auto;margin-right:auto;margin-top:50px}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#23262e;margin-left:15px}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]{margin-left:0;cursor:pointer}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:247px;margin-left:15px;outline:none;color:#23262e;border:none}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:red}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{width:326px;height:40px;display:flex;justify-content:space-between;align-items:center;margin-top:20px;margin-left:auto;margin-right:auto}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{cursor:pointer;width:150px;height:40px;border-radius:5px;background-color:#4290f6;display:flex;justify-content:center;align-items:center}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:1px;font-family:Raleway;font-size:15px;color:#fff;font-weight:600}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]{background-color:#fff;display:flex;justify-content:center;align-items:center;cursor:pointer;border-radius:5px;padding:11px 24px;border:1px solid #23262e}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;margin-left:10px;color:#23262e}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;color:#23262e}.quen-mat-khau[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{display:none;font-family:Raleway;width:326px;margin-top:20px;margin-left:auto;margin-right:auto;color:#ff7b5c;font-size:13px;font-weight:600}.notification[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;display:flex;justify-content:center;align-items:center;top:0;left:0}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:600px;height:500px;display:flex;background-color:#fff;flex-direction:column;align-items:center;border-radius:10px;box-shadow:0 0 15px 2px #a7575782}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{width:285px;margin-top:10px;height:285px}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#23262e;font-family:Raleway;line-height:21px;letter-spacing:1px;font-weight:700;font-size:20px;margin-top:20px}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{letter-spacing:1px;font-size:12px;font-weight:500;color:#888;margin-top:15px;font-family:Raleway;text-align:center}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{border:none;background-color:#ff7ca9;justify-content:center;align-items:center;margin-top:40px;margin-left:auto;margin-right:auto;display:flex;cursor:pointer;border-radius:5px;padding:12px 24px}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;margin-left:10px;color:#fff}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#fff}.loading[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;display:flex;justify-content:center;align-items:center;top:0;left:0}.loading[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{border:4px solid #da9696;border-radius:50%;background:#fff;width:300px;height:300px}.container[_ngcontent-%COMP%]{width:1244px;display:flex;flex-direction:row;height:800px;background-color:#fff;box-shadow:0 0 73px 10px #d7e2edd6;border-radius:40px;margin:50px}.left[_ngcontent-%COMP%]{border-top-left-radius:40px;border-bottom-left-radius:40px;width:62%;position:relative;height:100%;overflow:hidden}.left[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{top:0;left:0;transition:all 3s ease-in-out}.left[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%], .left_header[_ngcontent-%COMP%]{width:100%;position:absolute}.left_header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:90px;top:280px;left:50px}.left_header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px}.left_header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:22px;margin-left:10px;font-weight:700}.left[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .left_header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-family:Raleway}.left[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-weight:500;font-size:36px;width:521px;top:430px;letter-spacing:1px;left:50px;position:absolute}.left[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{cursor:pointer;width:140px;height:40px;border-radius:10px;background-color:#4290f6;display:flex;justify-content:center;align-items:center;position:absolute;left:50px;top:630px;margin-left:auto;margin-right:auto}.left[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:1px;font-family:Raleway;font-size:15px;color:#fff;font-weight:600}.left[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;top:730px;left:50px;width:400px;background-color:#e2e2e25c;border-radius:4px;height:4px;overflow:hidden}.left[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transition:all 3s ease-in-out;width:80px;height:4px;background:#fff}.left[_ngcontent-%COMP%]   .content_child[_ngcontent-%COMP%]{position:absolute;top:0;right:0;top:719px;font-size:19px;font-weight:600;left:471px;display:flex;font-family:Raleway}.left[_ngcontent-%COMP%]   .content_child[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{transition:all 2s ease-in-out;color:#fff}.left[_ngcontent-%COMP%]   .content_child[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){color:#e2e2e2}.right[_ngcontent-%COMP%]{position:relative;width:38%;overflow:hidden;border-bottom-right-radius:40px;height:100%;display:flex;flex-direction:column}.right_header[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;margin-top:90px;justify-content:center}.right_header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px}.right_header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#23262e;font-size:24px;margin-left:10px;font-weight:700;font-family:Raleway}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]{position:relative;height:100%}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .right_header2[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;margin-top:90px;margin-bottom:40px;justify-content:center}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .right_header2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#23262e;font-size:20px;margin-left:10px;font-weight:700;font-family:Raleway}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]{display:flex;align-items:center;width:326px;height:40px;border:1px solid #e2e2e2;border-radius:10px;margin-left:auto;margin-right:auto;margin-top:20px}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#23262e;margin-left:15px}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]{margin-left:0;cursor:pointer}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:247px;margin-left:15px;outline:none;color:#23262e;border:none}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:red}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{cursor:pointer;width:326px;height:40px;border-radius:10px;background-color:#4290f6;display:flex;justify-content:center;align-items:center;margin-top:20px;margin-left:auto;margin-right:auto}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:1px;font-family:Raleway;font-size:15px;color:#fff;font-weight:600}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{width:326px;margin-top:30px;display:flex;margin-left:auto;margin-right:auto;justify-content:space-between;align-items:center}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer;color:#4290f6;font-family:Raleway;font-size:14px;font-weight:600}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:1px;background-color:#e2e2e2;width:326px;margin-top:30px;margin-left:auto;margin-right:auto}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .terms[_ngcontent-%COMP%]{height:62px;position:absolute;bottom:0;left:0;width:100%;margin-top:15px;background-color:#fbfafb;display:flex;margin-left:auto;margin-right:auto;justify-content:center;align-items:center}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .terms[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;cursor:pointer;color:#4290f6;font-family:Raleway;font-size:13px;font-weight:600}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .re-capcha[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.right[_ngcontent-%COMP%]   .dang-nhap[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{display:none;font-family:Raleway;width:326px;margin-top:20px;margin-left:auto;margin-right:auto;color:#ff7b5c;font-size:13px;font-weight:600}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]{display:none;position:relative;height:100%}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .right_header2[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;margin-top:90px;margin-bottom:40px;justify-content:center}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .right_header2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#23262e;font-size:20px;margin-left:10px;font-weight:700;font-family:Raleway}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]{display:flex;align-items:center;width:326px;height:40px;border:1px solid #e2e2e2;border-radius:10px;margin-left:auto;margin-right:auto;margin-top:20px}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#23262e;margin-left:15px}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]{margin-left:0;cursor:pointer}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:247px;margin-left:15px;outline:none;color:#23262e;border:none}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:red}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{cursor:pointer;width:326px;height:40px;border-radius:10px;background-color:#4290f6;display:flex;justify-content:center;align-items:center;margin-top:20px;margin-left:auto;margin-right:auto}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:1px;font-family:Raleway;font-size:15px;color:#fff;font-weight:600}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .bao-mat[_ngcontent-%COMP%]{font-family:Raleway;width:326px;margin-top:20px;margin-left:auto;margin-right:auto;color:#a7a7a7;font-size:13px;letter-spacing:1px;line-height:23px;text-align:center}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .bao-mat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;font-weight:600;color:#4290f6}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .terms[_ngcontent-%COMP%]{height:62px;position:absolute;bottom:0;left:0;width:100%;margin-top:15px;background-color:#fbfafb;display:flex;margin-left:auto;margin-right:auto;justify-content:center;align-items:center}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .terms[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer;color:#4290f6;font-family:Raleway;font-size:13px;font-weight:600}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .level-password[_ngcontent-%COMP%]{margin-top:20px;width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .level-password[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{width:50px;height:4px;border-radius:4px;background-color:#e2e2e2;margin-left:2px;margin-right:2px}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .level-password[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:119px;margin-left:10px;cursor:pointer;color:#a7a7a7;font-family:Raleway;font-size:13px;font-weight:600}.right[_ngcontent-%COMP%]   .dang-ky[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{display:none;font-family:Raleway;width:326px;margin-top:20px;margin-left:auto;margin-right:auto;color:#ff7b5c;font-size:13px;font-weight:600}"]}),t})(),s_=(()=>{class t{constructor(t){this.db=t,this.trang_chu_duoc_chon=!1,this.tin_nhan_duoc_chon=!1,this.tin_nhan_an_duoc_chon=!1,this.ban_be_duoc_chon=!1,this.thong_tin_ca_nhan_duoc_chon=!1,this.cai_dat_duoc_chon=!1,this.updateOnline()}getImg(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));return this.db.object("/tai_khoan/"+t).snapshotChanges()}setImg(t){this.img=t.link_hinh}updateOnline(){setTimeout(()=>{let t=Number(new Date),e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));null!=e&&this.db.object("/tai_khoan/"+e).update({lan_cuoi_dang_nhap:t}),this.updateOnline()},5e3)}selectTrangChu(){this.trang_chu_duoc_chon=!0}selectPersonalPage(){this.thong_tin_ca_nhan_duoc_chon=!0}selectSettingPage(){this.cai_dat_duoc_chon=!0}selectFriendsPage(){this.ban_be_duoc_chon=!0}selectChatRequestPage(){this.tin_nhan_an_duoc_chon=!0}selectChatPage(){this.tin_nhan_duoc_chon=!0}reset(){this.trang_chu_duoc_chon=!1,this.tin_nhan_duoc_chon=!1,this.tin_nhan_an_duoc_chon=!1,this.ban_be_duoc_chon=!1,this.thong_tin_ca_nhan_duoc_chon=!1,this.cai_dat_duoc_chon=!1}isSelectHomePage(){return this.trang_chu_duoc_chon}isSelectChatPage(){return this.tin_nhan_duoc_chon}isSelectChatRequestPage(){return this.tin_nhan_an_duoc_chon}isSelectFriendsPage(){return this.ban_be_duoc_chon}isSelectPersonalPage(){return this.thong_tin_ca_nhan_duoc_chon}isSelectSettingPage(){return this.cai_dat_duoc_chon}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function a_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",24),i.TgZ(1,"p"),i._uU(2),i.qZA(),i.TgZ(3,"button",25),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw(2).clearAdded(e.ma_tai_khoan)}),i._UZ(4,"i",5),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(2),i.Oqu(t.ten)}}function c_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",26),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw(2).selectUser(e.ma_tai_khoan)}),i._UZ(1,"img",27),i.TgZ(2,"p"),i._uU(3),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(1),i.Q6J("src",t.hinh||"assets/images/loading.gif",i.LSH),i.xp6(2),i.Oqu(t.ten)}}function l_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"div",2),i.TgZ(2,"p",3),i._uU(3,"T\u1ea1o nh\xf3m chat m\u1edbi"),i.qZA(),i.TgZ(4,"div",4),i.NdJ("click",function(){return i.CHM(t),i.oxw().closeTaoNhom()}),i._UZ(5,"i",5),i.qZA(),i.TgZ(6,"div",6),i.TgZ(7,"div",7),i.TgZ(8,"div",8),i.TgZ(9,"div",9),i.TgZ(10,"p",10),i._uU(11,"T\xean nh\xf3m: "),i.qZA(),i.TgZ(12,"div",11),i.TgZ(13,"input",12),i.NdJ("ngModelChange",function(e){return i.CHM(t),i.oxw().ten_nhom=e})("ngModelChange",function(e){return i.CHM(t),i.oxw().inputTenNhom(e)}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(14,"p",13),i._uU(15,"T\xean nh\xf3m kh\xf4ng th\u1ec3 thi\u1ebfu"),i.qZA(),i.qZA(),i.TgZ(16,"div",14),i.TgZ(17,"p",10),i._uU(18,"\u0110\u1ebfn: "),i.qZA(),i.TgZ(19,"div",15),i.YNc(20,a_,5,1,"div",16),i.TgZ(21,"div",11),i.TgZ(22,"input",17),i.NdJ("ngModelChange",function(e){return i.CHM(t),i.oxw().ten_hien_tai=e})("ngModelChange",function(e){return i.CHM(t),i.oxw().inputTenHienTai(e)}),i.qZA(),i.qZA(),i.TgZ(23,"p",18),i._uU(24,"Kh\xf4ng th\u1ec3 thi\u1ebfu th\xe0nh vi\xean"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(25,"div",19),i.YNc(26,c_,4,2,"div",20),i.qZA(),i.qZA(),i.TgZ(27,"div",21),i.TgZ(28,"button",22),i.NdJ("click",function(){return i.CHM(t),i.oxw().taoNhom()}),i._UZ(29,"i",23),i.TgZ(30,"p"),i._uU(31,"T\u1ea1o nh\xf3m"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(13),i.Q6J("ngModel",t.ten_nhom),i.xp6(7),i.Q6J("ngForOf",t.chat_page_create_ground.user_added),i.xp6(2),i.Q6J("ngModel",t.ten_hien_tai),i.xp6(4),i.Q6J("ngForOf",t.chat_page_create_ground.user_search)}}let h_=(()=>{class t{constructor(t,e){this.chat_page_create_ground=t,this.router=e}ngOnInit(){this.chat_page_create_ground.getAllUser().subscribe(t=>{let e=t.payload.toJSON(),n=[];Object.entries(e).forEach(([t,e])=>{n.push(new Xd(e.ten,t,e.link_hinh))}),this.chat_page_create_ground.all_user=n})}closeTaoNhom(){setTimeout(()=>{this.chat_page_create_ground.off()},0)}taoNhom(){let t=0;null==this.ten_nhom||0==this.ten_nhom.length?(document.getElementById("tao-nhom-error-1").style.display="block",t++):document.getElementById("tao-nhom-error-1").style.display="none",this.chat_page_create_ground.isOke()?document.getElementById("tao-nhom-error-2").style.display="none":(document.getElementById("tao-nhom-error-2").style.display="block",t++),0==t&&(document.getElementById("tao-nhom-error-1").style.display="none",document.getElementById("tao-nhom-error-2").style.display="none",this.chat_page_create_ground.createGroup(this.ten_nhom),this.ten_nhom="",this.closeTaoNhom(),this.router.navigate(["bessenger/tin-nhan/danh-sach"]))}inputTenNhom(t){0==t.trim().length?document.getElementById("tao-nhom-error-1").style.display="block":document.getElementById("tao-nhom-error-1").style.display="none"}inputTenHienTai(t){this.chat_page_create_ground.fillter(t)}selectUser(t){this.chat_page_create_ground.selectUser(t),this.ten_hien_tai="",document.getElementById("tao-nhom-error-2").style.display="none"}clearAdded(t){this.chat_page_create_ground.clearAdded(t),this.chat_page_create_ground.updateSearch(this.ten_hien_tai,t),0==this.chat_page_create_ground.user_added.length&&(document.getElementById("tao-nhom-error-2").style.display="block")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(tp),i.Y36(Ar))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-create-group-chat"]],decls:1,vars:1,consts:[["class","tao-nhom-moi",4,"ngIf"],[1,"tao-nhom-moi"],[1,"content"],[1,"title"],[1,"exit",3,"click"],[1,"fas","fa-times"],[1,"main"],[1,"top"],[1,"name-group"],[1,"fill"],[1,"title_input_data"],[1,"input_data"],["type","text","placeholder","Nh\u1eadp t\xean nh\xf3m",3,"ngModel","ngModelChange"],["id","tao-nhom-error-1",1,"error"],[1,"parent-danh-sach"],[1,"danh-sach"],["class","element",4,"ngFor","ngForOf"],["type","text","placeholder","Nh\u1eadp t\xean",3,"ngModel","ngModelChange"],["id","tao-nhom-error-2",1,"error"],[1,"auto"],["class","element",3,"click",4,"ngFor","ngForOf"],[1,"end"],[1,"confirm",3,"click"],[1,"fab","fa-cloudversify"],[1,"element"],[3,"click"],[1,"element",3,"click"],["alt","",3,"src"]],template:function(t,e){1&t&&i.YNc(0,l_,32,4,"div",0),2&t&&i.Q6J("ngIf",e.chat_page_create_ground.isshow)},directives:[D,Yh,cu,ku,A],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.tao-nhom-moi[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:998;display:flex;justify-content:center;align-items:center;top:0;left:0}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background:#fff;box-shadow:17px 20px 14px 4px #dbdae4;width:500px;position:relative;border-radius:10px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#000;font-family:Raleway;font-weight:600;letter-spacing:1px;margin-top:40px;margin-left:40px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]{position:absolute;right:20px;top:34px;cursor:pointer;width:30px;height:30px;border-radius:50%;border:.5px solid #e7e7e7;display:flex;justify-content:center;align-items:center}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:5px;font-size:16px;left:8px;color:#a4afbf}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{width:100%;height:450px;overflow:scroll}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{box-shadow:0 0 11px #e0e0e0}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{display:none;font-family:Raleway;width:326px;margin-top:10px;margin-left:15px;color:#ff7b5c;margin-bottom:20px;font-size:13px;font-weight:600}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .name-group[_ngcontent-%COMP%]{padding-top:25px;position:relative;z-index:10}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .name-group[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{display:flex}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .name-group[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   .title_input_data[_ngcontent-%COMP%]{font-family:Raleway;font-size:15px;margin-left:40px;margin-top:7px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .name-group[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:15px;border:1px solid #c3c3c3;border-radius:5px;padding:6px;width:150px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .name-group[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:none;width:100%;font-size:14px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .name-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{margin-bottom:0;margin-left:128px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .parent-danh-sach[_ngcontent-%COMP%]{padding-top:20px;display:flex}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .parent-danh-sach[_ngcontent-%COMP%]   .title_input_data[_ngcontent-%COMP%]{font-family:Raleway;font-size:15px;margin-left:40px;margin-top:7px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .parent-danh-sach[_ngcontent-%COMP%]   .danh-sach[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin-right:40px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .parent-danh-sach[_ngcontent-%COMP%]   .danh-sach[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;background:#e7f3ff;padding:7px;border-radius:5px;margin-left:15px;margin-bottom:10px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .parent-danh-sach[_ngcontent-%COMP%]   .danh-sach[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1876f2;font-weight:600;font-family:Raleway;font-size:13px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .parent-danh-sach[_ngcontent-%COMP%]   .danh-sach[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#e7f3ff;border-radius:50%;outline:none;border:none;cursor:pointer;margin-left:7px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .parent-danh-sach[_ngcontent-%COMP%]   .danh-sach[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;color:#1876f2}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .parent-danh-sach[_ngcontent-%COMP%]   .danh-sach[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:15px;border:1px solid #c3c3c3;border-radius:5px;padding:6px;width:150px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .parent-danh-sach[_ngcontent-%COMP%]   .danh-sach[_ngcontent-%COMP%]   .input_data[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:none;width:100%;font-size:14px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .auto[_ngcontent-%COMP%]{margin-top:10px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .auto[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{display:flex;width:95%;cursor:pointer;padding-top:10px;padding-bottom:10px;border-radius:10px;margin-left:10px;margin-right:10px;align-items:center}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .auto[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover;margin-left:10px;margin-right:15px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .auto[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-family:Raleway}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .auto[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#e3e4e5}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%]{margin-top:20px;width:100%}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{border:none;justify-content:center;align-items:center;display:flex;cursor:pointer;border-radius:5px;padding:12px 24px;margin:20px auto;background:#3275f7}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;margin-left:10px}.tao-nhom-moi[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}"]}),t})();function u_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",2),i.TgZ(1,"main",3),i.NdJ("animationCreated",function(e){return i.CHM(t),i.oxw().chat_page_process_service.animationCreated(e)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("options",t.chat_page_process_service.options)}}let d_=(()=>{class t{constructor(t,e){this.main_page_service=t,this.chat_page_process_service=e}ngOnInit(){setTimeout(()=>{this.main_page_service.reset(),this.main_page_service.selectChatPage()},0)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(s_),i.Y36(Jd))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-chat-page"]],decls:4,vars:1,consts:[["class","loading",4,"ngIf"],[1,"container"],[1,"loading"],["lottie","",1,"anim",3,"options","animationCreated"]],template:function(t,e){1&t&&(i._UZ(0,"app-create-group-chat"),i.YNc(1,u_,2,1,"div",0),i.TgZ(2,"div",1),i._UZ(3,"router-outlet"),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",e.chat_page_process_service.isLoadingProcess()))},directives:[h_,D,Ir,Qt,Kt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.loading[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;display:flex;justify-content:center;align-items:center;top:0;left:0}.loading[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{border:4px solid #da9696;border-radius:50%;background:#fff;width:300px;height:300px}.container[_ngcontent-%COMP%]{position:relative;background-color:#f5f9fc;border-radius:40px;height:100%;width:1144px}"]}),t})(),p_=(()=>{class t{constructor(t){this.main_page_service=t}ngOnInit(){setTimeout(()=>{this.main_page_service.reset(),this.main_page_service.selectChatRequestPage()},0)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(s_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-chat-request-page"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"p"),i._uU(2,"chat-request-page works!"),i.qZA(),i.qZA())},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{position:relative;background-color:#f5f9fc;border-radius:40px;height:100%;width:1144px}"]}),t})();class g_{constructor(){this.mutualFriends=0}checkLimitNameAddList(){return null!=this.name&&this.name.length>10}getNameLimitAddList(){if(null!=this.name){let t=this.name;return t.length>10&&(t=this.name.substring(0,9).trim(),t+="..."),t}return""}checkLimitNameMutualAdd(){return null!=this.name&&this.name.length>30}getNameLimitMutualAdd(){if(null!=this.name){let t=this.name;return t.length>30&&(t=this.name.substring(0,29).trim(),t+="..."),t}return""}dateAddFormatMutualAdd(){if(null!=this.date){let t,e=new Date(this.date).toString().split(" "),n=e[2],i=e[3],r=e[4];switch(e[1]){case"Jan":t="M\u1ed9t";break;case"Feb":t="Hai";break;case"Mar":t="Ba";break;case"Apr":t="B\u1ed1n";break;case"May":t="N\u0103m";break;case"Jun":t="S\xe1u";break;case"Jul":t="B\u1ea3y";break;case"Aug":t="T\xe1m";break;case"Sep":t="Ch\xedn";break;case"Oct":t="M\u01b0\u1eddi";break;case"Nov":t="M\u01b0\u1eddi M\u1ed9t";break;case"Dec":t="M\u01b0\u1eddi Hai"}return n+" Th\xe1ng "+t+" "+i+" - "+r}return""}getNameLast(){if(null!=this.name){let t=this.name.trim().split(" ");return 0==t.length?t[0]:t[t.length-1].toUpperCase()}return""}getFirstName(){return null!=this.name?this.name.trim().split(" ")[0].toUpperCase():""}getAllNotName(){if(null!=this.name){let t=this.name.trim().split(" "),e="";for(let n=0;n<t.length-1;n++)e+=t[n];return e.toUpperCase()}return""}checkLimitNameAddProfile(){return null!=this.name&&this.name.length>13}getNameLimitAddProfile(){if(null!=this.name){let t=this.name;return t.length>13&&(t=this.name.substring(0,12).trim(),t+="..."),t}return""}}let f_=(()=>{class t{constructor(){this.source=new te(-1),this.friendsDefault=this.source.asObservable(),this.idUnfriend="",this.nameUnfriend="",this.searchVal="",this.searchValOffer="",this.options={path:"/assets/json/lottie/loading.json"},this.update()}selectedFriendsPageDefaultSerivce(){this.source.next(0)}selectedRequestService(){this.source.next(1)}selectedSendService(){this.source.next(2)}selectedAddFriendsService(){this.source.next(3)}selectedOffersFriendsService(){this.source.next(4)}isLoadingProcess(){return this.isLoading}setLoading(t){this.isLoading=t}animationCreated(t){}getSizeFriends(){return this.sizeFriends}setSizeFriends(t){this.sizeFriends=t}setIDUnFriend(t){this.idUnfriend=t}getIDUnFriend(){return this.idUnfriend}setNameUnFriend(t){this.nameUnfriend=t}getNameUnFriend(){return this.nameUnfriend}getFriendsList(){return this.friendsList}getRequestList(){return this.requestList}getSizeRequest(){return this.sizeRequest}setSizeRequest(t){this.sizeRequest=t}getSendsList(){return this.sendstList}getSizeSends(){return this.sizeSends}setSizeSends(t){this.sizeSends=t}setSizeAdd(t){this.sizeAdd=t}getSizeAdd(){return this.sizeAdd}setSizeOffer(t){this.sizeOffer=t}getSizeOffer(){return this.sizeOffer}sortMutualFriendsAdd(){this.addList=this.addList.sort((t,e)=>e.mutualFriends-t.mutualFriends)}sortMutualFriendsOffer(){this.offerList=this.offerList.sort((t,e)=>e.mutualFriends-t.mutualFriends)}sortRequestListDate(){this.requestList=this.requestList.sort((t,e)=>e.dateRequest-t.dateRequest)}sortRequestFrist(){this.requestFirstList=this.requestFirstList.sort((t,e)=>e.dateRequest-t.dateRequest)}sortSendListDate(){this.sendstList=this.sendstList.sort((t,e)=>e.dateSend-t.dateSend)}sortSendsFrist(){this.sendFirstList=this.sendFirstList.sort((t,e)=>e.dateSend-t.dateSend)}sortFriendsListNameABC(){this.friendsList=this.friendsList.sort((t,e)=>{var n=t.getNameLast(),i=e.getNameLast();return n<i?-1:n>i?1:0})}sortFriendsFirstListNameABC(){this.friendFirstList=this.friendFirstList.sort((t,e)=>{var n=t.getNameLast(),i=e.getNameLast();return n<i?-1:n>i?1:0})}update(){setTimeout(()=>{let t=Number(new Date);if(null!=this.friendsList)for(let e=0;e<this.friendsList.length;e++)this.friendsList[e].status=!(t-this.friendsList[e].lastOnline>1e4);this.update()},5e3)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class __{constructor(){this.mutualFriends=0}dateAddFormatMutualFriends(){if(null!=this.date){let t,e=new Date(this.date).toString().split(" "),n=e[2],i=e[3],r=e[4];switch(e[1]){case"Jan":t="M\u1ed9t";break;case"Feb":t="Hai";break;case"Mar":t="Ba";break;case"Apr":t="B\u1ed1n";break;case"May":t="N\u0103m";break;case"Jun":t="S\xe1u";break;case"Jul":t="B\u1ea3y";break;case"Aug":t="T\xe1m";break;case"Sep":t="Ch\xedn";break;case"Oct":t="M\u01b0\u1eddi";break;case"Nov":t="M\u01b0\u1eddi M\u1ed9t";break;case"Dec":t="M\u01b0\u1eddi Hai"}return n+" Th\xe1ng "+t+" "+i+" - "+r}return""}checkLimitNameFriendsList(){return null!=this.name&&this.name.length>20}getNameLimitFriendsList(){if(null!=this.name){let t=this.name;return t.length>20&&(t=this.name.substring(0,19).trim(),t+="..."),t}return""}checkLimitNameFriendsProfile(){return null!=this.name&&this.name.length>23}getNameLimitFriendsProfile(){if(null!=this.name){let t=this.name;return t.length>23&&(t=this.name.substring(0,22).trim(),t+="..."),t}return""}checkLimitNameMutualFriends(){return null!=this.name&&this.name.length>30}getNameLimitMutualFriends(){if(null!=this.name){let t=this.name;return t.length>30&&(t=this.name.substring(0,29).trim(),t+="..."),t}return""}getNameLast(){if(null!=this.name){let t=this.name.trim().split(" ");return 0==t.length?t[0].toLowerCase():t[t.length-1].toLowerCase()}return""}}let m_=(()=>{class t{constructor(t){this.db=t,this.friendSource=new te(null),this.friendInforService=this.friendSource.asObservable(),this.addSource=new te(null),this.addInforService=this.addSource.asObservable(),this.offerSource=new te(null),this.offerInforService=this.offerSource.asObservable()}setAddInforService(t,e){this.addSource.next({id:t,addOrUndo:e})}setOfferInforService(t,e){this.offerSource.next({id:t,addOrUndo:e})}setFriendInforService(t){this.friendSource.next(t)}getListIDFriendsByIDUser(t){return this.db.database.ref("ban_be").child(t)}unFriendByIDUser(t,e){return this.db.database.ref("ban_be").child(e).child(t)}getListFriendsInforByIDFriends(t){let e=new __;return this.db.database.ref("tai_khoan/"+t).on("value",n=>{e.id=t,e.img=n.val().link_hinh,e.name=n.val().ten,e.sex=n.val().gioi_tinh,e.date=n.val().ngay_tao,e.lastOnline=n.val().lan_cuoi_dang_nhap}),e}getListFriendsInforByIDFriendsOneShot(t){let e=new __;return this.db.database.ref("tai_khoan/"+t).once("value",n=>{e.id=t,e.img=n.val().link_hinh,e.name=n.val().ten,e.sex=n.val().gioi_tinh,e.date=n.val().ngay_tao,e.lastOnline=n.val().lan_cuoi_dang_nhap}),e}getFriendByID(t){return this.db.database.ref("tai_khoan/"+t)}addFriend(t,e){return this.db.database.ref("ban_be/"+t+"/"+e)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class y_{constructor(){this.mutualFriends=0}getFormatTimeRequest(){let t="",e=this.dateRequest,n=Number(new Date)-e;return n<6e4?t=parseInt(n/1e3+"")+" gi\xe2y":n<36e5?t=parseInt(n/6e4+"")+" ph\xfat":n<864e5?t=parseInt(n/36e5+"")+" gi\u1edd":n<6048e5?t=parseInt(n/864e5+"")+" ng\xe0y":n<31536e6?t=parseInt(n/6048e5+"")+" tu\u1ea7n":n<31536e8&&(t=parseInt(n/31536e6+"")+" n\u0103m"),t}checkLimitNameRequestList(){return null!=this.name&&this.name.length>16}getNameLimitRequestList(){if(null!=this.name){let t=this.name;return t.length>16&&(t=this.name.substring(0,16).trim(),t+="..."),t}return""}checkLimitNameRequestProfile(){return null!=this.name&&this.name.length>13}getNameLimitRequestProfile(){if(null!=this.name){let t=this.name;return t.length>13&&(t=this.name.substring(0,12).trim(),t+="..."),t}return""}checkLimitNameMutualRequest(){return null!=this.name&&this.name.length>30}getNameLimitMutualRequest(){if(null!=this.name){let t=this.name;return t.length>30&&(t=this.name.substring(0,29).trim(),t+="..."),t}return""}getNameLast(){if(null!=this.name){let t=this.name.trim().split(" ");return 0==t.length?t[0].toLowerCase():t[t.length-1].toLowerCase()}return""}dateAddFormatMutualRequest(){if(null!=this.date){let t,e=new Date(this.date).toString().split(" "),n=e[2],i=e[3],r=e[4];switch(e[1]){case"Jan":t="M\u1ed9t";break;case"Feb":t="Hai";break;case"Mar":t="Ba";break;case"Apr":t="B\u1ed1n";break;case"May":t="N\u0103m";break;case"Jun":t="S\xe1u";break;case"Jul":t="B\u1ea3y";break;case"Aug":t="T\xe1m";break;case"Sep":t="Ch\xedn";break;case"Oct":t="M\u01b0\u1eddi";break;case"Nov":t="M\u01b0\u1eddi M\u1ed9t";break;case"Dec":t="M\u01b0\u1eddi Hai"}return n+" Th\xe1ng "+t+" "+i+" - "+r}return""}}let v_=(()=>{class t{constructor(t,e){this.db=t,this.friendsPageService=e}getRequestInforByIDUser(t){return this.db.database.ref("loi_moi_ket_ban/"+t)}getListRequestInforByIDRequest(t){let e=new y_;return this.db.database.ref("tai_khoan/"+t).on("value",n=>{e.id=t,e.img=n.val().link_hinh,e.name=n.val().ten,e.sex=n.val().gioi_tinh,e.date=n.val().ngay_tao}),e}getListRequestInforByIDRequestOneShot(t){let e=new y_;return this.db.database.ref("tai_khoan/"+t).on("value",n=>{e.id=t,e.img=n.val().link_hinh,e.name=n.val().ten,e.sex=n.val().gioi_tinh,e.date=n.val().ngay_tao}),e}acceptRequestService(t,e){return this.db.database.ref("loi_moi_ket_ban/").child(t).child(e)}getInforRequest(t){return this.db.database.ref("tai_khoan/"+t)}getMembersConversation(){return this.db.database.ref("thanh_vien_cuoc_tro_chuyen/")}getGroupChat(){return this.db.database.ref("thong_tin_tro_chuyen_nhom/")}updateMembersConversation(t,e){return this.db.database.ref("thanh_vien_cuoc_tro_chuyen/").child(t).child(e)}getKindConversation(){return this.db.database.ref("cuoc_tro_chuyen/")}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo),i.LFG(f_))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class C_{constructor(){this.mutualFriends=0}getFormatTimeSend(){let t="",e=this.dateSend,n=Number(new Date)-e;return n<6e4?t=parseInt(n/1e3+"")+" gi\xe2y":n<36e5?t=parseInt(n/6e4+"")+" ph\xfat":n<864e5?t=parseInt(n/36e5+"")+" gi\u1edd":n<6048e5?t=parseInt(n/864e5+"")+" ng\xe0y":n<31536e6?t=parseInt(n/6048e5+"")+" tu\u1ea7n":n<31536e8&&(t=parseInt(n/31536e6+"")+" n\u0103m"),t}dateSendFormatMutualFriends(){if(null!=this.date){let t,e=new Date(this.date).toString().split(" "),n=e[2],i=e[3],r=e[4];switch(e[1]){case"Jan":t="M\u1ed9t";break;case"Feb":t="Hai";break;case"Mar":t="Ba";break;case"Apr":t="B\u1ed1n";break;case"May":t="N\u0103m";break;case"Jun":t="S\xe1u";break;case"Jul":t="B\u1ea3y";break;case"Aug":t="T\xe1m";break;case"Sep":t="Ch\xedn";break;case"Oct":t="M\u01b0\u1eddi";break;case"Nov":t="M\u01b0\u1eddi M\u1ed9t";break;case"Dec":t="M\u01b0\u1eddi Hai"}return n+" Th\xe1ng "+t+" "+i+" - "+r}return""}getNameLast(){if(null!=this.name){let t=this.name.trim().split(" ");return 0==t.length?t[0].toLowerCase():t[t.length-1].toLowerCase()}return""}checkLimitNameSendList(){return null!=this.name&&this.name.length>16}getNameLimitSendList(){if(null!=this.name){let t=this.name;return t.length>16&&(t=this.name.substring(0,16).trim(),t+="..."),t}return""}checkLimitNameSendProfile(){return null!=this.name&&this.name.length>16}getNameLimitSendProfile(){if(null!=this.name){let t=this.name;return t.length>16&&(t=this.name.substring(0,15).trim(),t+="..."),t}return""}checkLimitNameMutualSend(){return null!=this.name&&this.name.length>30}getNameLimitMutualSend(){if(null!=this.name){let t=this.name;return t.length>30&&(t=this.name.substring(0,29).trim(),t+="..."),t}return""}}let b_=(()=>{class t{constructor(t,e){this.db=t,this.friendsPageService=e}getSendInforByIDUser(t){return this.db.database.ref("da_gui_ket_ban/"+t)}getListSendInforByIDSend(t){let e=new C_;return this.db.database.ref("tai_khoan/"+t).on("value",n=>{e.id=t,e.img=n.val().link_hinh,e.name=n.val().ten,e.sex=n.val().gioi_tinh,e.date=n.val().ngay_tao}),e}getListSendInforByIDSendOneShot(t){let e=new C_;return this.db.database.ref("tai_khoan/"+t).on("value",n=>{e.id=t,e.img=n.val().link_hinh,e.name=n.val().ten,e.sex=n.val().gioi_tinh,e.date=n.val().ngay_tao}),e}getInforSend(t){return this.db.database.ref("tai_khoan/"+t)}editSendService(t,e){return this.db.database.ref("da_gui_ket_ban/").child(e).child(t)}acceptRequestService(t,e){return this.db.database.ref("loi_moi_ket_ban/").child(t).child(e)}getInforRequest(t){return this.db.database.ref("tai_khoan/"+t)}getMembersConversation(){return this.db.database.ref("thanh_vien_cuoc_tro_chuyen/")}getGroupChat(){return this.db.database.ref("thong_tin_tro_chuyen_nhom/")}updateMembersConversation(t,e){return this.db.database.ref("thanh_vien_cuoc_tro_chuyen/").child(t).child(e)}getKindConversation(){return this.db.database.ref("cuoc_tro_chuyen/")}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo),i.LFG(f_))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),x_=(()=>{class t{constructor(t){this.db=t}getListAddInforByID(t){let e=new g_;return this.db.database.ref("tai_khoan").child(t).on("value",n=>{e.id=t,e.img=n.val().link_hinh,e.name=n.val().ten,e.sex=n.val().gioi_tinh,e.date=n.val().ngay_tao}),e}getInforAddFriends(t){return this.db.database.ref("tai_khoan").child(t)}getAllAccount(){return this.db.database.ref("tai_khoan")}getListFriendsByIDUser(t){return this.db.database.ref("ban_be").child(t)}getRequestInforByIDUser(t){return this.db.database.ref("loi_moi_ket_ban").child(t)}getSendInforByIDUser(t){return this.db.database.ref("da_gui_ket_ban").child(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),P_=(()=>{class t{constructor(t){this.db=t}getInforFriend(t){return this.db.database.ref("tai_khoan/"+t)}getConversation(){return this.db.database.ref("thanh_vien_cuoc_tro_chuyen")}getKindConversation(t){return this.db.database.ref("cuoc_tro_chuyen/"+t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function O_(t,e){if(1&t&&(i.TgZ(0,"div",16),i._uU(1),i.qZA()),2&t){const t=i.oxw(2);i.s9C("matTooltip",t.friendInfor.name),i.xp6(1),i.Oqu(t.friendInfor.getNameLimitFriendsProfile())}}function M_(t,e){if(1&t&&(i.TgZ(0,"div",17),i._uU(1),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.Oqu(t.friendInfor.name)}}function w_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i._UZ(1,"img",2),i.TgZ(2,"div",3),i.TgZ(3,"div",4),i._uU(4,"XIN CH\xc0O, "),i.TgZ(5,"span"),i._uU(6,"T\xcaN"),i.qZA(),i._uU(7," T\xd4I L\xc0"),i.qZA(),i.YNc(8,O_,2,2,"div",5),i.YNc(9,M_,2,1,"div",6),i.TgZ(10,"button",7),i.NdJ("click",function(){i.CHM(t);const e=i.oxw();return e.onClickMessage(e.friendInfor.id)}),i._UZ(11,"i",8),i._uU(12,"Nh\u1eafn tin"),i.qZA(),i.TgZ(13,"button",9),i.NdJ("click",function(){i.CHM(t);const e=i.oxw();return e.onClickUnFriend(e.friendInfor.id,e.friendInfor.name)}),i._UZ(14,"i",10),i._uU(15,"H\u1ee7y k\u1ebft b\u1ea1n"),i.qZA(),i.qZA(),i.TgZ(16,"div",11),i._UZ(17,"div",12),i.TgZ(18,"div",13),i._UZ(19,"img",14),i.qZA(),i._UZ(20,"div",15),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(8),i.Q6J("ngIf",t.friendInfor.checkLimitNameFriendsProfile()),i.xp6(1),i.Q6J("ngIf",!t.friendInfor.checkLimitNameFriendsProfile()),i.xp6(10),i.Q6J("src",t.friendInfor.img||"assets/images/loading.gif",i.LSH)}}function k_(t,e){1&t&&(i.TgZ(0,"div",1),i._UZ(1,"img",18),i.TgZ(2,"div",19),i.TgZ(3,"div",20),i._UZ(4,"i",21),i.qZA(),i.TgZ(5,"div",22),i.TgZ(6,"span"),i._uU(7,"H\xe3y t\xecm ki\u1ebfm cho m\xecnh ng\u01b0\u1eddi b\u1ea1n \u0111\u1ea7u ti\xean \u0111i n\xe0o."),i.qZA(),i.qZA(),i.qZA(),i.qZA())}let T_=(()=>{class t{constructor(t,e,n,i){this.contactsService=t,this.profileFriendService=e,this.friendsPageService=n,this.router=i}onClickMessage(t){let e=0,n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.profileFriendService.getConversation().once("value",i=>{i.forEach(i=>{-1!=e&&(i.forEach(i=>{i.key!=n&&i.key!=t||e++}),2==e?this.profileFriendService.getKindConversation(i.key).once("value",t=>{"don"==t.val().loai_cuoc_tro_truyen&&(this.router.navigate(["/bessenger/tin-nhan/"+i.key]),e=-1)}):e=0)})})}ngOnInit(){this.getFriendFromFriendsList()}ngOnDestroy(){this.valueFromChildSubscription.unsubscribe()}onClickUnFriend(t,e){this.friendsPageService.setIDUnFriend(t),this.friendsPageService.setNameUnFriend(e)}getFriendFromFriendsList(){let t;this.friendInfor=new __,this.friendInfor.id=1,this.valueFromChildSubscription=this.contactsService.friendInforService.subscribe(e=>{null==e?this.friendInfor.id=1:(t=e,this.profileFriendService.getInforFriend(e).on("value",n=>{t==n.key&&(null!=n.val()?(this.friendInfor.id=e,this.friendInfor.img=n.val().link_hinh,this.friendInfor.name=n.val().ten,this.friendInfor.sex=n.val().gioi_tinh):(this.router.navigate(["/**"]),this.contactsService.setFriendInforService(null)))}))})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(m_),i.Y36(P_),i.Y36(f_),i.Y36(Ar))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-profile-friend"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[1,"container"],["src","assets/images/list-friends-friends-page/bg-profile-myfriend2.jpg","alt","",1,"bg"],[1,"left"],[1,"ins"],["class","name","matTooltipClass","tooltip",3,"matTooltip",4,"ngIf"],["class","name",4,"ngIf"],[1,"message","btn",3,"click"],[1,"fas","fa-comment"],[1,"abort-friend","btn",3,"click"],[1,"fas","fa-user-times"],[1,"right"],[1,"cover"],[1,"avt"],["alt","",3,"src"],[1,"line"],["matTooltipClass","tooltip",1,"name",3,"matTooltip"],[1,"name"],["src","assets/images/list-friends-friends-page/friends.jpg","alt","",1,"bg-hands"],[1,"bg-title"],[1,"icon"],["id","icon_f",1,"icon_f","fas","fa-users"],[1,"title"]],template:function(t,e){1&t&&(i.YNc(0,w_,21,3,"div",0),i.YNc(1,k_,8,0,"div",0)),2&t&&(i.Q6J("ngIf",1!=e.friendInfor.id),i.xp6(1),i.Q6J("ngIf",1==e.friendInfor.id))},directives:[D,Sh],styles:[".container[_ngcontent-%COMP%]{display:flex;font-family:Raleway;background-color:#fff;box-shadow:4px 8px 28px 0 #d3dceb}.container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .bg-hands[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:40px}.container[_ngcontent-%COMP%]   .bg-hands[_ngcontent-%COMP%]{object-fit:cover}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:40px}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:275px;top:260px}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:140px;color:#fff}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:430px;left:70px;text-align:center}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:25px;color:#fff;text-shadow:2px 2px #000}.container[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{position:absolute;object-fit:cover;width:100%;height:100%;border-radius:40px}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:40%;height:100%;position:relative}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .ins[_ngcontent-%COMP%]{width:500px;position:absolute;font-size:25px;font-weight:700;top:320px;left:10px}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .ins[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#3275f7}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:500px;top:350px;position:absolute;font-size:60px;font-weight:700;z-index:5;left:10px;word-wrap:break-word;text-shadow:2px 2px #3275f7}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#fff;outline:none;border:none;height:45px;background-color:#3275f7;cursor:pointer;border-radius:10px;font-size:15px;top:500px;position:absolute}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:9px}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .abort-friend[_ngcontent-%COMP%]{font-weight:600;font-family:Raleway;background-color:#fff;color:#3275f7;left:153px;width:130px;border:2px solid #3275f7}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-weight:600;font-family:Raleway;left:10px;width:120px}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:60%;height:100%;position:relative}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{width:350px;height:450px;background-color:#fdfb6d;position:absolute;top:130px;right:10px;z-index:2;border-radius:20px}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .avt[_ngcontent-%COMP%]{position:absolute;top:150px;z-index:3;right:30px}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .avt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:400px;height:500px;border-radius:20px}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;top:0;width:130px;height:760px;background-color:#3274f77e;transform:skew(-15deg);left:150px;z-index:1}"]}),t})();function S_(t,e){if(1&t&&(i.TgZ(0,"div",23),i._uU(1),i.qZA()),2&t){const t=i.oxw(2);i.s9C("matTooltip",t.friendInfor.name),i.xp6(1),i.hij(" ",t.friendInfor.getNameLimitRequestProfile()," ")}}function E_(t,e){if(1&t&&(i.TgZ(0,"div",24),i._uU(1),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.hij(" ",t.friendInfor.name," ")}}function A_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i._UZ(1,"img",2),i.TgZ(2,"div",3),i.TgZ(3,"div",4),i._UZ(4,"img",5),i.qZA(),i.qZA(),i.TgZ(5,"div",6),i._UZ(6,"img",7),i.qZA(),i.TgZ(7,"div",8),i.NdJ("click",function(){i.CHM(t);const e=i.oxw();return e.onClickMessage(e.friendInfor.id)}),i._UZ(8,"div",9),i.TgZ(9,"div",10),i.TgZ(10,"span",11),i._uU(11,"Nh\u1eafn tin"),i.qZA(),i.qZA(),i.TgZ(12,"div",12),i._UZ(13,"i",13),i.qZA(),i.qZA(),i.TgZ(14,"div",14),i.NdJ("click",function(){i.CHM(t);const e=i.oxw();return e.acceptRequest(e.friendInfor.id)}),i._UZ(15,"div",9),i.TgZ(16,"div",10),i.TgZ(17,"span",15),i._uU(18,"Ch\u1ea5p nh\u1eadn"),i.qZA(),i.qZA(),i.TgZ(19,"div",12),i._UZ(20,"i",16),i.qZA(),i.qZA(),i.TgZ(21,"div",17),i.NdJ("click",function(){i.CHM(t);const e=i.oxw();return e.refuseRequest(e.friendInfor.id)}),i._UZ(22,"div",9),i.TgZ(23,"div",10),i.TgZ(24,"span",18),i._uU(25,"T\u1eeb ch\u1ed1i"),i.qZA(),i.qZA(),i.TgZ(26,"div",12),i._UZ(27,"i",19),i.qZA(),i.qZA(),i.TgZ(28,"div",20),i._uU(29,"XIN CH\xc0O, "),i.TgZ(30,"span"),i._uU(31,"T\xcaN"),i.qZA(),i._uU(32," T\xd4I L\xc0"),i.qZA(),i.YNc(33,S_,2,2,"div",21),i.YNc(34,E_,2,1,"div",22),i.qZA()}if(2&t){const t=i.oxw();i.xp6(6),i.MGl("src","",t.friendInfor.img," || 'assets/images/loading.gif'",i.LSH),i.xp6(27),i.Q6J("ngIf",t.friendInfor.checkLimitNameRequestProfile()),i.xp6(1),i.Q6J("ngIf",!t.friendInfor.checkLimitNameRequestProfile())}}function I_(t,e){1&t&&(i.TgZ(0,"div",1),i.TgZ(1,"div",10),i._UZ(2,"img",25),i.TgZ(3,"div",26),i.TgZ(4,"div",27),i._UZ(5,"i",28),i.qZA(),i.TgZ(6,"div",29),i.TgZ(7,"span"),i._uU(8,"B\u1ea1n ch\u01b0a c\xf3 l\u1eddi m\u1eddi k\u1ebft b\u1ea1n n\xe0o."),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA())}let D_=(()=>{class t{constructor(t,e,n,i,r){this.contactsService=t,this.router=e,this.friendsPageService=n,this.requestAddService=i,this.sendsListService=r}ngOnInit(){this.getFriendFromFriendsRequestAdd()}ngOnDestroy(){this.valueFromChildSubscription.unsubscribe()}onClickMessage(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.requestAddService.getMembersConversation().once("value",n=>{let i=[];this.requestAddService.getGroupChat().once("value",r=>{if(null!=r.val()&&r.forEach(t=>{0==t.val().ton_tai&&i.push(t.key)}),null!=n.val()){let r=!1;if(n.forEach(n=>{let o=[];null!=n.val()&&n.forEach(t=>{o.push({id:t.key,status:t.val().trang_thai})}),(o[0].id==t&&o[1].id==e||o[0].id==e&&o[1].id==t&&!i.includes(n.key))&&(this.requestAddService.updateMembersConversation(n.key,e).update({trang_thai:"khong_cho"}),r=!0,setTimeout(()=>{this.router.navigate(["/bessenger/tin-nhan/"+n.key])},500))}),!r){let n=this.requestAddService.getKindConversation().push();n.update({bieu_tuong_cam_xuc:"khong",loai_cuoc_tro_truyen:"don",mau:"#3275f7"}),this.requestAddService.getMembersConversation().child(n.key).child(e).update({ngay_tham_gia:Number(new Date),trang_thai:"khong_cho"}),this.requestAddService.getMembersConversation().child(n.key).child(t).update({ngay_tham_gia:Number(new Date),trang_thai:"cho"}),setTimeout(()=>{this.router.navigate(["/bessenger/tin-nhan/"+n.key])},500)}}})})}getFriendFromFriendsRequestAdd(){let t;this.friendInfor=new y_,this.friendInfor.id=1,this.valueFromChildSubscription=this.contactsService.friendInforService.subscribe(e=>{null==e?(this.friendInfor.id=1,t=-1):(t=e,this.requestAddService.getInforRequest(e).on("value",n=>{t==n.key&&(null!=n.val()?(this.friendInfor.id=e,this.friendInfor.img=n.val().link_hinh,this.friendInfor.name=n.val().ten):(this.router.navigate(["/**"]),this.contactsService.setFriendInforService(null)))}))})}moveLinkRequest(t){this.router.navigate(["/bessenger/ban-be/loi-moi/"+t])}acceptRequest(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.requestAddService.acceptRequestService(e,t).update({ton_tai:1}),this.sendsListService.editSendService(e,t).update({ton_tai:1}),this.contactsService.addFriend(e,t).set({ngay_tao:Number(new Date),ton_tai:0}),this.contactsService.addFriend(t,e).set({ngay_tao:Number(new Date),ton_tai:0}),this.moveLinkRequest("")}refuseRequest(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.requestAddService.acceptRequestService(e,t).update({ton_tai:1}),this.sendsListService.editSendService(e,t).update({ton_tai:1}),this.moveLinkRequest("")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(m_),i.Y36(Ar),i.Y36(f_),i.Y36(v_),i.Y36(b_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-profile-request"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[1,"container"],["src","assets/images/list-friends-friends-page/bg-profile-myfriend2.jpg","alt","",1,"bg"],[1,"cover-circle"],[1,"circle"],["src","assets/images/list-friends-friends-page/bg-profile-myfriend.jpg","alt",""],[1,"cover-avt"],["alt","",1,"avt",3,"src"],[1,"message","circle-small",3,"click"],[1,"fill-img"],[1,"content"],[1,"sp-message"],[1,"cover-icon"],[1,"fas","fa-comment"],[1,"accept","circle-small",3,"click"],[1,"sp-accept"],[1,"fas","fa-user-check"],[1,"cancel","circle-small",3,"click"],[1,"sp-cancel"],[1,"fas","fa-user-times"],[1,"ins"],["class","name","matTooltipClass","tooltip",3,"matTooltip",4,"ngIf"],["class","name",4,"ngIf"],["matTooltipClass","tooltip",1,"name",3,"matTooltip"],[1,"name"],["src","assets/images/list-friends-friends-page/request.jpg","alt","",1,"bg-hands"],[1,"bg-title"],[1,"icon"],[1,"icon_r","fas","fa-question-circle"],[1,"title"]],template:function(t,e){1&t&&(i.YNc(0,A_,35,3,"div",0),i.YNc(1,I_,9,0,"div",0)),2&t&&(i.Q6J("ngIf",1!=e.friendInfor.id),i.xp6(1),i.Q6J("ngIf",1==e.friendInfor.id))},directives:[D,Sh],styles:[".container[_ngcontent-%COMP%]{display:flex;font-family:Raleway;box-shadow:4px 8px 28px 0 #d3dceb;position:relative;overflow:hidden}.container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .bg-hands[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:40px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .bg-hands[_ngcontent-%COMP%]{object-fit:cover}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:40px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:292px;top:260px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:140px;color:#fff}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:430px;left:175px;text-align:center}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:25px;color:#fff;text-shadow:2px 2px #000}.container[_ngcontent-%COMP%]   .cover-circle[_ngcontent-%COMP%]{position:absolute;width:720px;height:720px;border-radius:50%;background-color:#fff;top:-100px;right:-200px}.container[_ngcontent-%COMP%]   .cover-circle[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:700px;height:700px;border-radius:50%;position:absolute;top:10px;left:10px}.container[_ngcontent-%COMP%]   .cover-circle[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:700px;height:700px;border-radius:50%;position:absolute;top:0;left:0}.container[_ngcontent-%COMP%]   .cover-avt[_ngcontent-%COMP%]{width:510px;height:510px;background-color:#fff;border-radius:50%;position:absolute;top:10px;right:-100px}.container[_ngcontent-%COMP%]   .cover-avt[_ngcontent-%COMP%]   .avt[_ngcontent-%COMP%]{width:500px;height:500px;position:absolute;object-fit:cover;top:5px;left:5px;border-radius:50%}.container[_ngcontent-%COMP%]   .circle-small[_ngcontent-%COMP%]{width:110px;height:110px;position:absolute;border-radius:50%;background-color:#fff;cursor:pointer;z-index:10}.container[_ngcontent-%COMP%]   .circle-small[_ngcontent-%COMP%]   .cover-icon[_ngcontent-%COMP%]{width:35px;height:35px;background-color:#fff;border-radius:50%;position:absolute;top:37.5px;left:37.5px}.container[_ngcontent-%COMP%]   .circle-small[_ngcontent-%COMP%]   .cover-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3274f7af;position:absolute;top:8px;left:9px}.container[_ngcontent-%COMP%]   .circle-small[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:120px;height:45px;background-color:#fff;border-bottom-left-radius:10px;border-top-left-radius:10px;position:absolute;left:-125px;top:32px;border-left:10px solid #3274f7af}.container[_ngcontent-%COMP%]   .circle-small[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:14px;font-weight:600;font-size:15px;display:block}.container[_ngcontent-%COMP%]   .circle-small[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .sp-cancel[_ngcontent-%COMP%]{left:33px}.container[_ngcontent-%COMP%]   .circle-small[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .sp-message[_ngcontent-%COMP%]{left:30px}.container[_ngcontent-%COMP%]   .circle-small[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .sp-accept[_ngcontent-%COMP%]{left:22px}.container[_ngcontent-%COMP%]   .circle-small[_ngcontent-%COMP%]   .fill-img[_ngcontent-%COMP%]{background-color:#3274f7af}.container[_ngcontent-%COMP%]   .circle-small[_ngcontent-%COMP%]   .fill-img[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .circle-small[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;position:absolute;border-radius:50%;top:5px;left:5px}.container[_ngcontent-%COMP%]   .circle-small[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5}.container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{left:190px;top:40px}.container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .cover-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:10px}.container[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]{left:140px;top:193px;width:140px;height:140px}.container[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{top:52px}.container[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]   .cover-icon[_ngcontent-%COMP%]{top:52.5px;left:52.5px}.container[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]   .fill-img[_ngcontent-%COMP%]{width:130px;height:130px}.container[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.container[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{left:200px;top:380px}.container[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{top:34px}.container[_ngcontent-%COMP%]   .ins[_ngcontent-%COMP%]{width:350px;position:absolute;font-size:25px;font-weight:700;bottom:210px;left:20px}.container[_ngcontent-%COMP%]   .ins[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#3275f7}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:500px;height:80px;bottom:130px;position:absolute;font-size:60px;font-weight:700;z-index:5;left:20px;text-shadow:3px 3px #3275f7}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:-80px;top:-30px;font-size:100px;text-shadow:3px 3px #ff0}"]}),t})();function F_(t,e){1&t&&(i.TgZ(0,"div",1),i._UZ(1,"img",2),i.TgZ(2,"div",3),i.TgZ(3,"div",4),i._UZ(4,"i",5),i.qZA(),i.TgZ(5,"div",6),i.TgZ(6,"span"),i._uU(7,"B\u1ea1n ch\u01b0a g\u1eedi y\xeau c\u1ea7u k\u1ebft b\u1ea1n n\xe0o."),i.qZA(),i.qZA(),i.qZA(),i.qZA())}function N_(t,e){if(1&t&&(i.TgZ(0,"div",21),i._uU(1),i.qZA()),2&t){const t=i.oxw(2);i.s9C("matTooltip",t.friendInfor.name),i.xp6(1),i.Oqu(t.friendInfor.getNameLimitSendProfile())}}function L_(t,e){if(1&t&&(i.TgZ(0,"div",22),i._uU(1),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.Oqu(t.friendInfor.name)}}function Z_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i._UZ(1,"img",7),i._UZ(2,"div",8),i.TgZ(3,"div",9),i._UZ(4,"img",10),i.qZA(),i.TgZ(5,"div",11),i._UZ(6,"img",12),i.qZA(),i.TgZ(7,"div",13),i.TgZ(8,"div",14),i._uU(9,"XIN CH\xc0O, "),i.TgZ(10,"span"),i._uU(11,"T\xcaN"),i.qZA(),i._uU(12," T\xd4I L\xc0"),i.qZA(),i.YNc(13,N_,2,2,"div",15),i.YNc(14,L_,2,1,"div",16),i.TgZ(15,"button",17),i.NdJ("click",function(){i.CHM(t);const e=i.oxw();return e.undoSendRequest(e.friendInfor.id)}),i._UZ(16,"i",18),i._uU(17,"H\u1ee7y y\xeau c\u1ea7u "),i.qZA(),i.TgZ(18,"button",19),i.NdJ("click",function(){i.CHM(t);const e=i.oxw();return e.onClickMessage(e.friendInfor.id)}),i._UZ(19,"i",20),i._uU(20,"Nh\u1eafn tin "),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.s9C("src",t.friendInfor.img,i.LSH),i.xp6(3),i.s9C("src",t.friendInfor.img,i.LSH),i.xp6(9),i.Q6J("ngIf",t.friendInfor.checkLimitNameSendProfile()),i.xp6(1),i.Q6J("ngIf",!t.friendInfor.checkLimitNameSendProfile())}}function R_(t,e){1&t&&i._UZ(0,"div",1)}let q_=(()=>{class t{constructor(t,e,n,i){this.contactsService=t,this.sendAddService=e,this.router=n,this.requestListService=i}ngOnInit(){this.getFriendFromFriendsSend()}ngOnDestroy(){this.valueFromChildSubscription.unsubscribe()}getFriendFromFriendsSend(){let t;this.friendInfor=new C_,this.friendInfor.id=1,this.valueFromChildSubscription=this.contactsService.friendInforService.subscribe(e=>{null==e?(this.friendInfor.id=1,t=-1):(t=e,this.sendAddService.getInforSend(e).on("value",n=>{t==n.key&&(null!=n.val()?(this.friendInfor.id=e,this.friendInfor.img=n.val().link_hinh,this.friendInfor.name=n.val().ten):(this.router.navigate(["/**"]),this.contactsService.setFriendInforService(null)))}))})}moveLinkSends(t){this.router.navigate(["/bessenger/ban-be/da-gui/"+t])}undoSendRequest(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.requestListService.acceptRequestService(t,e).update({ton_tai:1}),this.sendAddService.editSendService(t,e).update({ton_tai:1}),this.moveLinkSends("")}onClickMessage(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.sendAddService.getMembersConversation().once("value",n=>{let i=[];this.sendAddService.getGroupChat().once("value",r=>{if(null!=r.val()&&r.forEach(t=>{0==t.val().ton_tai&&i.push(t.key)}),null!=n.val()){let r=!1;if(n.forEach(n=>{let o=[];null!=n.val()&&n.forEach(t=>{o.push({id:t.key,status:t.val().trang_thai})}),(o[0].id==t&&o[1].id==e||o[0].id==e&&o[1].id==t&&!i.includes(n.key))&&(this.sendAddService.updateMembersConversation(n.key,e).update({trang_thai:"khong_cho"}),r=!0,setTimeout(()=>{this.router.navigate(["/bessenger/tin-nhan/"+n.key])},500))}),!r){let n=this.sendAddService.getKindConversation().push();n.update({bieu_tuong_cam_xuc:"khong",loai_cuoc_tro_truyen:"don",mau:"#3275f7"}),this.sendAddService.getMembersConversation().child(n.key).child(e).update({ngay_tham_gia:Number(new Date),trang_thai:"khong_cho"}),this.sendAddService.getMembersConversation().child(n.key).child(t).update({ngay_tham_gia:Number(new Date),trang_thai:"cho"}),setTimeout(()=>{this.router.navigate(["/bessenger/tin-nhan/"+n.key])},500)}}})})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(m_),i.Y36(b_),i.Y36(Ar),i.Y36(v_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-profile-send"]],decls:3,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],["src","assets/images/list-friends-friends-page/sends.jpg","alt","",1,"bg-hands"],[1,"bg-title"],[1,"icon"],["id","icon_s",1,"icon_s","fas","fa-paper-plane"],[1,"title"],["alt","",1,"bg",3,"src"],[1,"cover-bg"],[1,"cover"],["alt","",3,"src"],[1,"content"],["src","assets/images/list-friends-friends-page/bg-profile-myfriend7.jpg","alt","",1,"bg-sub"],[1,"right"],[1,"ins"],["class","name","matTooltipClass","tooltip",3,"matTooltip",4,"ngIf"],["class","name",4,"ngIf"],[1,"abort-friend","btn",3,"click"],[1,"fas","fa-undo"],[1,"accept","btn",3,"click"],[1,"fas","fa-comment"],["matTooltipClass","tooltip",1,"name",3,"matTooltip"],[1,"name"]],template:function(t,e){1&t&&(i.YNc(0,F_,8,0,"div",0),i.YNc(1,Z_,21,4,"div",0),i.YNc(2,R_,1,0,"div",0)),2&t&&(i.Q6J("ngIf",1==e.friendInfor.id),i.xp6(1),i.Q6J("ngIf",1!=e.friendInfor.id),i.xp6(1),i.Q6J("ngIf",null==e.friendInfor))},directives:[D,Sh],styles:[".container[_ngcontent-%COMP%]{display:flex;font-family:Raleway;background-color:#fff;box-shadow:4px 8px 28px 0 #d3dceb;position:relative}.container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .bg-hands[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:40px}.container[_ngcontent-%COMP%]   .bg-hands[_ngcontent-%COMP%]{object-fit:cover}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:40px}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:285px;top:260px}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:140px;color:#fff;text-shadow:2px 2px #000}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:430px;left:160px;text-align:center}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:25px;color:#fff}.container[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:70%;border-top-left-radius:40px;border-top-right-radius:40px;position:absolute}.container[_ngcontent-%COMP%]   .cover-bg[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:40px;background-image:linear-gradient(180deg,#ffffffa2,#568cf7)}.container[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{position:relative;top:235px;width:330px;height:330px;background-color:#fff;border-radius:50%;z-index:10;left:207px}.container[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:15px;top:15px;object-fit:cover;width:300px;height:300px;border-radius:50%;z-index:10}.container[_ngcontent-%COMP%]   .bg-sub[_ngcontent-%COMP%]{-webkit-clip-path:polygon(49% 53%,69% 70%,100% 70%,100% 100%,0 100%,0 70%,31% 70%);clip-path:polygon(49% 53%,69% 70%,100% 70%,100% 100%,0 100%,0 70%,31% 70%)}.container[_ngcontent-%COMP%]   .bg-sub[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;right:0;border-bottom-left-radius:40px;border-top-right-radius:40px;border-bottom-right-radius:40px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{z-index:0;-webkit-clip-path:polygon(50% 50%,70% 68.5%,100% 68.5%,100% 100%,0 100%,0 68.5%,30% 68.5%);clip-path:polygon(50% 50%,70% 68.5%,100% 68.5%,100% 100%,0 100%,0 68.5%,30% 68.5%);background-color:#fff}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:50%;height:100%}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .ins[_ngcontent-%COMP%]{width:350px;position:absolute;font-size:25px;font-weight:700;bottom:120px;left:20px}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .ins[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#3275f7}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:610px;height:80px;bottom:20px;position:absolute;font-size:60px;font-weight:700;z-index:5;left:20px;word-wrap:break-word;text-shadow:3px 3px #3275f7}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#fff;outline:none;border:none;height:45px;background-color:#3275f7;cursor:pointer;border-radius:10px;font-size:15px;bottom:115px;position:absolute}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:9px}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .abort-friend[_ngcontent-%COMP%]{font-weight:600;font-family:Raleway;background-color:#fff;color:#3275f7;right:163px;width:140px;border:2px solid #3275f7}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]{font-weight:600;font-family:Raleway;background-color:#3275f7;color:#fff;right:20px;width:130px;border:1px solid #3275f7}"]}),t})();function U_(t,e){1&t&&(i.TgZ(0,"div",1),i._UZ(1,"img",2),i.TgZ(2,"div",3),i.TgZ(3,"div",4),i._UZ(4,"i",5),i.qZA(),i.TgZ(5,"div",6),i.TgZ(6,"span"),i._uU(7,"H\xe3y k\u1ebft b\u1ea1n \u0111\u1ec3 c\xf3 th\xeam nhi\u1ec1u ni\u1ec1m vui."),i.qZA(),i.qZA(),i.qZA(),i.qZA())}function B_(t,e){if(1&t&&(i.TgZ(0,"div",27),i.TgZ(1,"span"),i._uU(2),i.TgZ(3,"span",28),i._uU(4),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.oxw(2);i.xp6(2),i.hij("",t.addInfor.getAllNotName()," "),i.xp6(2),i.Oqu(t.addInfor.getNameLast())}}function j_(t,e){if(1&t&&(i.TgZ(0,"div",29),i.TgZ(1,"span"),i._uU(2),i.qZA(),i.qZA()),2&t){const t=i.oxw(2);i.s9C("matTooltip",t.addInfor.name),i.xp6(2),i.hij("",t.addInfor.getNameLimitAddProfile()," ")}}function z_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",30),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(2);return e.onClickUndoAddFriends(e.addInfor,0)}),i.TgZ(1,"div",31),i._UZ(2,"i",32),i.qZA(),i.qZA()}}function V_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",33),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(2);return e.onClickAddFriends(e.addInfor,0)}),i.TgZ(1,"div",31),i._UZ(2,"i",34),i.qZA(),i.qZA()}}function H_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"div",7),i._UZ(2,"img",8),i.TgZ(3,"div",9),i._uU(4),i.qZA(),i.TgZ(5,"div",10),i._uU(6),i.qZA(),i.TgZ(7,"div",11),i._uU(8),i.qZA(),i.TgZ(9,"div",12),i._UZ(10,"i",13),i.qZA(),i.TgZ(11,"div",14),i._UZ(12,"i",13),i.qZA(),i.TgZ(13,"div",15),i.TgZ(14,"div",16),i.TgZ(15,"div",17),i._UZ(16,"img",18),i.YNc(17,B_,5,2,"div",19),i.YNc(18,j_,3,2,"div",20),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(19,"div",21),i.YNc(20,z_,3,0,"div",22),i.YNc(21,V_,3,0,"div",23),i.TgZ(22,"div",24),i.NdJ("click",function(){i.CHM(t);const e=i.oxw();return e.onClickMessage(e.addInfor.id)}),i.TgZ(23,"div",25),i._UZ(24,"i",26),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(2),i.Q6J("src",t.addInfor.img||"assets/images/loading.gif",i.LSH),i.xp6(2),i.Oqu(t.addInfor.getFirstName()),i.xp6(2),i.Oqu(t.addInfor.getFirstName()),i.xp6(2),i.Oqu(t.addInfor.getNameLast()),i.xp6(8),i.Q6J("src",t.addInfor.img||"assets/images/loading.gif",i.LSH),i.xp6(1),i.Q6J("ngIf",!t.addInfor.checkLimitNameAddProfile()),i.xp6(1),i.Q6J("ngIf",t.addInfor.checkLimitNameAddProfile()),i.xp6(2),i.Q6J("ngIf","thu_hoi"==t.addInfor.checkAddOrUndo),i.xp6(1),i.Q6J("ngIf","them"==t.addInfor.checkAddOrUndo)}}let G_=(()=>{class t{constructor(t,e,n,i,r,o){this.contactsService=t,this.router=e,this.friendsPageService=n,this.requestListService=i,this.sendsListService=r,this.addListService=o}ngOnInit(){this.getFriendFromFriendsRequestAdd()}ngOnDestroy(){this.valueFromChildSubscription.unsubscribe()}getFriendFromFriendsRequestAdd(){let t;this.addInfor=new g_,this.addInfor.id=1,this.valueFromChildSubscription=this.contactsService.addInforService.subscribe(e=>{null==e||null==e.id?this.addInfor.id=1:(t=e.id,this.addListService.getInforAddFriends(e.id).on("value",n=>{t==n.key&&(null!=n.val()?(this.addInfor.id=e.id,this.addInfor.img=n.val().link_hinh,this.addInfor.name=n.val().ten,this.addInfor.checkAddOrUndo=e.addOrUndo):(this.router.navigate(["/**"]),this.contactsService.setFriendInforService(null)))}))})}onClickAddFriends(t,e){console.log(this.friendsPageService.saveAddList);let n,i=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(this.friendsPageService.addList.length>0){this.friendsPageService.addList.forEach((e,i)=>{e.id==t.id&&(n=i,e.checkAddOrUndo="thu_hoi")});let e=!1;this.friendsPageService.saveAddList.forEach(i=>{i.id==t.id&&(i.checkAddOrUndo=this.friendsPageService.addList[n].checkAddOrUndo,e=!0)}),e||this.friendsPageService.saveAddList.push({id:t.id,checkAddOrUndo:this.friendsPageService.addList[n].checkAddOrUndo})}this.requestListService.acceptRequestService(t.id,i).update({ngay_tao:Number(new Date),ton_tai:0}),this.sendsListService.editSendService(t.id,i).update({ngay_tao:Number(new Date),ton_tai:0}),this.addInfor.checkAddOrUndo="thu_hoi"}onClickUndoAddFriends(t,e){let n,i=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(this.friendsPageService.addList.length>0){this.friendsPageService.addList.forEach((e,i)=>{e.id==t.id&&(n=i,e.checkAddOrUndo="them")});let e=!1;this.friendsPageService.saveAddList.forEach(i=>{i.id==t.id&&(i.checkAddOrUndo=this.friendsPageService.addList[n].checkAddOrUndo,e=!0)}),e||this.friendsPageService.saveAddList.push({id:t.id,checkAddOrUndo:this.friendsPageService.addList[n].checkAddOrUndo})}this.requestListService.acceptRequestService(t.id,i).update({ton_tai:1}),this.sendsListService.editSendService(t.id,i).update({ton_tai:1}),this.addInfor.checkAddOrUndo="them"}onClickMessage(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.requestListService.getMembersConversation().once("value",n=>{let i=[];this.requestListService.getGroupChat().once("value",r=>{if(null!=r.val()&&r.forEach(t=>{0==t.val().ton_tai&&i.push(t.key)}),null!=n.val()){let r=!1;if(n.forEach(n=>{let o=[];null!=n.val()&&n.forEach(t=>{o.push({id:t.key,status:t.val().trang_thai})}),(o[0].id==t&&o[1].id==e||o[0].id==e&&o[1].id==t&&!i.includes(n.key))&&(this.requestListService.updateMembersConversation(n.key,e).update({trang_thai:"khong_cho"}),r=!0,setTimeout(()=>{this.router.navigate(["/bessenger/tin-nhan/"+n.key])},500))}),!r){let n=this.requestListService.getKindConversation().push();n.update({bieu_tuong_cam_xuc:"khong",loai_cuoc_tro_truyen:"don",mau:"#3275f7"}),this.requestListService.getMembersConversation().child(n.key).child(e).update({ngay_tham_gia:Number(new Date),trang_thai:"khong_cho"}),this.requestListService.getMembersConversation().child(n.key).child(t).update({ngay_tham_gia:Number(new Date),trang_thai:"cho"}),setTimeout(()=>{this.router.navigate(["/bessenger/tin-nhan/"+n.key])},500)}}})})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(m_),i.Y36(Ar),i.Y36(f_),i.Y36(v_),i.Y36(b_),i.Y36(x_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-profile-add"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[1,"container"],["src","assets/images/list-friends-friends-page/add-friends.jpg","alt","",1,"bg-hands"],[1,"bg-title"],[1,"icon"],[1,"fas","fa-user-plus"],[1,"title"],[1,"top"],["alt","",1,"bg-top",3,"src"],[1,"name-opacity"],[1,"name-bg-1"],[1,"name-bg-2"],[1,"left-circle","tai-tho"],[1,"fas","fa-caret-up"],[1,"right-circle","tai-tho"],[1,"circle-1"],[1,"circle-2"],[1,"circle-3"],["alt","",1,"avt",3,"src"],["class","name",4,"ngIf"],["matTooltipClass","tooltip","class","name",3,"matTooltip",4,"ngIf"],[1,"bottom"],["matTooltip","Thu h\u1ed3i","matTooltipClass","tooltip","class","add-f bot-circle",3,"click",4,"ngIf"],["matTooltip","Th\xeam b\u1ea1n","matTooltipClass","tooltip","class","add-f bot-circle",3,"click",4,"ngIf"],["matTooltip","Nh\u1eafn tin","matTooltipClass","tooltip",1,"message","bot-circle",3,"click"],[1,"content-message","circle"],[1,"fas","fa-comment"],[1,"name"],[1,"ten"],["matTooltipClass","tooltip",1,"name",3,"matTooltip"],["matTooltip","Thu h\u1ed3i","matTooltipClass","tooltip",1,"add-f","bot-circle",3,"click"],[1,"content-add","circle"],[1,"fas","fa-undo"],["matTooltip","Th\xeam b\u1ea1n","matTooltipClass","tooltip",1,"add-f","bot-circle",3,"click"],[1,"fas","fa-plus"]],template:function(t,e){1&t&&(i.YNc(0,U_,8,0,"div",0),i.YNc(1,H_,25,9,"div",0)),2&t&&(i.Q6J("ngIf",1==e.addInfor.id),i.xp6(1),i.Q6J("ngIf",1!=e.addInfor.id))},directives:[D,Sh],styles:[".container[_ngcontent-%COMP%]{display:flex;font-family:Raleway;background-color:#fff;box-shadow:4px 8px 28px 0 #d3dceb}.container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .bg-hands[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:40px}.container[_ngcontent-%COMP%]   .bg-hands[_ngcontent-%COMP%]{object-fit:cover}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:40px}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:292px;top:260px}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:140px;color:#fff}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:430px;left:130px;text-align:center}.container[_ngcontent-%COMP%]   .bg-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:25px;color:#fff}.container[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:40px}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{height:70%;background-image:linear-gradient(#bfd1f5,#3275f7);position:relative}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .bg-top[_ngcontent-%COMP%]{width:100%;border-bottom-right-radius:80%;border-bottom-left-radius:80%}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .bg-top[_ngcontent-%COMP%]{object-fit:cover;opacity:.2;height:100%;filter:blur(5px)}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .name-opacity[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;font-size:192px;font-weight:700;background:-webkit-linear-gradient(hsla(0,0%,100%,.79),rgba(123,155,221,.8));-webkit-background-clip:text;-webkit-text-fill-color:transparent;opacity:.5;position:absolute;top:70px}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .name-bg-1[_ngcontent-%COMP%]{max-width:98%;overflow:hidden;font-size:180px;font-weight:700;color:hsla(0,0%,100%,.8);position:absolute;top:150px}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .name-bg-2[_ngcontent-%COMP%]{max-width:97%;overflow:hidden;font-size:260px;font-weight:700;background:-webkit-linear-gradient(#dae0ec,rgba(50,116,247,.8));-webkit-background-clip:text;-webkit-text-fill-color:transparent;position:absolute;top:360px}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .tai-tho[_ngcontent-%COMP%]{width:120px;height:200px;border:10px solid #fff;background-color:#5f92f7;border-top-left-radius:100px;border-top-right-radius:100px;text-align:center;justify-content:center;position:absolute}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .tai-tho[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:100px;color:#fff}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .left-circle[_ngcontent-%COMP%]{top:100px;left:130px;transform:rotate(-40deg)}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .right-circle[_ngcontent-%COMP%]{top:100px;right:130px;transform:rotate(40deg)}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .circle-1[_ngcontent-%COMP%]{width:520px;height:520px;border-radius:50%;background-color:hsla(0,0%,100%,.2);position:absolute;top:140px;left:102px;text-align:center;justify-content:center;align-self:center}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .circle-1[_ngcontent-%COMP%]   .circle-2[_ngcontent-%COMP%]{width:480px;height:480px;border-radius:50%;background-color:hsla(0,0%,100%,.6);position:absolute;top:20px;left:20px}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .circle-1[_ngcontent-%COMP%]   .circle-2[_ngcontent-%COMP%]   .circle-3[_ngcontent-%COMP%]{width:450px;height:450px;border-radius:50%;background-color:#fff;position:absolute;top:15px;left:15px}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .circle-1[_ngcontent-%COMP%]   .circle-2[_ngcontent-%COMP%]   .circle-3[_ngcontent-%COMP%]   .avt[_ngcontent-%COMP%]{width:440px;height:440px;object-fit:cover;border-radius:50%;position:absolute;top:5px;left:5px}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .circle-1[_ngcontent-%COMP%]   .circle-2[_ngcontent-%COMP%]   .circle-3[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:250px;height:40px;background-color:#0e0c0c;position:absolute;bottom:0;left:100px;border-radius:30px;display:flex}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .circle-1[_ngcontent-%COMP%]   .circle-2[_ngcontent-%COMP%]   .circle-3[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:25px;font-weight:700;margin:auto}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .circle-1[_ngcontent-%COMP%]   .circle-2[_ngcontent-%COMP%]   .circle-3[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .ten[_ngcontent-%COMP%]{color:#3275f7}.container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{width:70%;position:absolute;height:50px;bottom:0;left:15%;border-top-left-radius:30px;border-top-right-radius:30px;background-color:#0e0c0c}.container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .bot-circle[_ngcontent-%COMP%]{position:absolute;width:60px;height:60px;border-radius:50%;background-color:#fff;top:-30px;box-shadow:0 0 10px 0 #acb0b4;cursor:pointer}.container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .bot-circle[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;position:absolute;top:5px;left:5px;background-color:#3275f7}.container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .bot-circle[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:13px;top:12px;font-size:25px;color:#fff}.container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .add-f[_ngcontent-%COMP%]{left:150px}.container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .add-f[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:13px;left:14px}.container[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{right:150px}"]}),t})();class Y_{constructor(){this.mutualFriends=0}checkLimitNameOfferList(){return null!=this.name&&this.name.length>10}getNameLimitOfferList(){if(null!=this.name){let t=this.name;return t.length>10&&(t=this.name.substring(0,9).trim(),t+="..."),t}return""}checkLimitNameMutualOffer(){return null!=this.name&&this.name.length>30}getNameLimitMutualOffer(){if(null!=this.name){let t=this.name;return t.length>30&&(t=this.name.substring(0,29).trim(),t+="..."),t}return""}dateAddFormatMutualOffer(){if(null!=this.date){let t,e=new Date(this.date).toString().split(" "),n=e[2],i=e[3],r=e[4];switch(e[1]){case"Jan":t="M\u1ed9t";break;case"Feb":t="Hai";break;case"Mar":t="Ba";break;case"Apr":t="B\u1ed1n";break;case"May":t="N\u0103m";break;case"Jun":t="S\xe1u";break;case"Jul":t="B\u1ea3y";break;case"Aug":t="T\xe1m";break;case"Sep":t="Ch\xedn";break;case"Oct":t="M\u01b0\u1eddi";break;case"Nov":t="M\u01b0\u1eddi M\u1ed9t";break;case"Dec":t="M\u01b0\u1eddi Hai"}return n+" Th\xe1ng "+t+" "+i+" - "+r}return""}getNameLast(){if(null!=this.name){let t=this.name.trim().split(" ");return 0==t.length?t[0]:t[t.length-1].toUpperCase()}return""}getFirstName(){return null!=this.name?this.name.trim().split(" ")[0].toUpperCase():""}getAllNotName(){if(null!=this.name){let t=this.name.trim().split(" "),e="";for(let n=0;n<t.length-1;n++)e+=t[n];return e.toUpperCase()}return""}checkLimitNameOfferProfile(){return null!=this.name&&this.name.length>13}getNameLimitOfferProfile(){if(null!=this.name){let t=this.name;return t.length>13&&(t=this.name.substring(0,12).trim(),t+="..."),t}return""}}let J_=(()=>{class t{constructor(t){this.db=t}getListOfferInforByID(t){let e=new Y_;return this.db.database.ref("tai_khoan").child(t).on("value",n=>{e.id=t,e.img=n.val().link_hinh,e.name=n.val().ten,e.sex=n.val().gioi_tinh,e.date=n.val().ngay_tao}),e}getInforOfferFriends(t){return this.db.database.ref("tai_khoan").child(t)}getAllAccount(){return this.db.database.ref("tai_khoan")}getListFriendsByIDUser(t){return this.db.database.ref("ban_be").child(t)}getRequestInforByIDUser(t){return this.db.database.ref("loi_moi_ket_ban").child(t)}getSendInforByIDUser(t){return this.db.database.ref("da_gui_ket_ban").child(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Q_(t,e){1&t&&(i.TgZ(0,"div",1),i.TgZ(1,"div",2),i._UZ(2,"img",3),i.TgZ(3,"div",4),i._UZ(4,"i",5),i.qZA(),i.TgZ(5,"div",6),i.TgZ(6,"span"),i._uU(7,"H\xe3y ch\u1ecdn t\xean c\u1ee7a ng\u01b0\u1eddi m\xe0 b\u1ea1n mu\u1ed1n xem trang c\xe1 nh\xe2n."),i.qZA(),i.qZA(),i.qZA(),i.qZA())}function $_(t,e){if(1&t&&(i.TgZ(0,"div",21),i.TgZ(1,"span",22),i._uU(2),i.qZA(),i.qZA()),2&t){const t=i.oxw(2);i.xp6(2),i.Oqu(t.offerInfor.name)}}function W_(t,e){if(1&t&&(i.TgZ(0,"div",23),i.TgZ(1,"span",22),i._uU(2),i.qZA(),i.qZA()),2&t){const t=i.oxw(2);i.s9C("matTooltip",t.offerInfor.name),i.xp6(2),i.Oqu(t.offerInfor.getNameLimitOfferProfile())}}function K_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",24),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(2);return e.onClickAddFriends(e.offerInfor,0)}),i.TgZ(1,"div",25),i._UZ(2,"i",26),i.qZA(),i.qZA()}}function X_(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",27),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(2);return e.onClickUndoAddFriends(e.offerInfor,0)}),i.TgZ(1,"div",25),i._UZ(2,"i",28),i.qZA(),i.qZA()}}function tm(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i._UZ(1,"img",7),i.TgZ(2,"div",8),i.TgZ(3,"span"),i._uU(4,"Xin Ch\xe0o !"),i.qZA(),i.qZA(),i.TgZ(5,"div",9),i._UZ(6,"div",10),i.qZA(),i._UZ(7,"div",11),i.TgZ(8,"div",12),i._uU(9,"Bessenger"),i.qZA(),i._UZ(10,"img",13),i.YNc(11,$_,3,1,"div",14),i.YNc(12,W_,3,2,"div",15),i.YNc(13,K_,3,0,"div",16),i.YNc(14,X_,3,0,"div",17),i.TgZ(15,"div",18),i.NdJ("click",function(){i.CHM(t);const e=i.oxw();return e.onClickMessage(e.offerInfor.id)}),i.TgZ(16,"div",19),i._UZ(17,"i",20),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("src",t.offerInfor.img||"assets/images/loading.gif",i.LSH),i.xp6(10),i.Q6J("ngIf",!t.offerInfor.checkLimitNameOfferProfile()),i.xp6(1),i.Q6J("ngIf",t.offerInfor.checkLimitNameOfferProfile()),i.xp6(1),i.Q6J("ngIf","them"==t.offerInfor.checkAddOrUndo),i.xp6(1),i.Q6J("ngIf","thu_hoi"==t.offerInfor.checkAddOrUndo)}}let em=(()=>{class t{constructor(t,e,n,i,r,o){this.friendsPageService=t,this.contactsService=e,this.router=n,this.requestListService=i,this.sendsListService=r,this.offersListService=o}ngOnInit(){this.getFriendFromFriendsRequestAdd()}ngOnDestroy(){this.valueFromChildSubscription.unsubscribe()}getFriendFromFriendsRequestAdd(){let t;this.offerInfor=new Y_,this.offerInfor.id=1,this.valueFromChildSubscription=this.contactsService.offerInforService.subscribe(e=>{null==e||null==e.id?this.offerInfor.id=1:(t=e.id,this.offersListService.getInforOfferFriends(e.id).on("value",n=>{t==n.key&&(null!=n.val()?(this.offerInfor.id=e.id,this.offerInfor.img=n.val().link_hinh,this.offerInfor.name=n.val().ten,this.offerInfor.checkAddOrUndo=e.addOrUndo):(this.router.navigate(["/**"]),this.contactsService.setFriendInforService(null)))}))})}onClickMessage(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.requestListService.getMembersConversation().once("value",n=>{let i=[];this.requestListService.getGroupChat().once("value",r=>{if(null!=r.val()&&r.forEach(t=>{0==t.val().ton_tai&&i.push(t.key)}),null!=n.val()){let r=!1;if(n.forEach(n=>{let o=[];null!=n.val()&&n.forEach(t=>{o.push({id:t.key,status:t.val().trang_thai})}),(o[0].id==t&&o[1].id==e||o[0].id==e&&o[1].id==t&&!i.includes(n.key))&&(this.requestListService.updateMembersConversation(n.key,e).update({trang_thai:"khong_cho"}),r=!0,setTimeout(()=>{this.router.navigate(["/bessenger/tin-nhan/"+n.key])},500))}),!r){let n=this.requestListService.getKindConversation().push();n.update({bieu_tuong_cam_xuc:"khong",loai_cuoc_tro_truyen:"don",mau:"#3275f7"}),this.requestListService.getMembersConversation().child(n.key).child(e).update({ngay_tham_gia:Number(new Date),trang_thai:"khong_cho"}),this.requestListService.getMembersConversation().child(n.key).child(t).update({ngay_tham_gia:Number(new Date),trang_thai:"cho"}),setTimeout(()=>{this.router.navigate(["/bessenger/tin-nhan/"+n.key])},500)}}})})}onClickAddFriends(t,e){let n,i=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(this.friendsPageService.offerList.length>0){this.friendsPageService.offerList.forEach((e,i)=>{e.id==t.id&&(n=i,e.checkAddOrUndo="thu_hoi")});let e=!1;this.friendsPageService.saveOfferList.forEach(i=>{i.id==t.id&&(i.checkAddOrUndo=this.friendsPageService.offerList[n].checkAddOrUndo,e=!0)}),e||this.friendsPageService.saveOfferList.push({id:t.id,checkAddOrUndo:this.friendsPageService.offerList[n].checkAddOrUndo})}this.requestListService.acceptRequestService(t.id,i).update({ngay_tao:Number(new Date),ton_tai:0}),this.sendsListService.editSendService(t.id,i).update({ngay_tao:Number(new Date),ton_tai:0}),this.offerInfor.checkAddOrUndo="thu_hoi"}onClickUndoAddFriends(t,e){let n,i=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));if(this.friendsPageService.offerList.length>0){this.friendsPageService.offerList.forEach((e,i)=>{e.id==t.id&&(n=i,e.checkAddOrUndo="them")});let e=!1;this.friendsPageService.saveOfferList.forEach(i=>{i.id==t.id&&(i.checkAddOrUndo=this.friendsPageService.offerList[n].checkAddOrUndo,e=!0)}),e||this.friendsPageService.saveOfferList.push({id:t.id,checkAddOrUndo:this.friendsPageService.offerList[n].checkAddOrUndo})}this.requestListService.acceptRequestService(t.id,i).update({ton_tai:1}),this.sendsListService.editSendService(t.id,i).update({ton_tai:1}),this.offerInfor.checkAddOrUndo="them"}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(f_),i.Y36(m_),i.Y36(Ar),i.Y36(v_),i.Y36(b_),i.Y36(J_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-profile-offer"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"content"],["src","assets/images/list-friends-friends-page/holdhands.jpg","alt","",1,"bg-hands"],[1,"icon"],[1,"far","fa-user-circle"],[1,"title"],["alt","",1,"bg",3,"src"],[1,"profile"],[1,"circle-top","circle"],[1,"content-circle-top","circle-content"],[1,"line"],[1,"name-line"],["src","assets/images/icon.ico","alt","",1,"icon-bess"],["class","name",4,"ngIf"],["matTooltipClass","tooltip","class","name",3,"matTooltip",4,"ngIf"],["matTooltip","Th\xeam b\u1ea1n","matTooltipClass","tooltip","class","circle-add circle-event",3,"click",4,"ngIf"],["matTooltip","Thu h\u1ed3i","matTooltipClass","tooltip","class","circle-add circle-event",3,"click",4,"ngIf"],["matTooltip","Nh\u1eafn tin","matTooltipClass","tooltip",1,"circle-message","circle-event",3,"click"],[1,"message","event"],[1,"fas","fa-comment"],[1,"name"],[1,"name-content"],["matTooltipClass","tooltip",1,"name",3,"matTooltip"],["matTooltip","Th\xeam b\u1ea1n","matTooltipClass","tooltip",1,"circle-add","circle-event",3,"click"],[1,"add","event"],[1,"fas","fa-plus"],["matTooltip","Thu h\u1ed3i","matTooltipClass","tooltip",1,"circle-add","circle-event",3,"click"],[1,"fas","fa-undo"]],template:function(t,e){1&t&&(i.YNc(0,Q_,8,0,"div",0),i.YNc(1,tm,18,5,"div",0)),2&t&&(i.Q6J("ngIf",1==e.offerInfor.id),i.xp6(1),i.Q6J("ngIf",1!=e.offerInfor.id))},directives:[D,Sh],styles:[".container[_ngcontent-%COMP%]{font-family:Raleway;background-color:#fff;box-shadow:4px 8px 28px 0 #d3dceb;position:relative}.container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .bg-hands[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:40px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .bg-hands[_ngcontent-%COMP%]{object-fit:cover}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:292px;top:260px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:140px;color:#fff}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:430px;left:20px;text-align:center}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:25px;color:#fff}.container[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;border-radius:40px}.container[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{width:300px;height:40px;background-color:#fff;position:absolute;top:0;background-color:rgba(0,0,0,.1);border-bottom:2px solid #fff;border-left:2px solid #fff;border-right:2px solid #fff;border-radius:20px;left:212px;text-align:center}.container[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;margin-top:8px;display:block;font-weight:700;font-size:20px}.container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#fff;position:absolute;top:30px;left:20px}.container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .circle-content[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#3275f7;border-radius:50%;position:absolute;top:5px;left:5px}.container[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:3px;height:300px;background-color:#fff;position:absolute;border-radius:20px;top:80px;left:38.5px}.container[_ngcontent-%COMP%]   .name-line[_ngcontent-%COMP%]{font-size:15px;color:#fff;font-weight:700;position:absolute;top:420px;transform:rotate(90deg);left:3px}.container[_ngcontent-%COMP%]   .icon-bess[_ngcontent-%COMP%]{width:30px;height:30px;object-fit:cover;position:absolute;top:480px;transform:rotate(90deg);left:25px}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:400px;height:50px;background-color:#0e0c0c;position:absolute;bottom:100px;text-align:center;border-radius:40px;left:162px}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:13px;display:block;color:#fff;font-size:20px;font-weight:700}.container[_ngcontent-%COMP%]   .circle-event[_ngcontent-%COMP%]{width:60px;height:60px;background-color:#fff;border-radius:50%;position:absolute;bottom:120px;cursor:pointer;box-shadow:0 0 10px 0 #acb0b4}.container[_ngcontent-%COMP%]   .circle-event[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#3275f7;position:absolute;top:5px;left:5px}.container[_ngcontent-%COMP%]   .circle-event[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:25px;position:absolute;top:13px;left:12px}.container[_ngcontent-%COMP%]   .circle-add[_ngcontent-%COMP%]{left:200px}.container[_ngcontent-%COMP%]   .circle-add[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:14px}.container[_ngcontent-%COMP%]   .circle-message[_ngcontent-%COMP%]{right:200px}"]}),t})();function nm(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",36),i.TgZ(1,"main",37),i.NdJ("animationCreated",function(e){return i.CHM(t),i.oxw().friendsPageService.animationCreated(e)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("options",t.friendsPageService.options)}}function im(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"input",38,39),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(1);return i.oxw().searchFriends(e.value)}),i.qZA()}}function rm(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"input",38,40),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(1);return i.oxw().searchRequest(e.value)}),i.qZA()}}function om(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"input",38,41),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(1);return i.oxw().searchSends(e.value)}),i.qZA()}}function sm(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"input",42,43),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(1);return i.oxw().searchAddFriends(e.value)}),i.qZA()}if(2&t){const t=i.oxw();i.Q6J("value",t.friendsPageService.searchVal)}}function am(t,e){if(1&t&&(i.TgZ(0,"div",28),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.hij("",t.friendsPageService.getSizeFriends()," k\u1ebft qu\u1ea3 ")}}function cm(t,e){if(1&t&&(i.TgZ(0,"div",28),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.hij("",t.friendsPageService.getSizeRequest()," k\u1ebft qu\u1ea3 ")}}function lm(t,e){if(1&t&&(i.TgZ(0,"div",28),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.hij("",t.friendsPageService.getSizeSends()," k\u1ebft qu\u1ea3 ")}}function hm(t,e){if(1&t&&(i.TgZ(0,"div",28),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.hij("",t.friendsPageService.getSizeAdd()," k\u1ebft qu\u1ea3 ")}}function um(t,e){if(1&t&&(i.TgZ(0,"div",28),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.hij("",t.friendsPageService.getSizeOffer()," \u0111\u1ec1 xu\u1ea5t ")}}function dm(t,e){1&t&&i._UZ(0,"app-profile-friend")}function pm(t,e){1&t&&i._UZ(0,"app-profile-request")}function gm(t,e){1&t&&i._UZ(0,"app-profile-send")}function fm(t,e){1&t&&i._UZ(0,"app-profile-add")}function _m(t,e){1&t&&i._UZ(0,"app-profile-offer")}let mm=(()=>{class t{constructor(t,e,n,i,r,o,s,a,c){this.main_page_service=t,this.route=e,this.router=n,this.friendsPageService=i,this.cdr=r,this.contactsService=o,this.requestListService=s,this.sendsListService=a,this.addListService=c}ngAfterViewChecked(){this.cdr.detectChanges()}ngOnDestroy(){this.valueFromChildSubscription.unsubscribe()}ngOnInit(){setTimeout(()=>{this.main_page_service.reset(),this.main_page_service.selectFriendsPage()},0),this.getSelectedFriendsPage(),this.friendsPageService.saveAddList=[],this.friendsPageService.saveOfferList=[]}getSelectedFriendsPage(){this.valueFromChildSubscription=this.friendsPageService.friendsDefault.subscribe(t=>{this.friendsPageDefautl=t,this.onClickMenu(this.friendsPageDefautl)})}onClickMenu(t){const e=document.getElementById("btn-friends"),n=document.getElementById("btn-request"),i=document.getElementById("btn-send"),r=document.getElementById("btn-add-friends"),o=document.getElementById("btn-offers"),s=document.getElementById("icon_f"),a=document.getElementById("icon_r"),c=document.getElementById("icon_s"),l=document.getElementById("icon_add"),h=document.getElementById("icon_offers");0===t?(e.style.cssText="background-color: #3275f7;color: white;",s.style.color="white",n.style.cssText="background-color: white;color: black;",a.style.color="rgb(136, 133, 133)",i.style.cssText="background-color: white;color: black;",c.style.color="rgb(136, 133, 133)",r.style.backgroundColor="white",l.style.color="#888585",o.style.backgroundColor="white",h.style.color="#888585"):1===t?(e.style.cssText="background-color: white;color: black;",s.style.color="rgb(136, 133, 133)",n.style.cssText="background-color: #3275f7;color: white;",a.style.color="white",i.style.cssText="background-color: white; color: black;",c.style.color="rgb(136, 133, 133)",r.style.backgroundColor="white",l.style.color="#888585",o.style.backgroundColor="white",h.style.color="#888585"):2==t?(e.style.cssText="background-color: white; color: black;",s.style.color="rgb(136, 133, 133)",n.style.cssText="background-color: white; color: black;",a.style.color="rgb(136, 133, 133)",i.style.cssText="background-color: #3275f7; color: white;",c.style.color="white",r.style.backgroundColor="white",l.style.color="#888585",o.style.backgroundColor="white",h.style.color="#888585"):3==t?(e.style.cssText="background-color: white; color: black;",s.style.color="rgb(136, 133, 133)",n.style.cssText="background-color: white; color: black;",a.style.color="rgb(136, 133, 133)",i.style.cssText="background-color: white; color: black;",c.style.color="rgb(136, 133, 133)",r.style.backgroundColor="#3275f7",l.style.color="white",o.style.backgroundColor="white",h.style.color="#888585"):(e.style.cssText="background-color: white; color: black;",s.style.color="rgb(136, 133, 133)",n.style.cssText="background-color: white; color: black;",a.style.color="rgb(136, 133, 133)",i.style.cssText="background-color: white; color: black;",c.style.color="rgb(136, 133, 133)",r.style.backgroundColor="white",l.style.color="#888585",o.style.backgroundColor="#3275f7",h.style.color="white")}moveToFriends(){0!=this.friendsPageDefautl&&(this.router.navigate(["lien-lac/"],{relativeTo:this.route}),this.friendsPageService.selectedFriendsPageDefaultSerivce(),this.contactsService.setFriendInforService(null))}moveToRequest(){1!=this.friendsPageDefautl&&(this.router.navigate(["loi-moi/"],{relativeTo:this.route}),this.friendsPageService.selectedRequestService(),this.contactsService.setFriendInforService(null))}moveToSend(){2!=this.friendsPageDefautl&&(this.router.navigate(["da-gui/"],{relativeTo:this.route}),this.friendsPageService.selectedSendService(),this.contactsService.setFriendInforService(null))}moveToAddFriends(){3!=this.friendsPageDefautl&&(this.router.navigate(["them-ban/"],{relativeTo:this.route}),this.friendsPageService.selectedAddFriendsService(),this.contactsService.setAddInforService(null,null),this.searchAddFriends(""))}moveToOfferFriends(){4!=this.friendsPageDefautl&&(this.router.navigate(["de-xuat/"],{relativeTo:this.route}),this.friendsPageService.selectedOffersFriendsService(),this.contactsService.setOfferInforService(null,null))}onClickNonAcceptUnFriend(){this.friendsPageService.setIDUnFriend(""),this.friendsPageService.setNameUnFriend("")}sendFriendToProfile(t){this.contactsService.setFriendInforService(t)}onClickAcceptUnFriend(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.contactsService.unFriendByIDUser(this.friendsPageService.getIDUnFriend(),t).update({ton_tai:1}),this.contactsService.unFriendByIDUser(t,this.friendsPageService.getIDUnFriend()).update({ton_tai:1}),this.router.navigate(["/bessenger/ban-be/lien-lac/"]),this.sendFriendToProfile(null),this.friendsPageService.setIDUnFriend(""),this.friendsPageService.setNameUnFriend("")}searchFriends(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.friendsPageService.friendsList=[],this.contactsService.getListIDFriendsByIDUser(e).on("value",n=>{this.friendsPageService.friendsList=[],null!=n.val()&&(n.forEach(e=>{if(0==e.val().ton_tai){let n=this.contactsService.getListFriendsInforByIDFriends(e.key);null!=n&&n.name.toLowerCase().trim().includes(t.toLowerCase().trim())&&this.friendsPageService.friendsList.push(n)}}),this.friendsPageService.setSizeFriends(this.friendsPageService.friendsList.length),n.forEach(t=>{let n=0;this.contactsService.getListIDFriendsByIDUser(t.key).on("value",t=>{setTimeout(()=>{this.friendsPageService.setLoading(!0)},0),this.friendsPageService.sortFriendsListNameABC(),null!=t.val()&&(t.forEach(t=>{this.friendsPageService.friendsList.forEach(i=>{0==t.val().ton_tai&&t.key!=e&&t.key==i.id&&n++})}),this.friendsPageService.friendsList.forEach(e=>{e.id==t.key&&(e.mutualFriends=n)}),n=0),setTimeout(()=>{this.friendsPageService.setLoading(!1)},0)})})),0==this.friendsPageService.friendsList.length&&this.friendsPageService.setSizeFriends(0)})}searchRequest(t){let e=0,n=[],i=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.requestListService.getRequestInforByIDUser(i).on("value",r=>{this.contactsService.getListIDFriendsByIDUser(i).on("value",t=>{n=[],t.forEach(t=>{0==t.val().ton_tai&&n.push(t.key)})}),this.friendsPageService.requestList=[],r.forEach(i=>{if(0==i.val().ton_tai){let r=this.requestListService.getListRequestInforByIDRequest(i.key);r.dateRequest=i.val().ngay_tao,null!=r&&r.name.toLowerCase().trim().includes(t.toLowerCase().trim())&&(this.contactsService.getListIDFriendsByIDUser(i.key).on("value",t=>{t.forEach(t=>{n.forEach(n=>{0==t.val().ton_tai&&t.key==n&&e++})}),r.mutualFriends=e,e=0,this.friendsPageService.sortRequestListDate()}),this.friendsPageService.requestList.push(r),this.friendsPageService.sortRequestListDate())}}),this.friendsPageService.setSizeRequest(this.friendsPageService.requestList.length)})}searchSends(t){let e=0,n=[],i=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.sendsListService.getSendInforByIDUser(i).on("value",r=>{this.contactsService.getListIDFriendsByIDUser(i).on("value",t=>{n=[],t.forEach(t=>{0==t.val().ton_tai&&n.push(t.key)})}),this.friendsPageService.sendstList=[],r.forEach(i=>{if(0==i.val().ton_tai){let r=this.sendsListService.getListSendInforByIDSend(i.key);r.dateSend=i.val().ngay_tao,null!=r&&r.name.toLowerCase().trim().includes(t.toLowerCase().trim())&&(this.contactsService.getListIDFriendsByIDUser(i.key).on("value",t=>{t.forEach(t=>{n.forEach(n=>{0==t.val().ton_tai&&t.key==n&&e++})}),r.mutualFriends=e,e=0,this.friendsPageService.sortSendListDate()}),this.friendsPageService.sendstList.push(r),this.friendsPageService.sortSendListDate())}}),this.friendsPageService.setSizeSends(this.friendsPageService.sendstList.length)})}searchAddFriends(t){this.friendsPageService.searchVal=t;let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.addListService.getListFriendsByIDUser(e).on("value",t=>{setTimeout(()=>{this.friendsPageService.setLoading(!0)},0);let n=[];null!=t.val()&&(t.forEach(t=>{0==t.val().ton_tai&&n.push(t.key)}),this.addListService.getRequestInforByIDUser(e).once("value",t=>{let i=[];null!=t.val()&&t.forEach(t=>{0==t.val().ton_tai&&i.push(t.key)}),this.addListService.getSendInforByIDUser(e).once("value",t=>{let r=[];null!=t.val()&&t.forEach(t=>{0==t.val().ton_tai&&r.push(t.key)}),this.addListService.getAllAccount().on("value",t=>{null!=t.val()&&(this.friendsPageService.addList=[],t.forEach(t=>{if(t.key!=e&&t.val().ten.toLowerCase().trim().includes(this.friendsPageService.searchVal.toLowerCase().trim())&&!n.includes(t.key)&&!i.includes(t.key)&&!r.includes(t.key)&&""!=this.friendsPageService.searchVal.trim()){let e=new g_;e.id=t.key,e.name=t.val().ten,e.img=t.val().link_hinh,e.lastOnline=t.val().lan_cuoi_dang_nhap,e.checkAddOrUndo="them",0!=this.friendsPageService.saveAddList.length?this.friendsPageService.saveAddList.forEach(t=>{t.id==e.id&&(e.checkAddOrUndo=t.checkAddOrUndo)}):e.checkAddOrUndo="them",this.friendsPageService.addList.push(e)}}),this.friendsPageService.addList.forEach(t=>{this.addListService.getListFriendsByIDUser(t.id).on("value",e=>{let i=0;null!=e.val()&&(e.forEach(t=>{n.forEach(e=>{t.key==e&&0==t.val().ton_tai&&i++})}),0!=i&&(t.mutualFriends=i))})}),this.friendsPageService.sortMutualFriendsAdd(),this.friendsPageService.setSizeAdd(this.friendsPageService.addList.length))})})})),setTimeout(()=>{this.friendsPageService.setLoading(!1)},0)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(s_),i.Y36(li),i.Y36(Ar),i.Y36(f_),i.Y36(i.sBO),i.Y36(m_),i.Y36(v_),i.Y36(b_),i.Y36(x_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-friends-page"]],decls:58,vars:20,consts:[["class","loading",4,"ngIf"],[1,"container"],[1,"left"],[1,"search"],["type","text","placeholder","T\xecm ki\u1ebfm",3,"input",4,"ngIf"],[1,"fas","fa-search"],["type","text","placeholder","T\xecm ki\u1ebfm",3,"value","input",4,"ngIf"],[1,"menu"],["id","btn-friends",1,"btn-friends","btn-menu",3,"click"],["id","icon_f",1,"icon_f","fas","fa-users"],["id","text-f",1,"text_f"],["id","btn-request",1,"btn-request","btn-menu",3,"click"],["id","icon_r",1,"icon_r","fas","fa-question-circle"],["id","text-r",1,"text_r"],["id","btn-send",1,"btn-send","btn-menu",3,"click"],["id","icon_s",1,"icon_s","fas","fa-paper-plane"],["id","text-s",1,"text-s"],[1,"result"],["class","title",4,"ngIf"],["id","btn-offers","matTooltip","\u0110\u1ec1 xu\u1ea5t k\u1ebft b\u1ea1n","matTooltipClass","tooltip",1,"next","btn-offer",3,"click"],["id","icon_offers",1,"fas","fa-lightbulb"],["id","btn-add-friends","matTooltipClass","tooltip","matTooltip","Th\xeam b\u1ea1n",1,"next","btn-result",3,"click"],["id","icon_add",1,"fas","fa-user-plus"],[1,"right"],[4,"ngIf"],[1,"formYesNo"],[1,"formYesNoHidden"],[1,"content"],[1,"title"],[1,"fa","fa-cogs"],[1,"select"],[1,"title1"],[1,"title2"],[3,"click"],[1,"fa","fa-check"],[1,"fas","fa-times"],[1,"loading"],["lottie","",1,"anim",3,"options","animationCreated"],["type","text","placeholder","T\xecm ki\u1ebfm",3,"input"],["myinput",""],["myNameRequest",""],["myNameSends",""],["type","text","placeholder","T\xecm ki\u1ebfm",3,"value","input"],["myNameAddFriends",""]],template:function(t,e){1&t&&(i.YNc(0,nm,2,1,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.YNc(4,im,2,0,"input",4),i.YNc(5,rm,2,0,"input",4),i.YNc(6,om,2,0,"input",4),i._UZ(7,"i",5),i.YNc(8,sm,2,1,"input",6),i._UZ(9,"i",5),i.qZA(),i.TgZ(10,"div",7),i.TgZ(11,"div",8),i.NdJ("click",function(){return e.moveToFriends()})("click",function(){return e.onClickMenu(0)}),i._UZ(12,"i",9),i.TgZ(13,"span",10),i._uU(14," B\u1ea1n b\xe8 "),i.qZA(),i.qZA(),i.TgZ(15,"div",11),i.NdJ("click",function(){return e.moveToRequest()})("click",function(){return e.onClickMenu(1)}),i._UZ(16,"i",12),i.TgZ(17,"span",13),i._uU(18," L\u1eddi m\u1eddi "),i.qZA(),i.qZA(),i.TgZ(19,"div",14),i.NdJ("click",function(){return e.moveToSend()})("click",function(){return e.onClickMenu(2)}),i._UZ(20,"i",15),i.TgZ(21,"span",16),i._uU(22," \u0110\xe3 g\u1eedi "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(23,"div",17),i.YNc(24,am,2,1,"div",18),i.YNc(25,cm,2,1,"div",18),i.YNc(26,lm,2,1,"div",18),i.YNc(27,hm,2,1,"div",18),i.YNc(28,um,2,1,"div",18),i.TgZ(29,"div",19),i.NdJ("click",function(){return e.moveToOfferFriends()})("click",function(){return e.onClickMenu(4)}),i._UZ(30,"i",20),i.qZA(),i.TgZ(31,"div",21),i.NdJ("click",function(){return e.moveToAddFriends()})("click",function(){return e.onClickMenu(3)}),i._UZ(32,"i",22),i.qZA(),i.qZA(),i._UZ(33,"router-outlet"),i.qZA(),i.TgZ(34,"div",23),i.YNc(35,dm,1,0,"app-profile-friend",24),i.YNc(36,pm,1,0,"app-profile-request",24),i.YNc(37,gm,1,0,"app-profile-send",24),i.YNc(38,fm,1,0,"app-profile-add",24),i.YNc(39,_m,1,0,"app-profile-offer",24),i.qZA(),i.qZA(),i.TgZ(40,"div",25),i._UZ(41,"div",26),i.TgZ(42,"div",27),i.TgZ(43,"p",28),i._UZ(44,"i",29),i._uU(45," Bessenger "),i.qZA(),i.TgZ(46,"div",30),i.TgZ(47,"p",31),i._uU(48,"X\xf3a b\u1ea1n b\xe8"),i.qZA(),i.TgZ(49,"p",32),i._uU(50),i.qZA(),i.TgZ(51,"div"),i.TgZ(52,"p",33),i.NdJ("click",function(){return e.onClickAcceptUnFriend()}),i._uU(53,"C\xf3, ch\u1eafc ch\u1eafn "),i._UZ(54,"i",34),i.qZA(),i.TgZ(55,"span",33),i.NdJ("click",function(){return e.onClickNonAcceptUnFriend()}),i._uU(56,"Kh\xf4ng, suy ngh\u0129 th\xeam "),i._UZ(57,"i",35),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.Q6J("ngIf",e.friendsPageService.isLoadingProcess()),i.xp6(3),i.ekj("search-none",4===e.friendsPageDefautl),i.xp6(1),i.Q6J("ngIf",0===e.friendsPageDefautl),i.xp6(1),i.Q6J("ngIf",1===e.friendsPageDefautl),i.xp6(1),i.Q6J("ngIf",2===e.friendsPageDefautl),i.xp6(2),i.Q6J("ngIf",3===e.friendsPageDefautl),i.xp6(16),i.Q6J("ngIf",0===e.friendsPageDefautl),i.xp6(1),i.Q6J("ngIf",1===e.friendsPageDefautl),i.xp6(1),i.Q6J("ngIf",2===e.friendsPageDefautl),i.xp6(1),i.Q6J("ngIf",3===e.friendsPageDefautl),i.xp6(1),i.Q6J("ngIf",4===e.friendsPageDefautl),i.xp6(7),i.Q6J("ngIf",0===e.friendsPageDefautl),i.xp6(1),i.Q6J("ngIf",1===e.friendsPageDefautl),i.xp6(1),i.Q6J("ngIf",2===e.friendsPageDefautl),i.xp6(1),i.Q6J("ngIf",3===e.friendsPageDefautl),i.xp6(1),i.Q6J("ngIf",4===e.friendsPageDefautl),i.xp6(1),i.ekj("show-unfriend",""!=e.friendsPageService.getIDUnFriend()),i.xp6(10),i.hij("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn l\xe0 mu\u1ed1n h\u1ee7y k\u1ebft b\u1ea1n v\u1edbi ",e.friendsPageService.getNameUnFriend(),""))},directives:[D,Sh,Ir,Qt,Kt,T_,D_,q_,G_,em],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.unfriend[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;display:none;justify-content:center;align-items:center;top:0;left:0;font-family:Raleway}.unfriend[_ngcontent-%COMP%]   .unfriend-content[_ngcontent-%COMP%]{width:500px;height:160px;background-color:#fff;border-left:5px solid #3275f7;border-right:5px solid #3275f7;border-radius:10px;text-align:center}.unfriend[_ngcontent-%COMP%]   .unfriend-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;width:90%;margin:35px auto auto}.unfriend[_ngcontent-%COMP%]   .unfriend-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#3275f7}.unfriend[_ngcontent-%COMP%]   .unfriend-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100px;height:35px;border-radius:10px;background-color:#3275f7;outline:none;border:none;color:#fff;font-size:15px;margin-top:20px;cursor:pointer}.unfriend[_ngcontent-%COMP%]   .unfriend-content[_ngcontent-%COMP%]   .not-unfriend[_ngcontent-%COMP%]{margin-right:30px;background-color:#fff;border:1px solid #3275f7;color:#3275f7}.loading[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;display:flex;justify-content:center;align-items:center;top:0;left:0}.loading[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{border:4px solid #da9696;border-radius:50%;background:#fff;width:300px;height:300px;position:absolute}.container[_ngcontent-%COMP%]{position:relative;background-color:#f5f9fc;border-radius:40px;height:100%;width:1144px;font-family:Raleway}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{position:absolute;width:350px;height:740px;left:20px;top:40px}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:100%;height:40px;border-radius:10px;position:relative;background-color:#fff;box-shadow:0 0 10px 0 #dfebf5;border:.5px solid #e7e7e7}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:79%;height:70%;margin-left:20px;margin-top:7px;border:none;outline:none}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#a4afbf}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:13px;background-color:#fff;border-right:1px solid #ced4df;padding-right:10px}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a4afbf;font-size:15px;position:absolute;top:13px;right:15px;cursor:pointer}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .search-none[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{top:20px;width:100%;height:45px;border-radius:10px;position:relative;background-color:#fff;display:flex;border:.5px solid #e7e7e7;box-shadow:0 0 10px 0 #dfebf5}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .btn-menu[_ngcontent-%COMP%]{text-align:center;width:112.5px;height:35px;background-color:#fff;margin-top:5px;cursor:pointer;display:flex;position:relative;border-radius:10px}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .btn-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;display:block;padding-top:8px;left:45px;font-size:15px;font-weight:500}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .btn-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:10px;left:18px;color:#888585}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .btn-friends[_ngcontent-%COMP%]{margin-left:6px;background-color:#3275f7;color:#fff}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .btn-friends[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .btn-friends[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .btn-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;left:42px}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .btn-request[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:15px}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{width:100%;display:flex;position:relative;height:35px;top:30px}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;left:20px;top:10px;font-size:15px;color:grey}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .btn-offer[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .btn-result[_ngcontent-%COMP%]{width:40px;border:.5px solid #e7e7e7;height:35px;background-color:#fff;box-shadow:0 0 10px 0 #dfebf5;cursor:pointer;position:absolute;border-radius:12px}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .btn-offer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .btn-result[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:10px;color:#888585}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]{right:0}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:12px}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .btn-offer[_ngcontent-%COMP%]{right:50px}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .btn-offer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:15px}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:724px;height:760px;position:absolute;top:20px;left:400px;border-radius:40px}.show-unfriend[_ngcontent-%COMP%]{transform:scaleY(1)!important}.formYesNo[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:999;transition:all .2s ease-in-out;transform:scaleY(0)}.formYesNo[_ngcontent-%COMP%]   .formYesNoHidden[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;background-color:#e8a2a224;top:0;z-index:2}.formYesNo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-radius:10px;width:530px;height:340px;top:50%;left:50%;margin-left:-265px;margin-top:-170px;z-index:3;background-color:#fff;position:absolute;box-shadow:17px 20px 14px 4px #dbdae4}.formYesNo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-family:sans-serif;color:#4162fb;font-weight:700;font-size:22px;margin-top:50px}.formYesNo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4162fb}.formYesNo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:50px}.formYesNo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .title1[_ngcontent-%COMP%]{color:#36363f;font-weight:700;font-size:18px;font-family:sans-serif}.formYesNo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .title2[_ngcontent-%COMP%]{color:#5e6477;font-size:14px;text-align:center;width:350px;margin-top:35px;font-family:sans-serif}.formYesNo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex}.formYesNo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#d8d8d8;border:none;border-radius:3px;width:200px;height:40px;margin-top:30px;font-size:14px;font-family:sans-serif;justify-content:center;align-items:center;margin-right:10px;cursor:pointer}.formYesNo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:5px}.formYesNo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;background-color:#4162fb;border:none;border-radius:3px;width:200px;height:40px;margin-top:30px;font-size:14px;font-family:sans-serif;display:flex;justify-content:center;align-items:center;margin-left:10px;cursor:pointer}.formYesNo[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;margin-left:5px}"]}),t})();function ym(t,e){1&t&&(i.TgZ(0,"div",28),i._UZ(1,"div",29),i.qZA())}function vm(t,e){if(1&t&&(i.TgZ(0,"div",30),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.ekj("non-mutual",0==t.mutualFriends),i.s9C("matTooltip",t.name),i.xp6(1),i.Oqu(t.getNameLimitFriendsList())}}function Cm(t,e){if(1&t&&(i.TgZ(0,"div",31),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.ekj("non-mutual",0==t.mutualFriends),i.xp6(1),i.Oqu(t.name)}}function bm(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",32),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit;return i.oxw().onClickGetIDFriendMutual(e.id)}),i._uU(1),i.qZA()}if(2&t){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.mutualFriends," b\u1ea1n chung")}}function xm(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",11),i.NdJ("click",function(){const e=i.CHM(t).$implicit,n=i.oxw();return n.onClickSelectedFriend(e,n.iDUrl)}),i.TgZ(1,"div",12),i.TgZ(2,"div",13),i._UZ(3,"img",14),i.YNc(4,ym,2,0,"div",15),i.qZA(),i.TgZ(5,"div",16),i.YNc(6,vm,2,4,"div",17),i.YNc(7,Cm,2,3,"div",18),i.YNc(8,bm,2,1,"div",19),i.qZA(),i.TgZ(9,"div",20),i._UZ(10,"i",21),i.TgZ(11,"i",22),i.NdJ("click",function(){const e=i.CHM(t).index;return i.oxw().onClickOptionGroup(e)}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"div",23),i.TgZ(13,"div",24),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().onClickMessage(e.id)}),i._UZ(14,"i",25),i.TgZ(15,"span"),i._uU(16,"Nh\u1eafn tin"),i.qZA(),i.qZA(),i.TgZ(17,"div",26),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().onClickUnFriend(e.id,e.name)}),i._UZ(18,"i",27),i.TgZ(19,"span"),i._uU(20,"H\u1ee7y k\u1ebft b\u1ea1n"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,n=e.index,r=i.oxw();i.ekj("detail-selected",t.id===r.iDUrl),i.MGl("id","id-",n,""),i.xp6(3),i.Q6J("src",t.img||"assets/images/loading.gif",i.LSH),i.xp6(1),i.Q6J("ngIf",1==t.status),i.xp6(2),i.Q6J("ngIf",t.checkLimitNameFriendsList()),i.xp6(1),i.Q6J("ngIf",!t.checkLimitNameFriendsList()),i.xp6(1),i.Q6J("ngIf",0!=t.mutualFriends),i.xp6(3),i.MGl("id","icon-option-",n,""),i.xp6(1),i.ekj("option-detail-block",n===r.optionClick),i.MGl("id","option-",n,"")}}function Pm(t,e){if(1&t&&(i.TgZ(0,"div",31),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.xp6(1),i.Oqu(t.getNameLimitMutualFriends())}}function Om(t,e){if(1&t&&(i.TgZ(0,"div",31),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.xp6(1),i.Oqu(t.name)}}function Mm(t,e){if(1&t&&(i.TgZ(0,"div",33),i.TgZ(1,"div",13),i._UZ(2,"img",14),i.qZA(),i.TgZ(3,"div",20),i.YNc(4,Pm,2,1,"div",34),i.YNc(5,Om,2,1,"div",34),i.TgZ(6,"div",35),i.TgZ(7,"span"),i._uU(8,"Ng\xe0y k\u1ebft b\u1ea1n:"),i.qZA(),i._uU(9),i.qZA(),i.qZA(),i.TgZ(10,"div",36),i.TgZ(11,"div",37),i.TgZ(12,"span"),i._uU(13,"Gi\u1edbi t\xednh:"),i.qZA(),i._uU(14),i.qZA(),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.img||"assets/images/loading.gif",i.LSH),i.xp6(2),i.Q6J("ngIf",t.checkLimitNameMutualFriends()),i.xp6(1),i.Q6J("ngIf",!t.checkLimitNameMutualFriends()),i.xp6(4),i.hij(" ",t.dateAddFormatMutualFriends(),""),i.xp6(5),i.hij(" ",t.sex,"")}}let wm=(()=>{class t{constructor(t,e,n,i,r){this.contactsService=t,this.friendsPageService=e,this.route=n,this.router=i,this.profileFriendService=r,this.indexOption=-1,this.optionClick=-1,this.xOption=-1,this.yOption=-1,this.xIcon=-1,this.yIcon=-1,this.idMutualFriend=""}ngOnInit(){this.onClickOutFocusOption=this.onClickOutFocusOption.bind(this),document.addEventListener("click",this.onClickOutFocusOption),this.friendsPageService.selectedFriendsPageDefaultSerivce(),this.getIDURLFriendsList(),this.getListFriends(),this.setFriendFirst()}sortMututalFriends(){this.mutualFriendsList=this.mutualFriendsList.sort((t,e)=>{var n=t.getNameLast(),i=e.getNameLast();return n<i?-1:n>i?1:0})}onClickGetIDFriendMutual(t){let e,n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),i=[];this.idMutualFriend=t,this.contactsService.getListIDFriendsByIDUser(n).on("value",r=>{i=[],r.forEach(t=>{0==t.val().ton_tai&&i.push(t.key)}),this.contactsService.getListIDFriendsByIDUser(t).on("value",t=>{this.mutualFriendsList=[],t.forEach(t=>{i.forEach(i=>{0==t.val().ton_tai&&t.key!=n&&t.key==i&&this.contactsService.getFriendByID(t.key).on("value",n=>{e=new __;let i=!0;e.id=n.key,e.name=n.val().ten,e.img=n.val().link_hinh,e.sex=n.val().gioi_tinh,e.date=t.val().ngay_tao,e.lastOnline=t.val().lan_cuoi_dang_nhap,this.mutualFriendsList.forEach(t=>{t.id==e.id&&(i=!1)}),i?this.mutualFriendsList.push(e):this.mutualFriendsList.forEach((t,n)=>{t.id==e.id&&(t.img==e.img&&t.name==e.img&&t.sex==e.sex&&t.date==e.date||(this.mutualFriendsList[n]=e))}),this.sortMututalFriends()})})})})})}onClickExitMutual(){this.idMutualFriend=""}onClickUnFriend(t,e){this.friendsPageService.setIDUnFriend(t),this.friendsPageService.setNameUnFriend(e),this.optionClick=-1}setFriendFirst(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.friendsPageService.friendFirstList=[];let e=[];null==this.iDUrl?this.contactsService.getListIDFriendsByIDUser(t).once("value",n=>{n.forEach(t=>{null!=t.val()&&0==t.val().ton_tai&&e.push(t.key)}),this.contactsService.getListIDFriendsByIDUser(t).once("value",t=>{this.friendsPageService.friendFirstList=[];let n=0;null!=t.val()?t.forEach(t=>{0==t.val().ton_tai&&this.contactsService.getFriendByID(t.key).once("value",t=>{n++;let i=new __;i.id=t.key,i.img=t.val().link_hinh,i.name=t.val().ten,i.sex=t.val().gioi_tinh,i.date=t.val().ngay_tao,i.lastOnline=t.val().lan_cuoi_dang_nhap,null!=i&&this.friendsPageService.friendFirstList.push(i),n==e.length&&(this.friendsPageService.sortFriendsFirstListNameABC(),this.friendsPageService.friendFirstList.length>0?(this.moveLink(this.friendsPageService.friendFirstList[0].id),this.sendFriendToProfile(this.friendsPageService.friendFirstList[0].id)):(this.moveLink(""),this.sendFriendToProfile(null)))})}):(this.moveLink(""),this.sendFriendToProfile(null))})}):this.contactsService.getListIDFriendsByIDUser(t).once("value",t=>{let e=!0;null!=t.val()?(t.forEach((t,n)=>{0==t.val().ton_tai&&t.key==this.iDUrl&&(this.moveLink(t.key),this.sendFriendToProfile(t.key),e=!1,t.key==this.iDUrl&&n>4)&&document.getElementById("scroll-content").scrollTo({top:23*n,behavior:"smooth"})}),e&&this.router.navigate(["/**"])):this.router.navigate(["/**"])})}onClickMessage(t){let e=0,n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.profileFriendService.getConversation().once("value",i=>{i.forEach(i=>{-1!=e&&(i.forEach(i=>{i.key!=n&&i.key!=t||e++}),2==e?this.profileFriendService.getKindConversation(i.key).once("value",t=>{"don"==t.val().loai_cuoc_tro_truyen&&(this.router.navigate(["/bessenger/tin-nhan/"+i.key]),e=-1)}):e=0)})})}getIDURLFriendsList(){this.valueSub=this.route.paramMap.subscribe(t=>{this.iDUrl=t.get("id")})}moveLink(t){this.router.navigate(["/bessenger/ban-be/lien-lac/"+t])}ngOnDestroy(){this.valueSub.unsubscribe()}onClickSelectedFriend(t,e){-1==this.optionClick&&null!=t&&this.iDUrl!=t.id&&(this.sendFriendToProfile(t.id),this.moveLink(t.id))}onClickOptionGroup(t){this.optionClick=t===this.optionClick?-1==this.optionClick?t:-1:t;const e=document.getElementById("option-"+t).getBoundingClientRect();this.xOption=e.left,this.yOption=e.top;const n=document.getElementById("icon-option-"+t).getBoundingClientRect();this.xIcon=n.left,this.yIcon=n.top}onClickOutFocusOption(t){const e=t.clientX,n=t.clientY;(e<this.xOption||e>this.xOption+170||n<this.yOption||n>this.yOption+100)&&(e<this.xIcon||e>this.xIcon+20||n<this.yIcon||n>this.yIcon+20)&&(this.optionClick=-1)}sendFriendToProfile(t){this.contactsService.setFriendInforService(t)}getListFriends(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.friendsPageService.friendsList=[],this.contactsService.getListIDFriendsByIDUser(t).on("value",e=>{this.friendsPageService.friendsList=[],null!=e.val()&&(e.forEach(t=>{if(0==t.val().ton_tai){let e=this.contactsService.getListFriendsInforByIDFriends(t.key);null!=e&&this.friendsPageService.friendsList.push(e)}}),this.friendsPageService.setSizeFriends(this.friendsPageService.friendsList.length),e.forEach(e=>{let n=0;this.contactsService.getListIDFriendsByIDUser(e.key).on("value",e=>{setTimeout(()=>{this.friendsPageService.setLoading(!0)},0),this.friendsPageService.sortFriendsListNameABC(),null!=e.val()&&(e.forEach(e=>{this.friendsPageService.friendsList.forEach(i=>{0==e.val().ton_tai&&e.key!=t&&e.key==i.id&&n++})}),this.friendsPageService.friendsList.forEach(t=>{t.id==e.key&&(t.mutualFriends=n)}),n=0),setTimeout(()=>{this.friendsPageService.setLoading(!1)},0)})})),0==this.friendsPageService.friendsList.length&&(this.friendsPageService.setSizeFriends(0),this.sendFriendToProfile(null))})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(m_),i.Y36(f_),i.Y36(li),i.Y36(Ar),i.Y36(P_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-friends"]],decls:12,vars:4,consts:[[1,"friends-list"],["id","scroll-content",1,"friends-list-content"],["class","detail-friend",3,"id","detail-selected","click",4,"ngFor","ngForOf"],[1,"mutual-friends-list"],[1,"content-mutual-friends"],[1,"header"],[1,"title"],[1,"exit",3,"click"],[1,"fas","fa-times"],[1,"content-scroll"],["class","detail-mutual-friends",4,"ngFor","ngForOf"],[1,"detail-friend",3,"id","click"],[1,"detail-sub"],[1,"detail-left"],["alt","",3,"src"],["class","cover-online",4,"ngIf"],[1,"detail-center"],["class","name","matTooltipClass","tooltip",3,"non-mutual","matTooltip",4,"ngIf"],["class","name",3,"non-mutual",4,"ngIf"],["class","mutual-friends",3,"click",4,"ngIf"],[1,"detail-right"],[1,"fas","fa-heart"],[1,"fas","fa-ellipsis-v",3,"id","click"],[1,"option",3,"id"],[1,"option-profile","option-detail",3,"click"],[1,"fas","fa-comment"],[1,"option-abord","option-detail",3,"click"],[1,"fas","fa-user-times"],[1,"cover-online"],[1,"online"],["matTooltipClass","tooltip",1,"name",3,"matTooltip"],[1,"name"],[1,"mutual-friends",3,"click"],[1,"detail-mutual-friends"],["class","name",4,"ngIf"],[1,"date"],[1,"right-date"],[1,"gender"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.YNc(2,xm,21,12,"div",2),i.qZA(),i.qZA(),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"div",6),i._uU(7,"B\u1ea1n chung"),i.qZA(),i.TgZ(8,"div",7),i.NdJ("click",function(){return e.onClickExitMutual()}),i._UZ(9,"i",8),i.qZA(),i.qZA(),i.TgZ(10,"div",9),i.YNc(11,Mm,15,5,"div",10),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("ngForOf",e.friendsPageService.getFriendsList()),i.xp6(1),i.ekj("mutual-display",""!=e.idMutualFriend),i.xp6(8),i.Q6J("ngForOf",e.mutualFriendsList))},directives:[A,D,Sh],styles:[".friends-list[_ngcontent-%COMP%]{position:relative;top:40px;width:100%;height:580px;font-family:Raleway}.friends-list-content[_ngcontent-%COMP%]{height:100%;width:420px;overflow-y:scroll;margin:auto;position:absolute;left:-10px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]{position:relative;border:.5px solid #e7e7e7;height:90px;width:350px;box-shadow:4px 4px 28px 0 #d3dceb;background-color:#fff;border-radius:10px;margin-left:10px;cursor:pointer;margin-top:20px;margin-bottom:20px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;border-radius:10px;transition:all .5s}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]{height:100%;position:relative}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;height:70px;width:70px;border-radius:5px;margin-top:10px;margin-left:10px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   .cover-online[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%;right:-1px;bottom:9px;position:absolute;width:15px;height:15px;justify-content:center;align-items:center;display:flex}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   .cover-online[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{position:absolute;background-color:#31a24c;border-radius:50%;width:11px;height:11px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]{margin-left:25px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin-top:27px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .non-mutual[_ngcontent-%COMP%]{margin-top:37px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{color:grey;font-size:13px;margin-top:5px;width:100px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]{position:absolute;width:40px;height:20px;right:15px;top:38px;text-align:center;cursor:pointer}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;color:#d3dffa}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .fa-ellipsis-v[_ngcontent-%COMP%]{transform:rotate(90deg);width:20px;height:20px;right:-1px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .fa-heart[_ngcontent-%COMP%]{left:-5px;color:#f55}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{position:absolute;border-radius:5px;font-weight:500;width:170px;height:90px;background-color:#fff;box-shadow:17px 20px 14px 4px #dbdae4;top:60px;z-index:0;right:20px;opacity:0}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;color:#888585;position:absolute;top:12px;left:15px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{left:45px;font-size:13px;position:absolute;top:11px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .option-detail[_ngcontent-%COMP%]{width:90%;margin:auto;position:relative;height:35px;display:none}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .option-detail[_ngcontent-%COMP%]:hover{background-color:#d4e6f3;border-radius:5px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .option-profile[_ngcontent-%COMP%]{margin-top:8px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .option-abord[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{left:47px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .option-detail-block[_ngcontent-%COMP%]{opacity:1;z-index:10}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .option-detail-block[_ngcontent-%COMP%]   .option-detail[_ngcontent-%COMP%]{display:block}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]:hover{background-color:#9dcff5;transition:all .5s}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]:hover   .detail-center[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{color:#5a5a5a}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]:hover   .detail-right[_ngcontent-%COMP%]   .fa-ellipsis-v[_ngcontent-%COMP%]{color:grey}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]{background-color:#9dcff5}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .fa-ellipsis-v[_ngcontent-%COMP%]{color:grey!important}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{color:#5a5a5a}.friends-list[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.mutual-friends-list[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;justify-content:center;align-items:center;display:none;top:0;left:0}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]{width:650px;height:480px;background-color:#fff;border-radius:10px;margin:auto;box-shadow:0 0 47px 0 #bbb7b7}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:relative;height:60px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;width:106px;left:64px;font-size:18px;top:31px;letter-spacing:1px;font-weight:700}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px;cursor:pointer;width:30px;height:30px;border-radius:50%;border:.5px solid #e7e7e7;display:flex;justify-content:center;align-items:center}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:5px;font-size:16px;left:8px;color:#a4afbf}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]{overflow-y:scroll;height:80%;width:100%;margin-top:16px;padding-top:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]{width:80%;height:80px;background-color:#fff;display:flex;margin:auto auto 18px;border-radius:10px;box-shadow:0 0 3px 0 #dee2e7;cursor:pointer}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]{width:17%;margin-left:3.8%}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:55px;height:55px;border-radius:50%;margin-top:13px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]{width:60%;position:relative}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;margin-top:22px;font-weight:600;position:relative}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:13px;margin-top:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;margin-right:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .right-date[_ngcontent-%COMP%]   .gender[_ngcontent-%COMP%]{font-size:12px;margin-top:25px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .right-date[_ngcontent-%COMP%]   .gender[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.mutual-display[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();function km(t,e){if(1&t&&(i.TgZ(0,"div",25),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.ekj("non-mutual",0==t.mutualFriends),i.s9C("matTooltip",t.name),i.xp6(1),i.Oqu(t.getNameLimitRequestList())}}function Tm(t,e){if(1&t&&(i.TgZ(0,"div",26),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.ekj("non-mutual",0==t.mutualFriends),i.xp6(1),i.Oqu(t.name)}}function Sm(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",27),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit;return i.oxw().onClickGetIDFriendMutual(e.id)}),i._uU(1),i.qZA()}if(2&t){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.mutualFriends," b\u1ea1n chung")}}function Em(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",11),i.NdJ("click",function(){const e=i.CHM(t).$implicit,n=i.oxw();return n.onClickSelectedFriend(e,n.iDUrl)}),i.TgZ(1,"div",12),i.TgZ(2,"div",13),i._UZ(3,"img",14),i.qZA(),i.TgZ(4,"div",15),i.YNc(5,km,2,4,"div",16),i.YNc(6,Tm,2,3,"div",17),i.YNc(7,Sm,2,1,"div",18),i.TgZ(8,"div",19),i.TgZ(9,"div",20),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().acceptRequest(e.id)}),i._UZ(10,"i",21),i.qZA(),i.TgZ(11,"div",22),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().refuseRequest(e.id)}),i._UZ(12,"i",8),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"div",23),i.TgZ(14,"div",24),i._uU(15),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,n=i.oxw();i.ekj("detail-selected",t.id===n.iDUrl),i.xp6(3),i.Q6J("src",t.img||"assets/images/loading.gif",i.LSH),i.xp6(2),i.Q6J("ngIf",t.checkLimitNameRequestList()),i.xp6(1),i.Q6J("ngIf",!t.checkLimitNameRequestList()),i.xp6(1),i.Q6J("ngIf",0!=t.mutualFriends),i.xp6(6),i.ekj("non-mutual-time",0==t.mutualFriends),i.xp6(2),i.Oqu(t.getFormatTimeRequest())}}function Am(t,e){if(1&t&&(i.TgZ(0,"div",26),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.xp6(1),i.Oqu(t.getNameLimitMutualRequest())}}function Im(t,e){if(1&t&&(i.TgZ(0,"div",26),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.xp6(1),i.Oqu(t.name)}}function Dm(t,e){if(1&t&&(i.TgZ(0,"div",28),i.TgZ(1,"div",13),i._UZ(2,"img",14),i.qZA(),i.TgZ(3,"div",23),i.YNc(4,Am,2,1,"div",29),i.YNc(5,Im,2,1,"div",29),i.TgZ(6,"div",30),i.TgZ(7,"span"),i._uU(8,"Ng\xe0y k\u1ebft b\u1ea1n:"),i.qZA(),i._uU(9),i.qZA(),i.qZA(),i.TgZ(10,"div",31),i.TgZ(11,"div",32),i.TgZ(12,"span"),i._uU(13,"Gi\u1edbi t\xednh:"),i.qZA(),i._uU(14),i.qZA(),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.img||"assets/images/loading.gif",i.LSH),i.xp6(2),i.Q6J("ngIf",t.checkLimitNameMutualRequest()),i.xp6(1),i.Q6J("ngIf",!t.checkLimitNameMutualRequest()),i.xp6(4),i.hij(" ",t.dateAddFormatMutualRequest(),""),i.xp6(5),i.hij(" ",t.sex,"")}}let Fm=(()=>{class t{constructor(t,e,n,i,r,o){this.contactsService=t,this.friendsPageService=e,this.route=n,this.router=i,this.requestListService=r,this.sendsListService=o,this.idMutualRequest=""}ngOnInit(){this.friendsPageService.selectedRequestService(),this.getIDURLRequestList(),this.getRequestList(),this.setRequestFirst()}onClickExitMutual(){this.idMutualRequest=""}sortMututalRequest(){this.mutualRequestList=this.mutualRequestList.sort((t,e)=>{var n=t.getNameLast(),i=e.getNameLast();return n<i?-1:n>i?1:0})}onClickGetIDFriendMutual(t){let e,n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),i=[];this.idMutualRequest=t,this.contactsService.getListIDFriendsByIDUser(n).on("value",n=>{i=[],n.forEach(t=>{0==t.val().ton_tai&&i.push(t.key)}),this.contactsService.getListIDFriendsByIDUser(t).on("value",t=>{this.mutualRequestList=[],t.forEach(t=>{i.forEach(n=>{0==t.val().ton_tai&&t.key==n&&this.requestListService.getInforRequest(t.key).on("value",n=>{e=new y_;let i=!0;e.id=n.key,e.img=n.val().link_hinh,e.name=n.val().ten,e.sex=n.val().gioi_tinh,e.date=t.val().ngay_tao,e.lastOnline=n.val().lan_cuoi_dang_nhap,this.mutualRequestList.forEach(t=>{t.id==e.id&&(i=!1)}),i?this.mutualRequestList.push(e):this.mutualRequestList.forEach((t,n)=>{t.id==e.id&&(t.img==e.img&&t.name==e.img&&t.sex==e.sex&&t.date==e.date||(this.mutualRequestList[n]=e))}),this.sortMututalRequest()})})})})})}setRequestFirst(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));null==this.iDUrl?this.requestListService.getRequestInforByIDUser(t).once("value",t=>{if(this.friendsPageService.requestFirstList=[],null!=t.val()){let e;t.forEach(t=>{0==t.val().ton_tai&&(e=this.requestListService.getListRequestInforByIDRequestOneShot(t.key),e.dateRequest=t.val().ngay_tao,e.id=t.key,null!=e&&(this.friendsPageService.requestFirstList.push(e),this.friendsPageService.sortRequestFrist()))}),this.friendsPageService.requestFirstList.length>0?(this.moveLinkRequest(this.friendsPageService.requestFirstList[0].id),this.sendFriendToProfileRequest(this.friendsPageService.requestFirstList[0].id)):(this.moveLinkRequest(""),this.sendFriendToProfileRequest(null))}else this.moveLinkRequest(""),this.sendFriendToProfileRequest(null)}):this.requestListService.getRequestInforByIDUser(t).once("value",t=>{let e=!0;if(null!=t.val()){let n=0;t.forEach(t=>{0==t.val().ton_tai&&(t.key==this.iDUrl&&(this.moveLinkRequest(t.key),this.sendFriendToProfileRequest(t.key),e=!1,t.key==this.iDUrl&&n>4)&&document.getElementById("scroll-content").scrollTo({top:23*n,behavior:"smooth"}),n++)}),e&&this.router.navigate(["/**"])}else this.router.navigate(["/**"])})}getIDURLRequestList(){this.valueSub=this.route.paramMap.subscribe(t=>{this.iDUrl=t.get("id")})}ngOnDestroy(){this.valueSub.unsubscribe()}moveLinkRequest(t){this.router.navigate(["/bessenger/ban-be/loi-moi/"+t])}onClickSelectedFriend(t,e){null!=t&&this.iDUrl!=t.id&&(this.sendFriendToProfileRequest(t.id),this.moveLinkRequest(t.id))}sendFriendToProfileRequest(t){this.contactsService.setFriendInforService(t)}getRequestList(){let t=0,e=[];this.friendsPageService.requestList=[];let n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.requestListService.getRequestInforByIDUser(n).on("value",i=>{null!=i.val()&&(this.contactsService.getListIDFriendsByIDUser(n).on("value",t=>{e=[],t.forEach(t=>{0==t.val().ton_tai&&e.push(t.key)})}),this.friendsPageService.requestList=[],i.forEach(n=>{if(0==n.val().ton_tai){let i=this.requestListService.getListRequestInforByIDRequest(n.key);i.dateRequest=n.val().ngay_tao,null!=i&&(this.contactsService.getListIDFriendsByIDUser(n.key).on("value",n=>{setTimeout(()=>{this.friendsPageService.setLoading(!0)},0),n.forEach(n=>{e.forEach(e=>{0==n.val().ton_tai&&n.key==e&&t++})}),i.mutualFriends=t,t=0,this.friendsPageService.sortRequestListDate(),setTimeout(()=>{this.friendsPageService.setLoading(!1)},0)}),this.friendsPageService.requestList.push(i),this.friendsPageService.sortRequestListDate())}}),this.friendsPageService.setSizeRequest(this.friendsPageService.requestList.length)),0==this.friendsPageService.requestList.length&&(this.friendsPageService.setSizeRequest(0),this.sendFriendToProfileRequest(null))})}acceptRequest(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.requestListService.acceptRequestService(e,t).update({ton_tai:1}),this.sendsListService.editSendService(e,t).update({ton_tai:1}),this.contactsService.addFriend(e,t).set({ngay_tao:Number(new Date),ton_tai:0}),this.contactsService.addFriend(t,e).set({ngay_tao:Number(new Date),ton_tai:0}),this.moveLinkRequest("")}refuseRequest(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.requestListService.acceptRequestService(e,t).update({ton_tai:1}),this.sendsListService.editSendService(e,t).update({ton_tai:1}),this.moveLinkRequest("")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(m_),i.Y36(f_),i.Y36(li),i.Y36(Ar),i.Y36(v_),i.Y36(b_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-request-add-friends"]],decls:12,vars:4,consts:[[1,"friends-list"],["id","scroll-content",1,"friends-list-content"],["class","detail-friend",3,"detail-selected","click",4,"ngFor","ngForOf"],[1,"mutual-friends-list"],[1,"content-mutual-friends"],[1,"header"],[1,"title"],[1,"exit",3,"click"],[1,"fas","fa-times"],[1,"content-scroll"],["class","detail-mutual-friends",4,"ngFor","ngForOf"],[1,"detail-friend",3,"click"],[1,"detail-sub"],[1,"detail-left"],["alt","",3,"src"],[1,"detail-center"],["class","name","matTooltipClass","tooltip",3,"non-mutual","matTooltip",4,"ngIf"],["class","name",3,"non-mutual",4,"ngIf"],["class","mutual-friends",3,"click",4,"ngIf"],[1,"detail-center-sub"],["matTooltip","Ch\u1ea5p nh\u1eadn","matTooltipClass","tooltip",1,"stick","detail-btn",3,"click"],[1,"fas","fa-check"],["matTooltip","T\u1eeb ch\u1ed1i","matTooltipClass","tooltip",1,"abort","detail-btn",3,"click"],[1,"detail-right"],[1,"time"],["matTooltipClass","tooltip",1,"name",3,"matTooltip"],[1,"name"],[1,"mutual-friends",3,"click"],[1,"detail-mutual-friends"],["class","name",4,"ngIf"],[1,"date"],[1,"right-date"],[1,"gender"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.YNc(2,Em,16,9,"div",2),i.qZA(),i.qZA(),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"div",6),i._uU(7,"B\u1ea1n chung"),i.qZA(),i.TgZ(8,"div",7),i.NdJ("click",function(){return e.onClickExitMutual()}),i._UZ(9,"i",8),i.qZA(),i.qZA(),i.TgZ(10,"div",9),i.YNc(11,Dm,15,5,"div",10),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("ngForOf",e.friendsPageService.getRequestList()),i.xp6(1),i.ekj("mutual-display",""!=e.idMutualRequest),i.xp6(8),i.Q6J("ngForOf",e.mutualRequestList))},directives:[A,D,Sh],styles:[".friends-list[_ngcontent-%COMP%]{position:relative;top:40px;width:100%;height:580px;font-family:Raleway}.friends-list-content[_ngcontent-%COMP%]{height:100%;width:420px;overflow-y:scroll;margin:auto;position:absolute;left:-10px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]{position:relative;border:.5px solid #e7e7e7;height:110px;width:350px;box-shadow:4px 4px 28px 0 #d3dceb;background-color:#fff;border-radius:10px;margin-left:10px;cursor:pointer;margin-top:20px;margin-bottom:20px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;border-radius:10px;transition:all .5s}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]{height:100%}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;height:77px;width:70px;border-radius:5px;margin-top:16px;margin-left:20px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]{margin-left:25px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin-top:16px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .non-mutual[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:20px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{color:grey;font-size:13px;margin-top:5px;width:100px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .detail-center-sub[_ngcontent-%COMP%]{margin-top:10px;display:flex}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .detail-center-sub[_ngcontent-%COMP%]   .detail-btn[_ngcontent-%COMP%]{width:100px;height:27px;background-color:#e6d9d9;border-radius:10px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .detail-center-sub[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .detail-center-sub[_ngcontent-%COMP%]   .stick[_ngcontent-%COMP%]{border-radius:5px;display:flex;justify-content:center;align-items:center;margin-right:10px;background-color:#3275f7;border:1px solid #3275f7;transition:all .5s}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .detail-center-sub[_ngcontent-%COMP%]   .stick[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .detail-center-sub[_ngcontent-%COMP%]   .abort[_ngcontent-%COMP%]{border-radius:5px;display:flex;justify-content:center;align-items:center;background-color:#fff;border:1px solid #3275f7}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .detail-center-sub[_ngcontent-%COMP%]   .abort[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3275f7;font-size:13px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]{position:absolute;width:60px;height:20px;right:0;top:18px;text-align:center;cursor:pointer;display:flex}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#5a5a5a;font-size:13px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .non-mutual-time[_ngcontent-%COMP%]{top:26px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .option-detail-block[_ngcontent-%COMP%]{opacity:1;z-index:10}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]:hover{background-color:#9dcff5;transition:all .5s}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]:hover   .detail-center[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{color:#5a5a5a}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]{background-color:#9dcff5}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .fa-ellipsis-v[_ngcontent-%COMP%]{color:grey}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{color:#5a5a5a}.friends-list[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.mutual-friends-list[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;justify-content:center;align-items:center;display:none;top:0;left:0}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]{width:650px;height:480px;background-color:#fff;border-radius:10px;margin:auto}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:relative;height:60px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;width:106px;left:64px;font-size:18px;top:31px;letter-spacing:1px;font-weight:700}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px;cursor:pointer;width:30px;height:30px;border-radius:50%;border:.5px solid #e7e7e7;display:flex;justify-content:center;align-items:center}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:5px;font-size:16px;left:8px;color:#a4afbf}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]{overflow-y:scroll;height:80%;width:100%;margin-top:16px;padding-top:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]{width:80%;height:80px;background-color:#fff;display:flex;margin:auto auto 18px;border-radius:10px;box-shadow:0 0 3px 0 #dee2e7;cursor:pointer}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]{width:17%;margin-left:3.8%}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:55px;height:55px;border-radius:50%;margin-top:13px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]{width:60%;position:relative}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;margin-top:22px;font-weight:600;position:relative}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:13px;margin-top:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;margin-right:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .right-date[_ngcontent-%COMP%]   .gender[_ngcontent-%COMP%]{font-size:12px;margin-top:25px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .right-date[_ngcontent-%COMP%]   .gender[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.mutual-display[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();function Nm(t,e){if(1&t&&(i.TgZ(0,"div",23),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.ekj("non-mutual",0==t.mutualFriends),i.s9C("matTooltip",t.name),i.xp6(1),i.Oqu(t.getNameLimitSendList())}}function Lm(t,e){if(1&t&&(i.TgZ(0,"div",24),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.ekj("non-mutual",0==t.mutualFriends),i.xp6(1),i.Oqu(t.name)}}function Zm(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",25),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit;return i.oxw().onClickGetIDFriendMutual(e.id)}),i._uU(1),i.qZA()}if(2&t){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.mutualFriends," b\u1ea1n chung")}}function Rm(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",11),i.NdJ("click",function(){const e=i.CHM(t).$implicit,n=i.oxw();return n.onClickSelectedFriend(e,n.iDUrl)}),i.TgZ(1,"div",12),i.TgZ(2,"div",13),i._UZ(3,"img",14),i.qZA(),i.TgZ(4,"div",15),i.YNc(5,Nm,2,4,"div",16),i.YNc(6,Lm,2,3,"div",17),i.YNc(7,Zm,2,1,"div",18),i.TgZ(8,"div",19),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().undoSendRequest(e.id)}),i._UZ(9,"i",20),i.TgZ(10,"span"),i._uU(11,"H\u1ee7y y\xeau c\u1ea7u"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"div",21),i.TgZ(13,"div",22),i._uU(14),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,n=i.oxw();i.ekj("detail-selected",t.id===n.iDUrl),i.xp6(3),i.Q6J("src",t.img,i.LSH),i.xp6(2),i.Q6J("ngIf",t.checkLimitNameSendList()),i.xp6(1),i.Q6J("ngIf",!t.checkLimitNameSendList()),i.xp6(1),i.Q6J("ngIf",0!=t.mutualFriends),i.xp6(7),i.Oqu(t.getFormatTimeSend())}}function qm(t,e){if(1&t&&(i.TgZ(0,"div",24),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.xp6(1),i.Oqu(t.getNameLimitMutualSend())}}function Um(t,e){if(1&t&&(i.TgZ(0,"div",24),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.xp6(1),i.Oqu(t.name)}}function Bm(t,e){if(1&t&&(i.TgZ(0,"div",26),i.TgZ(1,"div",13),i._UZ(2,"img",14),i.qZA(),i.TgZ(3,"div",21),i.YNc(4,qm,2,1,"div",27),i.YNc(5,Um,2,1,"div",27),i.TgZ(6,"div",28),i.TgZ(7,"span"),i._uU(8,"Ng\xe0y k\u1ebft b\u1ea1n:"),i.qZA(),i._uU(9),i.qZA(),i.qZA(),i.TgZ(10,"div",29),i.TgZ(11,"div",30),i.TgZ(12,"span"),i._uU(13,"Gi\u1edbi t\xednh:"),i.qZA(),i._uU(14),i.qZA(),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.img||"assets/images/loading.gif",i.LSH),i.xp6(2),i.Q6J("ngIf",t.checkLimitNameMutualSend()),i.xp6(1),i.Q6J("ngIf",!t.checkLimitNameMutualSend()),i.xp6(4),i.hij(" ",t.dateSendFormatMutualFriends(),""),i.xp6(5),i.hij(" ",t.sex,"")}}let jm=(()=>{class t{constructor(t,e,n,i,r,o){this.contactsService=t,this.friendsPageService=e,this.route=n,this.router=i,this.sendListService=r,this.requestListService=o,this.idMutualSend=""}ngOnInit(){this.getSendstList(),this.friendsPageService.selectedSendService(),this.getIDURLSendsList(),this.setSendFirst()}ngOnDestroy(){this.valueSub.unsubscribe()}onClickExitMutual(){this.idMutualSend=""}sortMututalSends(){this.mutualSendList=this.mutualSendList.sort((t,e)=>{var n=t.getNameLast(),i=e.getNameLast();return n<i?-1:n>i?1:0})}onClickGetIDFriendMutual(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.mutualSendList=[];let n,i=[];this.idMutualSend=t,this.contactsService.getListIDFriendsByIDUser(e).on("value",e=>{i=[],e.forEach(t=>{0==t.val().ton_tai&&i.push(t.key)}),this.contactsService.getListIDFriendsByIDUser(t).on("value",t=>{this.mutualSendList=[],t.forEach(t=>{i.forEach(e=>{0==t.val().ton_tai&&t.key==e&&this.sendListService.getInforSend(t.key).on("value",e=>{console.log(this.mutualSendList),n=new C_;let i=!0;n.id=e.key,n.name=e.val().ten,n.img=e.val().link_hinh,n.sex=e.val().gioi_tinh,n.date=t.val().ngay_tao,n.lastOnline=e.val().lan_cuoi_dang_nhap,this.mutualSendList.forEach(t=>{t.id==n.id&&(i=!1)}),i?this.mutualSendList.push(n):this.mutualSendList.forEach((t,e)=>{t.id==n.id&&(t.img==n.img&&t.name==n.img&&t.sex==n.sex&&t.date==n.date||(this.mutualSendList[e]=n))}),this.sortMututalSends()})})})})})}getIDURLSendsList(){this.valueSub=this.route.paramMap.subscribe(t=>{this.iDUrl=t.get("id")})}moveLinkSends(t){this.router.navigate(["/bessenger/ban-be/da-gui/"+t])}onClickSelectedFriend(t,e){null!=t&&this.iDUrl!=t.id&&(this.sendFriendToProfileSend(t.id),this.moveLinkSends(t.id))}setSendFirst(){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));null==this.iDUrl?this.sendListService.getSendInforByIDUser(t).once("value",t=>{if(this.friendsPageService.sendFirstList=[],null!=t.val()){let e;t.forEach(t=>{0==t.val().ton_tai&&(e=this.sendListService.getListSendInforByIDSendOneShot(t.key),e.dateSend=t.val().ngay_tao,e.id=t.key,null!=e&&(this.friendsPageService.sendFirstList.push(e),this.friendsPageService.sortSendsFrist()))}),this.friendsPageService.sendFirstList.length>0?(this.moveLinkSends(this.friendsPageService.sendFirstList[0].id),this.sendFriendToProfileSend(this.friendsPageService.sendFirstList[0].id)):(this.moveLinkSends(""),this.sendFriendToProfileSend(null))}else this.moveLinkSends(""),this.sendFriendToProfileSend(null)}):this.sendListService.getSendInforByIDUser(t).once("value",t=>{let e=!0;if(null!=t.val()){let n=0;t.forEach(t=>{0==t.val().ton_tai&&(t.key==this.iDUrl&&(this.moveLinkSends(t.key),this.sendFriendToProfileSend(t.key),e=!1,t.key==this.iDUrl&&n>4)&&document.getElementById("scroll-content").scrollTo({top:23*n,behavior:"smooth"}),n++)}),e&&this.router.navigate(["/**"])}else this.router.navigate(["/**"])})}sendFriendToProfileSend(t){this.contactsService.setFriendInforService(t)}getSendstList(){let t=0,e=[];this.friendsPageService.sendstList=[];let n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.sendListService.getSendInforByIDUser(n).on("value",i=>{null!=i.val()&&(this.contactsService.getListIDFriendsByIDUser(n).on("value",t=>{e=[],t.forEach(t=>{0==t.val().ton_tai&&e.push(t.key)})}),this.friendsPageService.sendstList=[],i.forEach(n=>{if(0==n.val().ton_tai){let i=this.sendListService.getListSendInforByIDSend(n.key);i.dateSend=n.val().ngay_tao,null!=i&&(this.contactsService.getListIDFriendsByIDUser(n.key).on("value",n=>{setTimeout(()=>{this.friendsPageService.setLoading(!0)},0),n.forEach(n=>{e.forEach(e=>{0==n.val().ton_tai&&n.key==e&&t++})}),i.mutualFriends=t,t=0,this.friendsPageService.sortSendListDate(),setTimeout(()=>{this.friendsPageService.setLoading(!1)},0)}),this.friendsPageService.sendstList.push(i),this.friendsPageService.sortSendListDate())}}),this.friendsPageService.setSizeSends(this.friendsPageService.sendstList.length)),0==this.friendsPageService.sendstList.length&&(this.friendsPageService.setSizeSends(0),this.sendFriendToProfileSend(null))})}undoSendRequest(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.requestListService.acceptRequestService(t,e).update({ton_tai:1}),this.sendListService.editSendService(t,e).update({ton_tai:1}),this.moveLinkSends("")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(m_),i.Y36(f_),i.Y36(li),i.Y36(Ar),i.Y36(b_),i.Y36(v_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-send-requset-add"]],decls:12,vars:4,consts:[[1,"friends-list"],[1,"friends-list-content"],["class","detail-friend",3,"detail-selected","click",4,"ngFor","ngForOf"],[1,"mutual-friends-list"],[1,"content-mutual-friends"],[1,"header"],[1,"title"],[1,"exit",3,"click"],[1,"fas","fa-times"],[1,"content-scroll"],["class","detail-mutual-friends",4,"ngFor","ngForOf"],[1,"detail-friend",3,"click"],[1,"detail-sub"],[1,"detail-left"],["alt","",3,"src"],[1,"detail-center"],["class","name","matTooltipClass","tooltip",3,"non-mutual","matTooltip",4,"ngIf"],["class","name",3,"non-mutual",4,"ngIf"],["class","mutual-friends",3,"click",4,"ngIf"],[1,"abort","detail-btn",3,"click"],[1,"fas","fa-undo"],[1,"detail-right"],[1,"time"],["matTooltipClass","tooltip",1,"name",3,"matTooltip"],[1,"name"],[1,"mutual-friends",3,"click"],[1,"detail-mutual-friends"],["class","name",4,"ngIf"],[1,"date"],[1,"right-date"],[1,"gender"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.YNc(2,Rm,15,7,"div",2),i.qZA(),i.qZA(),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"div",6),i._uU(7,"B\u1ea1n chung"),i.qZA(),i.TgZ(8,"div",7),i.NdJ("click",function(){return e.onClickExitMutual()}),i._UZ(9,"i",8),i.qZA(),i.qZA(),i.TgZ(10,"div",9),i.YNc(11,Bm,15,5,"div",10),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("ngForOf",e.friendsPageService.getSendsList()),i.xp6(1),i.ekj("mutual-display",""!=e.idMutualSend),i.xp6(8),i.Q6J("ngForOf",e.mutualSendList))},directives:[A,D,Sh],styles:[".friends-list[_ngcontent-%COMP%]{position:relative;top:40px;width:100%;height:580px;font-family:Raleway}.friends-list-content[_ngcontent-%COMP%]{height:100%;width:420px;overflow-y:scroll;margin:auto;position:absolute;left:-10px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]{position:relative;border:.5px solid #e7e7e7;height:110px;width:350px;box-shadow:4px 4px 28px 0 #d3dceb;background-color:#fff;border-radius:10px;margin-left:10px;cursor:pointer;margin-top:20px;margin-bottom:20px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;border-radius:10px;transition:all .5s}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]{height:100%}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;height:77px;width:70px;border-radius:5px;margin-top:16px;margin-left:20px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]{margin-left:25px;width:170px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin-top:16px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{color:grey;font-size:13px;margin-top:5px;width:100px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .non-mutual[_ngcontent-%COMP%]{margin-top:22px;margin-bottom:13px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .detail-btn[_ngcontent-%COMP%]{width:110px;height:30px;background-color:#fff;border:2px solid #3275f7;border-radius:5px;color:#3275f7;font-size:12px;display:flex;font-family:Raleway;font-weight:600;justify-content:center;align-items:center;margin-top:7px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .detail-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]{position:absolute;width:60px;height:20px;right:0;top:18px;text-align:center;cursor:pointer;display:flex}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#5a5a5a;font-size:13px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .option-detail-block[_ngcontent-%COMP%]{opacity:1;z-index:10}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]:hover{background-color:#9dcff5;transition:all .5s}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]:hover   .detail-center[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{color:#5a5a5a}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]{background-color:#9dcff5}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .fa-ellipsis-v[_ngcontent-%COMP%]{color:grey}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{color:#5a5a5a}.friends-list[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.mutual-friends-list[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;justify-content:center;align-items:center;display:none;top:0;left:0}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]{width:650px;height:480px;background-color:#fff;border-radius:10px;margin:auto}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:relative;height:60px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;width:106px;left:64px;font-size:18px;top:31px;letter-spacing:1px;font-weight:700}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px;cursor:pointer;width:30px;height:30px;border-radius:50%;border:.5px solid #e7e7e7;display:flex;justify-content:center;align-items:center}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:5px;font-size:16px;left:8px;color:#a4afbf}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]{overflow-y:scroll;height:80%;width:100%;margin-top:16px;padding-top:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]{width:80%;height:80px;background-color:#fff;display:flex;margin:auto auto 18px;border-radius:10px;box-shadow:0 0 3px 0 #dee2e7;cursor:pointer}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]{width:17%;margin-left:3.8%}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:55px;height:55px;border-radius:50%;margin-top:13px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]{width:60%;position:relative}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;margin-top:22px;font-weight:600;position:relative}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:13px;margin-top:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;margin-right:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .right-date[_ngcontent-%COMP%]   .gender[_ngcontent-%COMP%]{font-size:12px;margin-top:25px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .right-date[_ngcontent-%COMP%]   .gender[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.mutual-display[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})(),zm=(()=>{class t{constructor(t){this.main_page_service=t}ngOnInit(){setTimeout(()=>{this.main_page_service.reset(),this.main_page_service.selectTrangChu()},0)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(s_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-home-page"]],decls:1,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&i._UZ(0,"div",0)},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{position:relative;background-color:#f5f9fc;border-radius:40px;height:100%;width:1144px}"]}),t})();function Vm(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",17),i.NdJ("click",function(){return i.CHM(t),i.oxw().moveToHomePage()}),i._UZ(1,"i",18),i.qZA()}}function Hm(t,e){1&t&&(i.TgZ(0,"div",19),i._UZ(1,"i",18),i.qZA())}function Gm(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",20),i.NdJ("click",function(){return i.CHM(t),i.oxw().moveToPersonalPage()}),i._UZ(1,"i",21),i.qZA()}}function Ym(t,e){1&t&&(i.TgZ(0,"div",19),i._UZ(1,"i",21),i.qZA())}function Jm(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",22),i.NdJ("click",function(){return i.CHM(t),i.oxw().moveToFriendsPage()}),i._UZ(1,"i",23),i.qZA()}}function Qm(t,e){1&t&&(i.TgZ(0,"div",19),i._UZ(1,"i",23),i.qZA())}function $m(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",24),i.NdJ("click",function(){return i.CHM(t),i.oxw().moveToChatPage()}),i._UZ(1,"i",25),i.qZA()}}function Wm(t,e){1&t&&(i.TgZ(0,"div",19),i._UZ(1,"i",25),i.qZA())}function Km(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",26),i.NdJ("click",function(){return i.CHM(t),i.oxw().moveToChatRequestPage()}),i._UZ(1,"i",27),i.qZA()}}function Xm(t,e){1&t&&(i.TgZ(0,"div",19),i._UZ(1,"i",27),i.qZA())}function ty(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",28),i.NdJ("click",function(){return i.CHM(t),i.oxw().moveToSettingPage()}),i._UZ(1,"i",29),i.qZA()}}function ey(t,e){1&t&&(i.TgZ(0,"div",19),i._UZ(1,"i",29),i.qZA())}let ny=(()=>{class t{constructor(t,e,n,i,r,o,s){this.route=t,this.router=e,this.login_service=n,this.main_page_service=i,this.friendsPageService=r,this.chat_page_friends_object_left_service=o,this.chat_page_firends_service=s}ngOnInit(){this.login_service.isLogin()?(null==this.main_page_service.layHinh||this.main_page_service.layHinh.unsubscribe(),this.getData()):this.router.navigate(["/dang-nhap"])}getData(){this.main_page_service.layHinh=this.main_page_service.getImg().subscribe(t=>{this.main_page_service.setImg(t.payload.toJSON())})}logOut(){this.login_service.logOut(),this.main_page_service.reset(),this.chat_page_friends_object_left_service.allBoxData=null,this.chat_page_firends_service.ban_bes=null,this.router.navigate(["/dang-nhap"])}moveToHomePage(){this.router.navigate(["trang-chu"],{relativeTo:this.route})}moveToPersonalPage(){this.router.navigate(["thong-tin-ca-nhan"],{relativeTo:this.route})}moveToFriendsPage(){this.router.navigate(["ban-be"],{relativeTo:this.route}),this.friendsPageService.selectedFriendsPageDefaultSerivce()}moveToChatPage(){this.router.navigate(["tin-nhan/danh-sach"],{relativeTo:this.route})}moveToChatRequestPage(){this.router.navigate(["tin-nhan-an"],{relativeTo:this.route})}moveToSettingPage(){this.router.navigate(["cai-dat"],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(li),i.Y36(Ar),i.Y36(bg),i.Y36(s_),i.Y36(f_),i.Y36(Kd),i.Y36(Qd))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-main-page"]],decls:23,vars:13,consts:[[1,"container"],[1,"container-left"],[1,"container-left-icon"],[1,"fas","fa-dragon"],[1,"container-left-avatar"],[1,"container-left-avatar-image"],["alt","",3,"src"],["id","container-left-menu",1,"container-left-menu"],["class","container-left-menu-icon","matTooltip","Trang ch\u1ee7","matTooltipClass","tooltip",3,"click",4,"ngIf"],["class","container-left-menu-icon container-left-menu-icon-selected",4,"ngIf"],["class","container-left-menu-icon","matTooltip","Th\xf4ng tin t\xe0i kho\u1ea3n","matTooltipClass","tooltip",3,"click",4,"ngIf"],["class","container-left-menu-icon","matTooltip","B\u1ea1n b\xe8","matTooltipClass","tooltip",3,"click",4,"ngIf"],["class","container-left-menu-icon","matTooltip","Tin nh\u1eafn","matTooltipClass","tooltip",3,"click",4,"ngIf"],["class","container-left-menu-icon","matTooltip","Tin nh\u1eafn \u1ea9n","matTooltipClass","tooltip",3,"click",4,"ngIf"],["class","container-left-menu-icon","matTooltip","C\xe0i \u0111\u1eb7t","matTooltipClass","tooltip",3,"click",4,"ngIf"],["matTooltip","\u0110\u0103ng xu\u1ea5t","matTooltipClass","tooltip",1,"container-left-menu-icon",3,"click"],[1,"fas","fa-sign-out-alt"],["matTooltip","Trang ch\u1ee7","matTooltipClass","tooltip",1,"container-left-menu-icon",3,"click"],[1,"fas","fa-pager"],[1,"container-left-menu-icon","container-left-menu-icon-selected"],["matTooltip","Th\xf4ng tin t\xe0i kho\u1ea3n","matTooltipClass","tooltip",1,"container-left-menu-icon",3,"click"],[1,"fas","fa-user-cog"],["matTooltip","B\u1ea1n b\xe8","matTooltipClass","tooltip",1,"container-left-menu-icon",3,"click"],[1,"fas","fa-user-friends"],["matTooltip","Tin nh\u1eafn","matTooltipClass","tooltip",1,"container-left-menu-icon",3,"click"],[1,"fas","fa-comment-alt"],["matTooltip","Tin nh\u1eafn \u1ea9n","matTooltipClass","tooltip",1,"container-left-menu-icon",3,"click"],[1,"fas","fa-comment-dots"],["matTooltip","C\xe0i \u0111\u1eb7t","matTooltipClass","tooltip",1,"container-left-menu-icon",3,"click"],[1,"fas","fa-cogs"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._UZ(3,"i",3),i.qZA(),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i._UZ(6,"img",6),i.qZA(),i.qZA(),i.TgZ(7,"div",7),i.YNc(8,Vm,2,0,"div",8),i.YNc(9,Hm,2,0,"div",9),i.YNc(10,Gm,2,0,"div",10),i.YNc(11,Ym,2,0,"div",9),i.YNc(12,Jm,2,0,"div",11),i.YNc(13,Qm,2,0,"div",9),i.YNc(14,$m,2,0,"div",12),i.YNc(15,Wm,2,0,"div",9),i.YNc(16,Km,2,0,"div",13),i.YNc(17,Xm,2,0,"div",9),i.YNc(18,ty,2,0,"div",14),i.YNc(19,ey,2,0,"div",9),i.TgZ(20,"div",15),i.NdJ("click",function(){return e.logOut()}),i._UZ(21,"i",16),i.qZA(),i.qZA(),i.qZA(),i._UZ(22,"router-outlet"),i.qZA()),2&t&&(i.xp6(6),i.Q6J("src",e.main_page_service.img||"assets/images/loading.gif",i.LSH),i.xp6(2),i.Q6J("ngIf",!e.main_page_service.isSelectHomePage()),i.xp6(1),i.Q6J("ngIf",e.main_page_service.isSelectHomePage()),i.xp6(1),i.Q6J("ngIf",!e.main_page_service.isSelectPersonalPage()),i.xp6(1),i.Q6J("ngIf",e.main_page_service.isSelectPersonalPage()),i.xp6(1),i.Q6J("ngIf",!e.main_page_service.isSelectFriendsPage()),i.xp6(1),i.Q6J("ngIf",e.main_page_service.isSelectFriendsPage()),i.xp6(1),i.Q6J("ngIf",!e.main_page_service.isSelectChatPage()),i.xp6(1),i.Q6J("ngIf",e.main_page_service.isSelectChatPage()),i.xp6(1),i.Q6J("ngIf",!e.main_page_service.isSelectChatRequestPage()),i.xp6(1),i.Q6J("ngIf",e.main_page_service.isSelectChatRequestPage()),i.xp6(1),i.Q6J("ngIf",!e.main_page_service.isSelectSettingPage()),i.xp6(1),i.Q6J("ngIf",e.main_page_service.isSelectSettingPage()))},directives:[D,Sh,Ir],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{width:1244px;flex-direction:row;height:800px;box-shadow:0 0 73px 10px #d7e2edd6;border-radius:40px;margin:50px}.container[_ngcontent-%COMP%], .container-left[_ngcontent-%COMP%]{display:flex;background-color:#fff}.container-left[_ngcontent-%COMP%]{position:relative;border-top-left-radius:40px;border-bottom-left-radius:40px;width:100px;height:100%;flex-direction:column;align-items:center}.container-left-icon[_ngcontent-%COMP%]{margin-top:40px}.container-left-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;color:#23262e}.container-left-avatar[_ngcontent-%COMP%]{margin-top:40px;width:66px;height:66px;border:2px solid #eef2fb}.container-left-avatar[_ngcontent-%COMP%], .container-left-avatar-image[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:50%}.container-left-avatar-image[_ngcontent-%COMP%]{box-shadow:0 8px 20px #d9f0f3;width:60px;height:60px;overflow:hidden}.container-left-avatar-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px}.container-left-menu[_ngcontent-%COMP%]{margin-top:30px}.container-left-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.container-left-menu-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:12px;transition:all .5s ease-out;padding:15px;cursor:pointer;margin-top:20px;margin-bottom:20px}.container-left-menu-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#23262e}.container-left-menu-icon-selected[_ngcontent-%COMP%]{background-color:#3275f7;transform:translateX(-40px);box-shadow:0 0 40px #3275f7e0}.container-left-menu-icon-selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}"]}),t})(),iy=(()=>{class t{constructor(t){this.main_page_service=t}ngOnInit(){setTimeout(()=>{this.main_page_service.reset(),this.main_page_service.selectPersonalPage()},0),setTimeout(()=>{this.animationCircle()},0)}animationCircle(){const t=document.getElementById("circle-left"),e=document.getElementById("circle-center"),n=document.getElementById("circle-right"),i=document.getElementById("cover-avatar-bg");e.classList.add("circle-center-animation"),t.classList.add("circle-left-animation"),n.classList.add("circle-right-animation"),i.classList.add("cover-avatar-bg-animation")}changeAvatar(){}changeProfile(){}changePass(t){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(s_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-personal-page"]],decls:19,vars:0,consts:[[1,"container"],[1,"main"],["src","assets/images/list-friends-chat-page/avt5.jpg","alt","",1,"avatar-bg"],["id","cover-avatar-bg",1,"cover-avatar-bg"],["id","circle-left",1,"circle-left"],["matTooltip","Ch\u1ec9nh s\u1eeda th\xf4ng tin c\xe1 nh\xe2n","matTooltipClass","tooltip",1,"circle-sub-2"],["src","assets/images/personal-page/bg-girl.jpg","alt",""],[1,"fas","fa-id-card"],["id","circle-center",1,"circle-center"],[1,"circle-sub-1"],["matTooltip","C\u1eadp nh\u1eadt \u1ea3nh \u0111\u1ea1i di\u1ec7n","matTooltipClass","tooltip",1,"circle-sub-2"],["src","assets/images/list-friends-chat-page/avt5.jpg","alt",""],[1,"name"],["id","circle-right",1,"circle-right"],["matTooltip","\u0110\u1ed5i m\u1eadt kh\u1ea9u","matTooltipClass","tooltip",1,"circle-sub-2"],["src","assets/images/personal-page/pass.jpg","alt",""],[1,"fas","fa-key"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i._UZ(2,"img",2),i._UZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i._UZ(6,"img",6),i._UZ(7,"i",7),i.qZA(),i.qZA(),i.TgZ(8,"div",8),i.TgZ(9,"div",9),i.TgZ(10,"div",10),i._UZ(11,"img",11),i.qZA(),i.TgZ(12,"div",12),i.TgZ(13,"span"),i._uU(14,"Halena Jolie"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(15,"div",13),i.TgZ(16,"div",14),i._UZ(17,"img",15),i._UZ(18,"i",16),i.qZA(),i.qZA(),i.qZA(),i.qZA())},directives:[Sh],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{position:relative;background-color:#f5f9fc;border-radius:40px;height:100%;width:1144px;display:flex;font-family:Raleway}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{position:absolute;border-radius:40px;top:20px;left:20px;width:1104px;height:760px;background-color:#fff;overflow:hidden}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .avatar-bg[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;filter:blur(5px)}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .cover-avatar-bg[_ngcontent-%COMP%]{width:100%;height:0%;position:absolute;bottom:0;border-top-left-radius:70%;border-top-right-radius:70%;background-color:hsla(0,0%,100%,.43)}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .cover-avatar-bg-animation[_ngcontent-%COMP%]{height:50%;transition:all 1s}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-left[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-right[_ngcontent-%COMP%]{width:210px;height:210px;border-radius:50%;position:absolute;background-color:hsla(0,0%,100%,.5);top:275px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-left[_ngcontent-%COMP%]   .circle-sub-2[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-right[_ngcontent-%COMP%]   .circle-sub-2[_ngcontent-%COMP%]{width:190px;height:190px;border-radius:50%;position:absolute;top:10px;left:10px;background-color:#fff;cursor:pointer}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-left[_ngcontent-%COMP%]   .circle-sub-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-right[_ngcontent-%COMP%]   .circle-sub-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170px;height:170px;object-fit:cover;border-radius:50%;position:absolute;top:10px;left:10px;background-color:#fff}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-left[_ngcontent-%COMP%]   .circle-sub-2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-right[_ngcontent-%COMP%]   .circle-sub-2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px;position:absolute;color:#fff;left:65px;top:65px;text-shadow:2px 2px #000}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-left[_ngcontent-%COMP%]{left:-200px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-right[_ngcontent-%COMP%]{right:-200px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-center[_ngcontent-%COMP%]{position:absolute;top:-200px;left:377px;width:350px;height:350px;border-radius:50%;background-color:hsla(0,0%,100%,.43)}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-center[_ngcontent-%COMP%]   .circle-sub-1[_ngcontent-%COMP%]{width:310px;height:310px;border-radius:50%;position:absolute;top:20px;left:20px;background-color:hsla(0,0%,100%,.7)}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-center[_ngcontent-%COMP%]   .circle-sub-1[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50px;border-radius:40px;width:70%;height:35px;background-color:#141414;text-align:center}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-center[_ngcontent-%COMP%]   .circle-sub-1[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#fff;display:block;margin-top:5px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-center[_ngcontent-%COMP%]   .circle-sub-1[_ngcontent-%COMP%]   .circle-sub-2[_ngcontent-%COMP%]{width:290px;height:290px;border-radius:50%;position:absolute;top:10px;left:10px;background-color:#fff;cursor:pointer}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-center[_ngcontent-%COMP%]   .circle-sub-1[_ngcontent-%COMP%]   .circle-sub-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:270px;height:270px;object-fit:cover;border-radius:50%;position:absolute;top:10px;left:10px;background-color:#fff}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-center-animation[_ngcontent-%COMP%]{top:205px;transition:all 1s}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-left-animation[_ngcontent-%COMP%]{left:120px;transition:all 1s}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .circle-right-animation[_ngcontent-%COMP%]{right:120px;transition:all 1s}"]}),t})(),ry=(()=>{class t{constructor(t){this.main_page_service=t}ngOnInit(){setTimeout(()=>{this.main_page_service.reset(),this.main_page_service.selectSettingPage()},0)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(s_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-setting-page"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"p"),i._uU(2,"setting-page works!"),i.qZA(),i.qZA())},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{position:relative;background-color:#f5f9fc;border-radius:40px;height:100%;width:1144px}"]}),t})(),oy=(()=>{class t{constructor(t,e){this.router=t,this.login_service=e,this.options={path:"/assets/json/lottie/404-not-found.json"}}ngOnInit(){}animationCreated(t){}back(){this.login_service.isLogin()?this.router.navigate(["/bessenger"]):this.router.navigate(["/dang-nhap"])}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ar),i.Y36(bg))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-not-found-page"]],decls:9,vars:1,consts:[[1,"container"],["lottie","",1,"anim",3,"options","animationCreated"],[1,"title"],[1,"line"],[1,"sub-title"],[1,"go-to-home-page",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"main",1),i.NdJ("animationCreated",function(t){return e.animationCreated(t)}),i.qZA(),i.TgZ(2,"p",2),i._uU(3,"404"),i.qZA(),i._UZ(4,"div",3),i.TgZ(5,"p",4),i._uU(6,"Kh\xf4ng t\u1ed3n t\u1ea1i trang m\xe0 b\u1ea1n \u0111ang t\xecm ki\u1ebfm "),i.qZA(),i.TgZ(7,"a",5),i.NdJ("click",function(){return e.back()}),i._uU(8,"Tr\u1edf l\u1ea1i"),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Q6J("options",e.options))},directives:[Qt,Kt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{width:1244px;display:flex;height:800px;background-color:#03294e;box-shadow:0 0 73px 10px #d7e2edd6;border-radius:30px;margin:50px;position:relative}.container[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{transform:translateX(-100px);width:725px}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;color:#fff;font-family:Raleway;left:622px;top:200px;font-size:130px;font-weight:700}.container[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{left:622px;top:410px;width:72px;border-radius:5px;position:absolute;background-color:#009688;height:5px}.container[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{top:450px;font-size:20px}.container[_ngcontent-%COMP%]   .go-to-home-page[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{position:absolute;font-family:sans-serif;color:#fff;left:622px}.container[_ngcontent-%COMP%]   .go-to-home-page[_ngcontent-%COMP%]{cursor:pointer;top:510px;border-radius:10px;background-color:#009688;text-decoration:none;padding:13px 90px}"]}),t})(),sy=(()=>{class t{constructor(){this.chon_gioi_tinh_duoc_chon=!1,this.chon_hinh_dai_dien_duoc_chon=!1,this.xac_nhan_email_chon=!1,this.getData()}isLoadingProcess(){return this.isLoading}setLoading(t){this.isLoading=t}getData(){this.reset();let t=JSON.parse(localStorage.getItem("register-process"));"0"==t?this.chon_gioi_tinh_duoc_chon=!0:"1"==t?this.chon_hinh_dai_dien_duoc_chon=!0:"2"==t&&(this.xac_nhan_email_chon=!0)}reset(){this.chon_gioi_tinh_duoc_chon=!1,this.chon_hinh_dai_dien_duoc_chon=!1,this.xac_nhan_email_chon=!1}isChonGioiTinh(){return this.chon_gioi_tinh_duoc_chon}isChonHinhDaiDien(){return this.chon_hinh_dai_dien_duoc_chon}isXacNhanEmail(){return this.xac_nhan_email_chon}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ay=(()=>{class t{constructor(){this.options={path:"/assets/json/lottie/notification.json"},this.show=!1,this.title="Y\xeau c\u1ea7u th\xe0nh c\xf4ng",this.child="H\xecnh \u1ea3nh c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt"}hidden(){this.show=!1}isShow(){return this.show}setTitle(t){this.title=t}setChild(t){this.child=t}showPop(){this.show=!0}animationCreated(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cy(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",33),i.TgZ(1,"div",17),i.TgZ(2,"main",34),i.NdJ("animationCreated",function(e){return i.CHM(t),i.oxw().notification_register_page.animationCreated(e)}),i.qZA(),i.TgZ(3,"p",16),i._uU(4),i.qZA(),i.TgZ(5,"p",35),i._uU(6),i.qZA(),i.TgZ(7,"button",36),i.NdJ("click",function(){return i.CHM(t),i.oxw().notification_register_page.hidden()}),i._UZ(8,"i",37),i.TgZ(9,"p"),i._uU(10,"Ti\u1ebfp t\u1ee5c"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(2),i.Q6J("options",t.notification_register_page.options),i.xp6(2),i.Oqu(t.notification_register_page.title),i.xp6(2),i.Oqu(t.notification_register_page.child)}}function ly(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",38),i.TgZ(1,"main",34),i.NdJ("animationCreated",function(e){return i.CHM(t),i.oxw().animationCreated(e)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("options",t.options)}}function hy(t,e){1&t&&i._UZ(0,"i",39)}function uy(t,e){1&t&&i._UZ(0,"i",40)}function dy(t,e){1&t&&i._UZ(0,"i",39)}function py(t,e){1&t&&i._UZ(0,"i",40)}function gy(t,e){1&t&&i._UZ(0,"i",39)}function fy(t,e){1&t&&i._UZ(0,"i",40)}function _y(t,e){1&t&&(i.TgZ(0,"p"),i._uU(1,"Ch\u1ecdn gi\u1edbi t\xednh"),i.qZA())}function my(t,e){1&t&&(i.TgZ(0,"p",41),i._uU(1,"Ch\u1ecdn gi\u1edbi t\xednh"),i.qZA())}function yy(t,e){1&t&&(i.TgZ(0,"p"),i._uU(1,"Ch\u1ecdn h\xecnh \u0111\u1ea1i di\u1ec7n"),i.qZA())}function vy(t,e){1&t&&(i.TgZ(0,"p",41),i._uU(1,"Ch\u1ecdn h\xecnh \u0111\u1ea1i di\u1ec7n"),i.qZA())}function Cy(t,e){1&t&&(i.TgZ(0,"p"),i._uU(1,"X\xe1c nh\u1eadn email"),i.qZA())}function by(t,e){1&t&&(i.TgZ(0,"p",41),i._uU(1,"X\xe1c nh\u1eadn email"),i.qZA())}let xy=(()=>{class t{constructor(t,e,n,i,r){this.register_account_service=t,this.router=e,this.route=n,this.register_process_service=i,this.notification_register_page=r,this.options={path:"/assets/json/lottie/loading.json"}}ngOnInit(){this.register_account_service.isRegister()?(null==JSON.parse(localStorage.getItem("register-process"))&&(localStorage.setItem("register-process",JSON.stringify("0")),this.register_process_service.reset(),this.register_process_service.getData()),this.init()):this.router.navigate(["/bessenger"])}init(){setTimeout(()=>{this.register_process_service.setLoading(!1)},0),document.getElementById("hinh2").style.opacity="0",document.getElementById("hinh3").style.opacity="0",document.getElementById("hinh4").style.opacity="0",document.getElementById("hinh5").style.opacity="0",this.countSlide=0,this.isRunningSlide=!0,this.setDelay(1e4),this.register_process_service.isChonGioiTinh()?this.moveToSelectSexPage():this.register_process_service.isChonHinhDaiDien()?this.moveToSelectAvatarPage():this.register_process_service.isXacNhanEmail()&&this.moveToVerifyEmailPage()}animationCreated(t){}setDelay(t){setTimeout(()=>{this.countSlide++;let e=`hinh${this.countSlide}`,n=`hinh${this.countSlide+1}`;5==this.countSlide&&(n="hinh1",this.countSlide=0);let i=document.getElementById(e);null!=i&&(i.style.opacity="0");let r=document.getElementById(n);null!=r&&(r.style.opacity="1");let o=document.getElementById("child");null!=o&&(o.style.left=64*this.countSlide+"px");let s=document.getElementById("content_child");null!=s&&(s.innerText=`0${this.countSlide+1}`),this.isRunningSlide&&this.setDelay(t)},t)}moveToSelectSexPage(){this.router.navigate(["chon-gioi-tinh"],{relativeTo:this.route})}moveToSelectAvatarPage(){this.router.navigate(["chon-hinh-dai-dien"],{relativeTo:this.route})}moveToVerifyEmailPage(){this.router.navigate(["xac-nhan-email"],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(xg),i.Y36(Ar),i.Y36(li),i.Y36(sy),i.Y36(ay))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-register-page"]],decls:56,vars:14,consts:[["class","notification",4,"ngIf"],["class","loading",4,"ngIf"],[1,"container"],[1,"left"],["id","hinh1","src","assets/images/login-page/background1.jpg","alt","",1,"img"],["id","hinh2","src","assets/images/login-page/background2.jpg","alt","",1,"img"],["id","hinh3","src","assets/images/login-page/background3.jpg","alt","",1,"img"],["id","hinh4","src","assets/images/login-page/background4.jpg","alt","",1,"img"],["id","hinh5","src","assets/images/login-page/background5.jpg","alt","",1,"img"],[1,"left_header"],["src","assets/images/icon.ico","alt",""],[1,"bar"],["id","child",1,"child"],[1,"content_child"],["id","content_child"],[1,"thanks"],[1,"title"],[1,"content"],[1,"more"],[1,"fab","fa-ubuntu"],[1,"right"],[1,"header"],[1,"process"],["class","far fa-circle",4,"ngIf"],["class","fas fa-check-circle",4,"ngIf"],[1,"line-done-1"],[1,"line-done-2"],[1,"process-name"],[4,"ngIf"],["style","color: #4290f6;",4,"ngIf"],[1,"line"],[1,"footer"],[1,"far","fa-question-circle"],[1,"notification"],["lottie","",1,"anim",3,"options","animationCreated"],[1,"child"],[1,"confirm",3,"click"],[1,"fab","fa-battle-net"],[1,"loading"],[1,"far","fa-circle"],[1,"fas","fa-check-circle"],[2,"color","#4290f6"]],template:function(t,e){1&t&&(i.YNc(0,cy,11,3,"div",0),i.YNc(1,ly,2,1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i._UZ(4,"img",4),i._UZ(5,"img",5),i._UZ(6,"img",6),i._UZ(7,"img",7),i._UZ(8,"img",8),i.TgZ(9,"div",9),i._UZ(10,"img",10),i.TgZ(11,"p"),i._uU(12,"Bessenger"),i.qZA(),i.qZA(),i.TgZ(13,"div",11),i._UZ(14,"div",12),i.qZA(),i.TgZ(15,"div",13),i.TgZ(16,"p",14),i._uU(17,"01 "),i.qZA(),i.TgZ(18,"p"),i._uU(19," - 05"),i.qZA(),i.qZA(),i.TgZ(20,"p",15),i._uU(21,"C\u1ea3m \u01a1n b\u1ea1n \u0111\xe3 \u0111\u1ebfn v\u1edbi ch\xfang t\xf4i"),i.qZA(),i.TgZ(22,"p",16),i._uU(23,"Ho\xe0n thi\u1ec7n nh\u1eefng b\u01b0\u1edbc cu\u1ed1i c\xf9ng"),i.qZA(),i.TgZ(24,"p",17),i._uU(25,'Bessenger c\u1ee7a ch\xfang t\xf4i ra \u0111\u1eddi nh\u1eafm \u0111\xe1p \u1ee9ng c\xe1c nhu c\u1ea7u nh\u1eafn tin m\xe0 c\xe1c trang kh\xe1c kh\xf4ng l\xe0m \u0111\u01b0\u1ee3c \u0111\xf3 l\xe0 "\xcdt ng\u01b0\u1eddi bi\u1ebft \u0111\u1ebfn", \u0111i\u1ec1u \u0111\xf3 gi\xfap b\u1ea1n v\xe0 t\u1ed5 ch\u1ee9c, c\xe1 nh\u1eadn c\u1ee7a b\u1ea1n c\xf3 \u0111\u01b0\u1ee3c c\xe1c cu\u1ed9c trao \u0111\u1ed5i ri\xeang t\u01b0 kh\xf4ng b\u1ecb \u0103n c\u1eafp hay nghe l\xe9n. D\xf9 \u0111\u01a1n gi\u1ea3n nh\u01b0ng ch\xfang t\xf4i v\xe3n \u0111\xe1p \u1ee9ng \u0111\u1ea7y \u0111\u1ee7 c\xe1c ch\u1ee9c n\u0103ng c\u1ee7a m\u1ed9t \u1ee9ng d\u1ee5ng Chat!'),i.qZA(),i.TgZ(26,"div",18),i._UZ(27,"i",19),i.TgZ(28,"p"),i._uU(29,"T\u1ea1i sao b\u1ea1n l\u1ea1i bi\u1ebfn \u0111\u1ebfn ch\xfang t\xf4i mu\u1ed9n v\u1eady? \u0110\xf3 l\xe0 \u0111i\u1ec1u thi\u1ec7t th\xf2i c\u1ee7a b\u1ea1n!"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(30,"div",20),i.TgZ(31,"div",21),i.TgZ(32,"p",16),i._uU(33,"Ch\xe0o m\u1eebng \u0111\u1ebfn v\u1edbi d\u1ecbch v\u1ee5 Bessenger!"),i.qZA(),i.TgZ(34,"div",22),i.YNc(35,hy,1,0,"i",23),i.YNc(36,uy,1,0,"i",24),i.YNc(37,dy,1,0,"i",23),i.YNc(38,py,1,0,"i",24),i.YNc(39,gy,1,0,"i",23),i.YNc(40,fy,1,0,"i",24),i._UZ(41,"div",25),i._UZ(42,"div",26),i.qZA(),i.TgZ(43,"div",27),i.YNc(44,_y,2,0,"p",28),i.YNc(45,my,2,0,"p",29),i.YNc(46,yy,2,0,"p",28),i.YNc(47,vy,2,0,"p",29),i.YNc(48,Cy,2,0,"p",28),i.YNc(49,by,2,0,"p",29),i.qZA(),i._UZ(50,"div",30),i.qZA(),i._UZ(51,"router-outlet"),i.TgZ(52,"div",31),i._UZ(53,"i",32),i.TgZ(54,"p"),i._uU(55,"M\u1ecdi th\u1eafc m\u1eafc, c\xe2u h\u1ecfi h\xe3y li\xean h\u1ec7 v\u1edbi ch\xfang t\xf4i qua \u0111\u1ecba ch\u1ec9 mail: bessenger@gmail.com, ch\xfang t\xf4i s\u1ebd gi\u1ea3i \u0111\xe1p cho b\u1ea1n s\u1edbm nh\u1ea5t c\xf3 th\u1ec3. C\u1ea3m \u01a1n!"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.Q6J("ngIf",e.notification_register_page.isShow()),i.xp6(1),i.Q6J("ngIf",e.register_process_service.isLoadingProcess()),i.xp6(34),i.Q6J("ngIf",!e.register_process_service.isChonGioiTinh()&&!e.register_process_service.isXacNhanEmail()&&!e.register_process_service.isChonHinhDaiDien()),i.xp6(1),i.Q6J("ngIf",e.register_process_service.isChonGioiTinh()||e.register_process_service.isChonHinhDaiDien()||e.register_process_service.isXacNhanEmail()),i.xp6(1),i.Q6J("ngIf",!e.register_process_service.isChonHinhDaiDien()&&!e.register_process_service.isXacNhanEmail()),i.xp6(1),i.Q6J("ngIf",e.register_process_service.isChonHinhDaiDien()||e.register_process_service.isXacNhanEmail()),i.xp6(1),i.Q6J("ngIf",!e.register_process_service.isXacNhanEmail()),i.xp6(1),i.Q6J("ngIf",e.register_process_service.isXacNhanEmail()),i.xp6(4),i.Q6J("ngIf",!e.register_process_service.isChonGioiTinh()),i.xp6(1),i.Q6J("ngIf",e.register_process_service.isChonGioiTinh()),i.xp6(1),i.Q6J("ngIf",!e.register_process_service.isChonHinhDaiDien()),i.xp6(1),i.Q6J("ngIf",e.register_process_service.isChonHinhDaiDien()),i.xp6(1),i.Q6J("ngIf",!e.register_process_service.isXacNhanEmail()),i.xp6(1),i.Q6J("ngIf",e.register_process_service.isXacNhanEmail()))},directives:[D,Ir,Qt,Kt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.notification[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;display:flex;justify-content:center;align-items:center;top:0;left:0}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:600px;height:500px;display:flex;background-color:#fff;flex-direction:column;align-items:center;border-radius:10px;box-shadow:17px 20px 14px 4px #dbdae4}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{width:285px;margin-top:10px;height:285px}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#23262e;font-family:Raleway;line-height:21px;letter-spacing:1px;font-weight:700;font-size:20px;margin-top:20px}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{letter-spacing:1px;font-size:12px;font-weight:500;color:#888;margin-top:15px;font-family:Raleway;text-align:center}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{border:none;background-color:#ff7ca9;justify-content:center;align-items:center;margin-top:40px;margin-left:auto;margin-right:auto;display:flex;cursor:pointer;border-radius:5px;padding:12px 24px}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;margin-left:10px;color:#fff}.notification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#fff}.loading[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;display:flex;justify-content:center;align-items:center;top:0;left:0}.loading[_ngcontent-%COMP%]   .anim[_ngcontent-%COMP%]{border:4px solid #da9696;border-radius:50%;background:#fff;width:300px;height:300px}.container[_ngcontent-%COMP%]{width:1244px;display:flex;flex-direction:row;height:800px;background-color:#fff;box-shadow:0 0 73px 10px #d7e2edd6;border-radius:40px;margin:50px}.left[_ngcontent-%COMP%]{border-top-left-radius:40px;border-bottom-left-radius:40px;width:34%;position:relative;height:100%;overflow:hidden}.left[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:700px;position:absolute;top:0;transform:translateX(-100px);left:0;transition:all 3s ease-in-out}.left_header[_ngcontent-%COMP%]{position:absolute;display:flex;width:100%;align-items:center;top:50px;left:50px}.left_header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}.left_header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:18px;margin-left:10px;font-weight:700;font-family:Raleway}.left[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;top:730px;left:50px;width:320px;background-color:#e2e2e25c;border-radius:4px;height:4px;overflow:hidden}.left[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transition:all 3s ease-in-out;width:64px;height:4px;background:#fff}.left[_ngcontent-%COMP%]   .content_child[_ngcontent-%COMP%]{position:absolute;top:0;right:0;top:752px;font-size:19px;font-weight:600;left:314px;display:flex;font-family:Raleway}.left[_ngcontent-%COMP%]   .content_child[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{transition:all 2s ease-in-out;color:#fff}.left[_ngcontent-%COMP%]   .content_child[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){color:#e2e2e2}.left[_ngcontent-%COMP%]   .thanks[_ngcontent-%COMP%]{top:210px;font-size:15px}.left[_ngcontent-%COMP%]   .thanks[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-family:Raleway;left:50px;position:absolute;font-weight:500;letter-spacing:1px}.left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{top:260px;font-size:36px}.left[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{top:389px;font-size:13px}.left[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{color:#fff;font-family:Raleway;left:50px;width:325px;line-height:21px;letter-spacing:1px;position:absolute;font-weight:500}.left[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{top:671px;font-size:11px;display:flex;flex-direction:row}.left[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{transform:translateY(-7px);margin-left:17px}.left[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.right[_ngcontent-%COMP%]{width:66%;overflow:hidden;border-bottom-right-radius:40px;height:100%}.right[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;height:27%;align-items:center}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#23262e;font-family:Raleway;line-height:21px;letter-spacing:1px;font-weight:700;font-size:20px;margin-top:70px}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]{width:60%;margin-top:37px;display:flex;position:relative;align-items:center;justify-content:space-between}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:#fff;color:#4290f6;z-index:2}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]   .line-done-1[_ngcontent-%COMP%]{left:0}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]   .line-done-1[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]   .line-done-2[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#f5f5f5;position:absolute;top:0;margin-top:7px}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]   .line-done-2[_ngcontent-%COMP%]{right:0;z-index:1}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process-name[_ngcontent-%COMP%]{width:68%;margin-top:15px;display:flex;position:relative;align-items:center;justify-content:space-between}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .process-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:1px;font-size:12px;font-family:Raleway;font-weight:600;color:#c8c5cb}.right[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:80%;height:2px;background-color:#f5f5f5;position:absolute;bottom:0}.right[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;width:72%;margin-left:140px;height:12%;color:#888;font-family:Raleway}.right[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:21px;letter-spacing:1px;font-size:11px;transform:translateY(-5px);margin-left:17px}.right[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;font-weight:500}"]}),t})(),Py=(()=>{class t{constructor(t,e,n,i){this.db=t,this.storage=e,this.register_process_service=n,this.notification_register_page_service=i}getImg(){setTimeout(()=>{this.register_process_service.setLoading(!0)},0);let t=JSON.parse(localStorage.getItem("ma_tai_khoan"));return this.db.object("/tai_khoan/"+t).snapshotChanges()}updateImageToFirebase(t){setTimeout(()=>{this.register_process_service.setLoading(!0)},0);let e=JSON.parse(localStorage.getItem("ma_tai_khoan")),n="/tai_khoan/"+e+".png";const i=this.storage.ref(n),r=this.storage.upload(n,t);r.snapshotChanges().pipe(Ke(()=>{i.getDownloadURL().subscribe(t=>{this.db.object("/tai_khoan/"+e).update({hinh:n,link_hinh:t})})})).subscribe(),r.percentageChanges().subscribe(t=>{console.log("Ti\u1ebfn \u0111\u1ed9 t\u1ea3i h\xecnh \u0111\u1ea1i di\u1ec7n m\u1edbi l\xean firebase: "+t),100==t&&(setTimeout(()=>{this.register_process_service.setLoading(!1)},0),this.notification_register_page_service.setTitle("C\u1eadp nh\u1eadt h\xecnh \u0111\u1ea1i di\u1ec7n th\xe0nh c\xf4ng!"),this.notification_register_page_service.setChild("H\xecnh \u0111\u1ea1i di\u1ec7n c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c l\u01b0u l\u1ea1i"),this.notification_register_page_service.showPop())})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo),i.LFG(Xf),i.LFG(sy),i.LFG(ay))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Oy=(()=>{class t{constructor(t,e,n,i){this.register_account_service=t,this.router=e,this.register_process_service=n,this.select_avatar_service=i}ngOnInit(){this.register_account_service.isRegister()?this.register_process_service.isChonGioiTinh()?this.moveToSelectSexPage():this.register_process_service.isChonHinhDaiDien()?(setTimeout(()=>{this.register_process_service.reset(),this.register_process_service.getData()},0),this.init()):this.register_process_service.isXacNhanEmail()&&this.moveToVerifyEmailPage():this.router.navigate(["/bessenger"])}init(){null==this.select_avatar_service.layHinh||this.select_avatar_service.layHinh.unsubscribe(),this.getData()}getData(){this.select_avatar_service.layHinh=this.select_avatar_service.getImg().subscribe(t=>{let e=t.payload.toJSON();this.url_img_avatar=e.link_hinh,setTimeout(()=>{this.register_process_service.setLoading(!1)},0)})}goNext(){localStorage.setItem("register-process",JSON.stringify("2")),this.register_process_service.reset(),this.register_process_service.getData(),this.moveToVerifyEmailPage()}goBack(){localStorage.setItem("register-process",JSON.stringify("0")),this.register_process_service.reset(),this.register_process_service.getData(),this.moveToSelectSexPage()}chonHinh(t){this.select_avatar_service.updateImageToFirebase(t.target.files.item(0))}chonHinhTuMay(t){t.click()}moveToSelectSexPage(){this.router.navigate(["dang-ky/chon-gioi-tinh"])}moveToVerifyEmailPage(){this.router.navigate(["dang-ky/xac-nhan-email"])}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(xg),i.Y36(Ar),i.Y36(sy),i.Y36(Py))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-select-avatar"]],decls:22,vars:1,consts:[[1,"container"],[1,"title-header"],[1,"noi-dung"],[1,"content"],[1,"icon"],["alt","",3,"src"],[1,"update-file",3,"click"],[1,"fas","fa-cloud-upload-alt"],[1,"go-back",3,"click"],[1,"fas","fa-angle-left"],[1,"go-next",3,"click"],[1,"fas","fa-angle-right"],["type","file","accept","image/*",2,"display","none",3,"change"],["input",""]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"p",1),i._uU(2,"B\u1ea1n tr\xf4ng nh\u01b0 th\u1ebf n\xe0o ?"),i.qZA(),i.TgZ(3,"p",2),i._uU(4,"H\xe3y \u0111\u1ec3 m\u1ecdi ng\u01b0\u1eddi bi\u1ebft b\u1ea1n \u0111\u1eb9p nh\u01b0 th\u1ebf n\xe0o, \u0111\u1eebng ng\u1ea1i ng\xf9ng :v"),i.qZA(),i.TgZ(5,"div",3),i.TgZ(6,"div",4),i._UZ(7,"img",5),i.qZA(),i.qZA(),i.TgZ(8,"div",6),i.NdJ("click",function(){i.CHM(t);const n=i.MAs(21);return e.chonHinhTuMay(n)}),i._UZ(9,"i",7),i.TgZ(10,"p"),i._uU(11,"T\u1ea3i h\xecnh l\xean"),i.qZA(),i.qZA(),i.TgZ(12,"div",8),i.NdJ("click",function(){return e.goBack()}),i._UZ(13,"i",9),i.TgZ(14,"p"),i._uU(15,"Tr\u1edf l\u1ea1i"),i.qZA(),i.qZA(),i.TgZ(16,"div",10),i.NdJ("click",function(){return e.goNext()}),i.TgZ(17,"p"),i._uU(18,"Ti\u1ebfp t\u1ee5c"),i.qZA(),i._UZ(19,"i",11),i.qZA(),i.TgZ(20,"input",12,13),i.NdJ("change",function(t){return e.chonHinh(t)}),i.qZA(),i.qZA()}2&t&&(i.xp6(7),i.Q6J("src",e.url_img_avatar||"assets/images/loading.gif",i.LSH))},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{width:65%;height:488px;margin-left:auto;margin-right:auto;position:relative;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{font-family:Raleway;font-weight:700;letter-spacing:1px;font-size:23px;margin-top:30px;color:#23262e}.container[_ngcontent-%COMP%]   .noi-dung[_ngcontent-%COMP%]{letter-spacing:1px;font-size:11px;color:#888;margin-top:20px;font-family:Raleway}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:35px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:200px;box-shadow:0 0 46px 10px #a0a0a026;border-radius:27px;overflow:hidden;padding:13px;transition:all .3s ease-in-out}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:14px;width:200px;transition:all .3s ease-in-out}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transform:scale(1.2)}.container[_ngcontent-%COMP%]   .update-file[_ngcontent-%COMP%]{background-color:#4290f6;display:flex;justify-content:center;align-items:center;position:absolute;top:124px;left:278px;cursor:pointer;border-radius:5px;padding:12px 24px}.container[_ngcontent-%COMP%]   .update-file[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;margin-left:10px;color:#fff}.container[_ngcontent-%COMP%]   .update-file[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.container[_ngcontent-%COMP%]   .go-next[_ngcontent-%COMP%]{background-color:#4290f6;display:flex;justify-content:center;align-items:center;position:absolute;top:400px;left:407px;cursor:pointer;border-radius:5px;padding:12px 24px}.container[_ngcontent-%COMP%]   .go-next[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;color:#fff}.container[_ngcontent-%COMP%]   .go-next[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;margin-left:10px;color:#fff}.container[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]{background-color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;top:400px;left:278px;cursor:pointer;border-radius:5px;padding:11px 24px;border:1px solid #23262e}.container[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;margin-left:10px;color:#23262e}.container[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;color:#23262e}"]}),t})(),My=(()=>{class t{constructor(t,e,n,i,r){this.register_account_service=t,this.router=e,this.register_process_service=n,this.storage=i,this.db=r}ngOnInit(){this.register_account_service.isRegister()?this.register_process_service.isChonGioiTinh()?setTimeout(()=>{this.register_process_service.reset(),this.register_process_service.getData()},0):this.register_process_service.isChonHinhDaiDien()?this.moveToSelectAvatarPage():this.register_process_service.isXacNhanEmail()&&this.moveToVerifyEmailPage():this.router.navigate(["/bessenger"])}selectSex(t){setTimeout(()=>{this.register_process_service.setLoading(!0)},0),localStorage.setItem("register-process",JSON.stringify("1")),setTimeout(()=>{this.register_process_service.reset(),this.register_process_service.getData()},0);let e=JSON.parse(localStorage.getItem("ma_tai_khoan"));this.register_account_service.taiHinhMacDinhChoTaiKhoan(t).subscribe(n=>{let i=new File([n],e+".png",{type:n.type}),r="/tai_khoan/"+e+".png";const o=this.storage.ref(r),s=this.storage.upload(r,i);s.snapshotChanges().pipe(Ke(()=>{o.getDownloadURL().subscribe(n=>{let i="Nam";"nu"==t&&(i="N\u1eef"),this.db.object("/tai_khoan/"+e).update({hinh:r,link_hinh:n,gioi_tinh:i})})})).subscribe(),s.percentageChanges().subscribe(t=>{console.log("Ti\u1ebfn \u0111\u1ed9 t\u1ea3i h\xecnh gi\u1edbi t\xednh: "+t),100==t&&(setTimeout(()=>{this.register_process_service.setLoading(!1)},0),this.register_process_service.reset(),this.register_process_service.getData(),this.moveToSelectAvatarPage())})})}moveToSelectAvatarPage(){this.router.navigate(["dang-ky/chon-hinh-dai-dien"])}moveToVerifyEmailPage(){this.router.navigate(["dang-ky/xac-nhan-email"])}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(xg),i.Y36(Ar),i.Y36(sy),i.Y36(Xf),i.Y36(Uo))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-select-sex"]],decls:10,vars:0,consts:[[1,"container"],[1,"title-header"],[1,"noi-dung"],[1,"content"],[1,"icon",3,"click"],["src","assets/images/register-page/nu.png","alt",""],["src","assets/images/register-page/nam.png","alt",""]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"p",1),i._uU(2,"B\u1ea1n l\xe0 ..."),i.qZA(),i.TgZ(3,"p",2),i._uU(4,'Ch\xfang t\xf4i \u01b0u ti\xean b\u1ea3o m\u1eadt l\xe0 tr\xean h\u1ebft n\xean icon c\u0169ng r\u1ea5t chi l\xe0 "B\xed m\u1eadt"...'),i.qZA(),i.TgZ(5,"div",3),i.TgZ(6,"div",4),i.NdJ("click",function(){return e.selectSex("nu")}),i._UZ(7,"img",5),i.qZA(),i.TgZ(8,"div",4),i.NdJ("click",function(){return e.selectSex("nam")}),i._UZ(9,"img",6),i.qZA(),i.qZA(),i.qZA())},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{width:65%;height:488px;margin-left:auto;margin-right:auto;position:relative;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{font-family:Raleway;font-weight:700;letter-spacing:1px;font-size:23px;margin-top:30px;color:#23262e}.container[_ngcontent-%COMP%]   .noi-dung[_ngcontent-%COMP%]{letter-spacing:1px;font-size:11px;color:#888;margin-top:20px;font-family:Raleway}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:35px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{box-shadow:0 0 46px 10px #a0a0a026;border-radius:27px;overflow:hidden;padding:13px;cursor:pointer}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;transition:all .3s ease-in-out}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transform:scale(1.2)}"]}),t})(),wy=(()=>{class t{constructor(t,e,n){this.register_process_service=t,this.db=e,this.http=n,this.REST_API_SERVER="https://bessenger.000webhostapp.com"}getEmail(){setTimeout(()=>{this.register_process_service.setLoading(!0)},0);let t=JSON.parse(localStorage.getItem("ma_tai_khoan"));return this.http.get(`${this.REST_API_SERVER}/lay_email_tu_ma_tai_khoan.php?ma_tai_khoan=${t}`)}submit(t){setTimeout(()=>{this.register_process_service.setLoading(!0)},0);let e=JSON.parse(localStorage.getItem("ma_tai_khoan"));return this.http.get(`${this.REST_API_SERVER}/kiem_tra_code.php?ma_tai_khoan=${e}&&code=${t}`)}turnOnAccount(){setTimeout(()=>{this.register_process_service.setLoading(!0)},0);let t=JSON.parse(localStorage.getItem("ma_tai_khoan"));return this.http.get(`${this.REST_API_SERVER}/cap_nhat_trang_thai_kich_hoat.php?ma_tai_khoan=${t}`)}updateEmail(t){let e=JSON.parse(localStorage.getItem("ma_tai_khoan"));return this.http.get(`${this.REST_API_SERVER}/cap_nhat_code.php?ma_tai_khoan=${e}&&code=${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(sy),i.LFG(Uo),i.LFG(jp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ky=(()=>{class t{constructor(t,e,n,i,r,o){this.register_account_service=t,this.router=e,this.register_process_service=n,this.verify_email_service=i,this.notification_register_page_service=r,this.notification_login_page=o}ngOnInit(){this.register_account_service.isRegister()?this.register_process_service.isChonGioiTinh()?this.moveToSelectSexPage():this.register_process_service.isChonHinhDaiDien()?this.moveToSelectAvatarPage():this.register_process_service.isXacNhanEmail()&&setTimeout(()=>{this.register_process_service.reset(),this.register_process_service.getData()},0):this.router.navigate(["/bessenger"])}submit(t){this.verify_email_service.submit(this.num1+""+this.num2+this.num3+this.num4+this.num5+this.num6).subscribe(e=>{e.length>0?this.verify_email_service.turnOnAccount().subscribe(t=>{localStorage.removeItem("ma_tai_khoan"),localStorage.removeItem("register-process"),setTimeout(()=>{this.register_process_service.setLoading(!1)},0),this.notification_login_page.setTitle("\u0110\u0103ng k\xfd th\xe0nh c\xf4ng!"),this.notification_login_page.setChild("\u0110\xe3 t\u1edbi l\xfac \u0111\u0103ng nh\u1eadp v\xe0 th\u01b0\u1edfng th\u1ee9c n\xe0o!"),this.notification_login_page.showPop(),this.router.navigate(["/dang-nhap"])}):(setTimeout(()=>{this.register_process_service.setLoading(!1)},0),t.style.display="block")})}handleButton(t){let e=0;null!=this.num1&&null!=this.num1&&e++,null!=this.num2&&null!=this.num2&&e++,null!=this.num3&&null!=this.num3&&e++,null!=this.num4&&null!=this.num4&&e++,null!=this.num5&&null!=this.num5&&e++,null!=this.num6&&null!=this.num6&&e++,6==e?(t.disabled=!1,t.classList.remove("button-done-select"),t.classList.add("button-select")):(t.disabled=!0,t.classList.add("button-done-select"),t.classList.remove("button-select"))}goBack(){localStorage.setItem("register-process",JSON.stringify("1")),this.register_process_service.reset(),this.register_process_service.getData(),this.moveToSelectAvatarPage()}reSendEmail(){let t="";for(let n=0;n<6;n++)t+=Math.floor(10*Math.random())+0+"";let e=new ag;e.code=t,this.verify_email_service.getEmail().subscribe(t=>{e.email=t[0].email,this.register_account_service.sendMail(e).subscribe(t=>{this.verify_email_service.updateEmail(e.code).subscribe(t=>{setTimeout(()=>{this.register_process_service.setLoading(!1)},0),this.notification_register_page_service.setTitle("G\u1eedi l\u1ea1i m\xe3 th\xe0nh c\xf4ng!"),this.notification_register_page_service.setChild("Email c\xf3 ch\u1ee9a m\xe3 m\u1edbi \u0111\xe3 \u0111\u01b0\u1ee3c ch\xfang t\xf4i g\u1eedi l\u1ea1i \u0111\u1ebfn b\u1ea1n, vui l\xf2ng ki\u1ec3m tra email"),this.notification_register_page_service.showPop()})})})}moveToSelectAvatarPage(){this.router.navigate(["dang-ky/chon-hinh-dai-dien"])}moveToSelectSexPage(){this.router.navigate(["dang-ky/chon-gioi-tinh"])}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(xg),i.Y36(Ar),i.Y36(sy),i.Y36(wy),i.Y36(ay),i.Y36(og))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-verify-email"]],decls:37,vars:6,consts:[[1,"container"],["src","assets/images/register-page/email.png","alt","",1,"email"],[1,"title-header"],[1,"noi-dung"],[1,"verify"],[1,"child"],["type","number","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","maxlength","1",3,"ngModel","ngModelChange","change"],["type","number","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","maxlength","1",3,"ngModel","ngModelChange"],[1,"error"],["error",""],["disabled","",1,"confirm","button-done-select",3,"click"],["button",""],[1,"fab","fa-cloudversify"],[1,"re-send"],[1,"child-1"],[1,"child-2",3,"click"],[1,"fas","fa-spinner"],[1,"go-back",3,"click"],[1,"fas","fa-angle-left"]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i._UZ(1,"img",1),i.TgZ(2,"p",2),i._uU(3,"H\xe3y x\xe1c th\u1ef1c Email c\u1ee7a b\u1ea1n"),i.qZA(),i.TgZ(4,"p",3),i._uU(5,'Ch\xfang t\xf4i \u0111\xe3 g\u1eedi cho b\u1ea1n m\u1ed9t "M\xe3 x\xe1c th\u1ef1c" \u0111\u1ebfn Email c\u1ee7a b\u1ea1n g\u1ed3m 6 CH\u1eee S\u1ed0, h\xe3y nh\u1eadp \u0111\u1ec3 ch\u1eafc ch\u1eafn \u0111\xf3 l\xe0 b\u1ea1n!'),i.qZA(),i.TgZ(6,"div",4),i.TgZ(7,"div",5),i.TgZ(8,"input",6),i.NdJ("ngModelChange",function(t){return e.num1=t})("change",function(){i.CHM(t);const n=i.MAs(23);return e.handleButton(n)}),i.qZA(),i.qZA(),i.TgZ(9,"div",5),i.TgZ(10,"input",6),i.NdJ("ngModelChange",function(t){return e.num2=t})("change",function(){i.CHM(t);const n=i.MAs(23);return e.handleButton(n)}),i.qZA(),i.qZA(),i.TgZ(11,"div",5),i.TgZ(12,"input",6),i.NdJ("ngModelChange",function(t){return e.num3=t})("change",function(){i.CHM(t);const n=i.MAs(23);return e.handleButton(n)}),i.qZA(),i.qZA(),i.TgZ(13,"div",5),i.TgZ(14,"input",6),i.NdJ("ngModelChange",function(t){return e.num4=t})("change",function(){i.CHM(t);const n=i.MAs(23);return e.handleButton(n)}),i.qZA(),i.qZA(),i.TgZ(15,"div",5),i.TgZ(16,"input",6),i.NdJ("ngModelChange",function(t){return e.num5=t})("change",function(){i.CHM(t);const n=i.MAs(23);return e.handleButton(n)}),i.qZA(),i.qZA(),i.TgZ(17,"div",5),i.TgZ(18,"input",7),i.NdJ("ngModelChange",function(t){return e.num6=t})("ngModelChange",function(){i.CHM(t);const n=i.MAs(23);return e.handleButton(n)}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(19,"p",8,9),i._uU(21,"M\xe3 x\xe1c th\u1ef1c kh\xf4ng \u0111\xfang, vui l\xf2ng ki\u1ec3m tra l\u1ea1i!"),i.qZA(),i.TgZ(22,"button",10,11),i.NdJ("click",function(){i.CHM(t);const n=i.MAs(20);return e.submit(n)}),i._UZ(24,"i",12),i.TgZ(25,"p"),i._uU(26,"X\xe1c th\u1ef1c"),i.qZA(),i.qZA(),i.TgZ(27,"div",13),i.TgZ(28,"p",14),i._uU(29,"B\u1ea1n kh\xf4ng nh\u1eadn \u0111\u01b0\u1ee3c m\xe3?"),i.qZA(),i.TgZ(30,"p",15),i.NdJ("click",function(){return e.reSendEmail()}),i._UZ(31,"i",16),i._uU(32," G\u1eedi l\u1ea1i m\xe3"),i.qZA(),i.qZA(),i.TgZ(33,"div",17),i.NdJ("click",function(){return e.goBack()}),i._UZ(34,"i",18),i.TgZ(35,"p"),i._uU(36,"Tr\u1edf l\u1ea1i"),i.qZA(),i.qZA(),i.qZA()}2&t&&(i.xp6(8),i.Q6J("ngModel",e.num1),i.xp6(2),i.Q6J("ngModel",e.num2),i.xp6(2),i.Q6J("ngModel",e.num3),i.xp6(2),i.Q6J("ngModel",e.num4),i.xp6(2),i.Q6J("ngModel",e.num5),i.xp6(2),i.Q6J("ngModel",e.num6))},directives:[Su,Yh,Iu,cu,ku],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{width:65%;height:488px;position:relative;display:flex;flex-direction:column}.container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{width:150px;margin-top:10px}.container[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{font-weight:700;font-size:23px;margin-top:30px;color:#23262e}.container[_ngcontent-%COMP%]   .noi-dung[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{font-family:Raleway;letter-spacing:1px;text-align:center}.container[_ngcontent-%COMP%]   .noi-dung[_ngcontent-%COMP%]{font-size:11px;color:#888;margin-top:20px}.container[_ngcontent-%COMP%]   .verify[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .verify[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{overflow:hidden;border-radius:5px;display:flex;justify-content:center;align-items:center;width:51px;height:62px;box-shadow:0 0 3px #00000066}.container[_ngcontent-%COMP%]   .verify[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#23262e;border:none;outline:none;text-align:center;width:100px;height:100%;font-size:32px;font-family:sans-serif;font-weight:900;margin-left:15px;margin-bottom:2px}.container[_ngcontent-%COMP%]   .button-select[_ngcontent-%COMP%]{background-color:#4290f6}.container[_ngcontent-%COMP%]   .button-select[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .button-select[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.container[_ngcontent-%COMP%]   .button-done-select[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .button-done-select[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#23262e}.container[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{border:none;justify-content:center;align-items:center;margin-top:40px;margin-left:auto;margin-right:auto;display:flex;cursor:pointer;border-radius:5px;padding:12px 24px}.container[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;margin-left:10px}.container[_ngcontent-%COMP%]   .re-send[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .re-send[_ngcontent-%COMP%]   .child-1[_ngcontent-%COMP%]{font-weight:500;color:#888}.container[_ngcontent-%COMP%]   .re-send[_ngcontent-%COMP%]   .child-1[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .re-send[_ngcontent-%COMP%]   .child-2[_ngcontent-%COMP%]{letter-spacing:1px;font-size:12px;margin-top:20px;font-family:Raleway;text-align:center}.container[_ngcontent-%COMP%]   .re-send[_ngcontent-%COMP%]   .child-2[_ngcontent-%COMP%]{color:#4290f6;font-weight:700;cursor:pointer;margin-left:30px}.container[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]{background-color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;top:379px;left:0;cursor:pointer;border-radius:5px;padding:11px 24px;border:1px solid #23262e}.container[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;margin-left:10px;color:#23262e}.container[_ngcontent-%COMP%]   .go-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;color:#23262e}.container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#ff7b5c;display:none;text-align:center;font-family:Raleway;font-size:13px;font-weight:600;letter-spacing:1px;top:353px;position:absolute;left:0;margin-left:auto;margin-right:auto;width:100%}"]}),t})();function Ty(t,e){if(1&t&&(i.TgZ(0,"div",21),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.ekj("non-mutual",0==t.mutualFriends),i.s9C("matTooltip",t.name),i.xp6(1),i.Oqu(t.getNameLimitAddList())}}function Sy(t,e){if(1&t&&(i.TgZ(0,"div",22),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.ekj("non-mutual",0==t.mutualFriends),i.xp6(1),i.Oqu(t.name)}}function Ey(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",23),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit;return i.oxw().onClickGetIDFriendMutual(e.id)}),i._uU(1),i.qZA()}if(2&t){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.mutualFriends," b\u1ea1n chung")}}function Ay(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",24),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(),n=e.$implicit,r=e.index;return i.oxw().onClickAddFriends(n,r)}),i._UZ(1,"i",25),i.TgZ(2,"span"),i._uU(3,"Th\xeam b\u1ea1n b\xe8"),i.qZA(),i.qZA()}}function Iy(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",24),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(),n=e.$implicit,r=e.index;return i.oxw().onClickUndoAddFriends(n,r)}),i._UZ(1,"i",26),i.TgZ(2,"span"),i._uU(3,"Thu h\u1ed3i"),i.qZA(),i.qZA()}}function Dy(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",11),i.TgZ(1,"div",12),i.NdJ("click",function(){const e=i.CHM(t).$implicit,n=i.oxw();return n.onClickSelectedFriend(e,n.iDUrl)}),i.TgZ(2,"div",13),i._UZ(3,"img",14),i.qZA(),i.TgZ(4,"div",15),i.YNc(5,Ty,2,4,"div",16),i.YNc(6,Sy,2,3,"div",17),i.qZA(),i.qZA(),i.YNc(7,Ey,2,1,"div",18),i.TgZ(8,"div",19),i.YNc(9,Ay,4,0,"div",20),i.YNc(10,Iy,4,0,"div",20),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,n=e.index,r=i.oxw();i.ekj("detail-selected",t.id===r.iDUrl),i.MGl("id","id-",n,""),i.xp6(3),i.Q6J("src",t.img||"assets/images/loading.gif",i.LSH),i.xp6(2),i.Q6J("ngIf",t.checkLimitNameAddList()),i.xp6(1),i.Q6J("ngIf",!t.checkLimitNameAddList()),i.xp6(1),i.Q6J("ngIf",0!=t.mutualFriends),i.xp6(2),i.Q6J("ngIf","them"==t.checkAddOrUndo),i.xp6(1),i.Q6J("ngIf","thu_hoi"==t.checkAddOrUndo)}}function Fy(t,e){if(1&t&&(i.TgZ(0,"div",22),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.xp6(1),i.Oqu(t.getNameLimitMutualAdd())}}function Ny(t,e){if(1&t&&(i.TgZ(0,"div",22),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.xp6(1),i.Oqu(t.name)}}function Ly(t,e){if(1&t&&(i.TgZ(0,"div",27),i.TgZ(1,"div",13),i._UZ(2,"img",14),i.qZA(),i.TgZ(3,"div",19),i.YNc(4,Fy,2,1,"div",28),i.YNc(5,Ny,2,1,"div",28),i.TgZ(6,"div",29),i.TgZ(7,"span"),i._uU(8,"Ng\xe0y k\u1ebft b\u1ea1n:"),i.qZA(),i._uU(9),i.qZA(),i.qZA(),i.TgZ(10,"div",30),i.TgZ(11,"div",31),i.TgZ(12,"span"),i._uU(13,"Gi\u1edbi t\xednh:"),i.qZA(),i._uU(14),i.qZA(),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.img||"assets/images/loading.gif",i.LSH),i.xp6(2),i.Q6J("ngIf",t.checkLimitNameMutualAdd()),i.xp6(1),i.Q6J("ngIf",!t.checkLimitNameMutualAdd()),i.xp6(4),i.hij(" ",t.dateAddFormatMutualAdd(),""),i.xp6(5),i.hij(" ",t.sex,"")}}let Zy=(()=>{class t{constructor(t,e,n,i,r,o,s){this.friendsPageService=t,this.router=e,this.route=n,this.contactsService=i,this.addListService=r,this.requestListService=o,this.sendsListService=s,this.idMutualAdd=""}ngOnInit(){this.friendsPageService.selectedAddFriendsService(),this.getIDURLFriendsList(),this.getListAdd()}onClickExitMutual(){this.idMutualAdd=""}sortMututalAdd(){this.mutualAddList=this.mutualAddList.sort((t,e)=>{var n=t.getNameLast(),i=e.getNameLast();return n<i?-1:n>i?1:0})}onClickGetIDFriendMutual(t){let e,n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),i=[];this.idMutualAdd=t,this.contactsService.getListIDFriendsByIDUser(n).on("value",n=>{i=[],n.forEach(t=>{0==t.val().ton_tai&&i.push(t.key)}),this.contactsService.getListIDFriendsByIDUser(t).on("value",t=>{this.mutualAddList=[],t.forEach(t=>{i.forEach(n=>{0==t.val().ton_tai&&t.key==n&&this.requestListService.getInforRequest(t.key).on("value",n=>{e=new g_;let i=!0;e.id=n.key,e.img=n.val().link_hinh,e.name=n.val().ten,e.sex=n.val().gioi_tinh,e.date=t.val().ngay_tao,e.lastOnline=n.val().lan_cuoi_dang_nhap,this.mutualAddList.forEach(t=>{t.id==e.id&&(i=!1)}),i?this.mutualAddList.push(e):this.mutualAddList.forEach((t,n)=>{t.id==e.id&&(t.img==e.img&&t.name==e.img&&t.sex==e.sex&&t.date==e.date||(this.mutualAddList[n]=e))}),this.sortMututalAdd()})})})})})}moveLink(t){this.router.navigate(["/bessenger/ban-be/them-ban/"+t])}getIDURLFriendsList(){this.valueSub=this.route.paramMap.subscribe(t=>{this.iDUrl=t.get("id")})}ngOnDestroy(){this.valueSub.unsubscribe()}sendFriendToProfile(t,e){this.contactsService.setAddInforService(t,e)}onClickSelectedFriend(t,e){null!=t&&this.iDUrl!=t.id&&(this.sendFriendToProfile(t.id,t.checkAddOrUndo),this.moveLink(t.id))}getListAdd(){if(null!=this.iDUrl){let t=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.addListService.getListFriendsByIDUser(t).on("value",e=>{setTimeout(()=>{this.friendsPageService.setLoading(!0)},0);let n=[];if(null!=e.val()){let i=!0;e.forEach(t=>{0==t.val().ton_tai&&n.push(t.key)}),this.addListService.getRequestInforByIDUser(t).once("value",e=>{let r=[];null!=e.val()&&e.forEach(t=>{0==t.val().ton_tai&&r.push(t.key)}),this.addListService.getSendInforByIDUser(t).once("value",e=>{let o=[];null!=e.val()&&e.forEach(t=>{0==t.val().ton_tai&&o.push(t.key)}),this.addListService.getAllAccount().on("value",e=>{null!=e.val()&&i&&(this.friendsPageService.addList=[],e.forEach(e=>{if(e.key==t||e.key!=this.iDUrl||o.includes(e.key)||r.includes(e.key)||n.includes(e.key))this.friendsPageService.saveAddList.length>0&&this.friendsPageService.saveAddList.forEach(t=>{if(t.id==e.key){let t=new g_;t.id=e.key,t.name=e.val().ten,t.img=e.val().link_hinh,t.checkAddOrUndo="them",this.friendsPageService.saveAddList.forEach(e=>{e.id==t.id&&(t.checkAddOrUndo=e.checkAddOrUndo)}),this.friendsPageService.addList.push(t)}});else{let t=new g_;t.id=e.key,t.name=e.val().ten,t.img=e.val().link_hinh,t.checkAddOrUndo="them",0!=this.friendsPageService.saveAddList.length?this.friendsPageService.saveAddList.forEach(e=>{e.id==t.id&&(t.checkAddOrUndo=e.checkAddOrUndo)}):t.checkAddOrUndo="them",this.friendsPageService.addList.push(t)}}),this.friendsPageService.addList.forEach(t=>{this.addListService.getListFriendsByIDUser(t.id).on("value",e=>{let i=0;null!=e.val()&&(e.forEach(t=>{n.forEach(e=>{t.key==e&&0==t.val().ton_tai&&i++})}),0!=i&&(t.mutualFriends=i))})}),i&&(this.friendsPageService.addList.length>0?(this.friendsPageService.setSizeAdd(this.friendsPageService.addList.length),this.contactsService.setAddInforService(this.friendsPageService.addList[0].id,this.friendsPageService.addList[0].checkAddOrUndo),i=!1):(this.router.navigate(["/**"]),i=!1)))})})})}setTimeout(()=>{this.friendsPageService.setLoading(!1)},0)})}else setTimeout(()=>{this.friendsPageService.setLoading(!0)},0),this.contactsService.setAddInforService(null,null),this.friendsPageService.saveAddList=[],this.friendsPageService.addList=[],this.friendsPageService.setSizeAdd(0),this.friendsPageService.searchVal="",setTimeout(()=>{this.friendsPageService.setLoading(!1)},0)}onClickAddFriends(t,e){let n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.friendsPageService.addList[e].checkAddOrUndo="thu_hoi";let i=!1;this.friendsPageService.saveAddList.forEach(n=>{n.id==t.id&&(n.checkAddOrUndo=this.friendsPageService.addList[e].checkAddOrUndo,i=!0)}),i||this.friendsPageService.saveAddList.push({id:t.id,checkAddOrUndo:this.friendsPageService.addList[e].checkAddOrUndo}),this.requestListService.acceptRequestService(t.id,n).update({ngay_tao:Number(new Date),ton_tai:0}),this.sendsListService.editSendService(t.id,n).update({ngay_tao:Number(new Date),ton_tai:0}),this.iDUrl==t.id&&this.contactsService.setAddInforService(t.id,t.checkAddOrUndo)}onClickUndoAddFriends(t,e){this.friendsPageService.addList[e].checkAddOrUndo="them";let n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),i=!1;this.friendsPageService.saveAddList.forEach(n=>{n.id==t.id&&(n.checkAddOrUndo=this.friendsPageService.addList[e].checkAddOrUndo,i=!0)}),i||this.friendsPageService.saveAddList.push({id:t.id,checkAddOrUndo:this.friendsPageService.addList[e].checkAddOrUndo}),this.requestListService.acceptRequestService(t.id,n).update({ton_tai:1}),this.sendsListService.editSendService(t.id,n).update({ton_tai:1}),this.iDUrl==t.id&&this.contactsService.setAddInforService(t.id,t.checkAddOrUndo)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(f_),i.Y36(Ar),i.Y36(li),i.Y36(m_),i.Y36(x_),i.Y36(v_),i.Y36(b_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-add-friends"]],decls:12,vars:4,consts:[[1,"friends-list"],[1,"friends-list-content"],["class","detail-friend",3,"id","detail-selected",4,"ngFor","ngForOf"],[1,"mutual-friends-list"],[1,"content-mutual-friends"],[1,"header"],[1,"title"],[1,"exit",3,"click"],[1,"fas","fa-times"],[1,"content-scroll"],["class","detail-mutual-friends",4,"ngFor","ngForOf"],[1,"detail-friend",3,"id"],[1,"detail-sub",3,"click"],[1,"detail-left"],["alt","",3,"src"],[1,"detail-center"],["matTooltipClass","tooltip","class","name",3,"matTooltip","non-mutual",4,"ngIf"],["class","name",3,"non-mutual",4,"ngIf"],["class","mutual-friends",3,"click",4,"ngIf"],[1,"detail-right"],["class","add-f btn",3,"click",4,"ngIf"],["matTooltipClass","tooltip",1,"name",3,"matTooltip"],[1,"name"],[1,"mutual-friends",3,"click"],[1,"add-f","btn",3,"click"],[1,"fas","fa-plus"],[1,"fas","fa-undo"],[1,"detail-mutual-friends"],["class","name",4,"ngIf"],[1,"date"],[1,"right-date"],[1,"gender"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.YNc(2,Dy,11,9,"div",2),i.qZA(),i.qZA(),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"div",6),i._uU(7,"B\u1ea1n chung"),i.qZA(),i.TgZ(8,"div",7),i.NdJ("click",function(){return e.onClickExitMutual()}),i._UZ(9,"i",8),i.qZA(),i.qZA(),i.TgZ(10,"div",9),i.YNc(11,Ly,15,5,"div",10),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("ngForOf",e.friendsPageService.addList),i.xp6(1),i.ekj("mutual-display",""!=e.idMutualAdd),i.xp6(8),i.Q6J("ngForOf",e.mutualAddList))},directives:[A,D,Sh],styles:[".friends-list[_ngcontent-%COMP%]{position:relative;top:40px;width:100%;height:580px;font-family:Raleway}.friends-list-content[_ngcontent-%COMP%]{height:100%;width:420px;overflow-y:scroll;margin:auto;position:absolute;left:-10px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]{position:relative;border:.5px solid #e7e7e7;height:90px;width:350px;box-shadow:4px 4px 28px 0 #d3dceb;background-color:#fff;border-radius:10px;margin-left:10px;cursor:pointer;margin-top:20px;margin-bottom:20px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;border-radius:10px;transition:all .5s}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]{height:100%;position:relative}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;height:70px;width:70px;border-radius:5px;margin-top:10px;margin-left:10px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   .cover-online[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%;right:-1px;bottom:9px;position:absolute;width:15px;height:15px;justify-content:center;align-items:center;display:flex}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   .cover-online[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{position:absolute;background-color:#31a24c;border-radius:50%;width:11px;height:11px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]{margin-left:25px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin-top:27px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .non-mutual[_ngcontent-%COMP%]{margin-top:37px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{position:absolute;top:50px;left:105px;color:grey;font-size:13px;width:100px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]{position:absolute;right:10px;top:28px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{cursor:pointer;width:120px;height:35px;background-color:#fff;border:2px solid #3275f7;border-radius:5px;color:#3275f7;font-size:12px;display:flex;font-family:Raleway;font-weight:600;justify-content:center;align-items:center}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]{background-color:#9dcff5}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{color:#5a5a5a}.friends-list[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.mutual-friends-list[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;justify-content:center;align-items:center;display:none;top:0;left:0}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]{width:650px;height:480px;background-color:#fff;border-radius:10px;margin:auto;box-shadow:0 0 47px 0 #bbb7b7}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:relative;height:60px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;width:106px;left:64px;font-size:18px;top:31px;letter-spacing:1px;font-weight:700}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px;cursor:pointer;width:30px;height:30px;border-radius:50%;border:.5px solid #e7e7e7;display:flex;justify-content:center;align-items:center}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:5px;font-size:16px;left:8px;color:#a4afbf}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]{overflow-y:scroll;height:80%;width:100%;margin-top:16px;padding-top:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]{width:80%;height:80px;background-color:#fff;display:flex;margin:auto auto 18px;border-radius:10px;box-shadow:0 0 3px 0 #dee2e7;cursor:pointer}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]{width:17%;margin-left:3.8%}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:55px;height:55px;border-radius:50%;margin-top:13px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]{width:60%;position:relative}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;margin-top:22px;font-weight:600;position:relative}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:13px;margin-top:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;margin-right:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .right-date[_ngcontent-%COMP%]   .gender[_ngcontent-%COMP%]{font-size:12px;margin-top:25px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .right-date[_ngcontent-%COMP%]   .gender[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.mutual-display[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();function Ry(t,e){if(1&t&&(i.TgZ(0,"div",21),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.ekj("non-mutual",0==t.mutualFriends),i.s9C("matTooltip",t.name),i.xp6(1),i.Oqu(t.getNameLimitOfferList())}}function qy(t,e){if(1&t&&(i.TgZ(0,"div",22),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.ekj("non-mutual",0==t.mutualFriends),i.xp6(1),i.Oqu(t.name)}}function Uy(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",23),i.NdJ("click",function(){i.CHM(t);const e=i.oxw().$implicit;return i.oxw().onClickGetIDFriendMutual(e.id)}),i._uU(1),i.qZA()}if(2&t){const t=i.oxw().$implicit;i.xp6(1),i.hij("",t.mutualFriends," b\u1ea1n chung")}}function By(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",24),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(),n=e.$implicit,r=e.index;return i.oxw().onClickAddFriends(n,r)}),i._UZ(1,"i",25),i.TgZ(2,"span"),i._uU(3,"Th\xeam b\u1ea1n b\xe8"),i.qZA(),i.qZA()}}function jy(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",24),i.NdJ("click",function(){i.CHM(t);const e=i.oxw(),n=e.$implicit,r=e.index;return i.oxw().onClickUndoAddFriends(n,r)}),i._UZ(1,"i",26),i.TgZ(2,"span"),i._uU(3,"Thu h\u1ed3i"),i.qZA(),i.qZA()}}function zy(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",11),i.TgZ(1,"div",12),i.NdJ("click",function(){const e=i.CHM(t).$implicit,n=i.oxw();return n.onClickSelectedFriend(e,n.iDUrl)}),i.TgZ(2,"div",13),i._UZ(3,"img",14),i.qZA(),i.TgZ(4,"div",15),i.YNc(5,Ry,2,4,"div",16),i.YNc(6,qy,2,3,"div",17),i.qZA(),i.qZA(),i.YNc(7,Uy,2,1,"div",18),i.TgZ(8,"div",19),i.YNc(9,By,4,0,"div",20),i.YNc(10,jy,4,0,"div",20),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,n=e.index,r=i.oxw();i.ekj("detail-selected",t.id===r.iDUrl),i.MGl("id","id-",n,""),i.xp6(3),i.Q6J("src",t.img||"assets/images/loading.gif",i.LSH),i.xp6(2),i.Q6J("ngIf",t.checkLimitNameOfferList()),i.xp6(1),i.Q6J("ngIf",!t.checkLimitNameOfferList()),i.xp6(1),i.Q6J("ngIf",0!=t.mutualFriends),i.xp6(2),i.Q6J("ngIf","them"==t.checkAddOrUndo),i.xp6(1),i.Q6J("ngIf","thu_hoi"==t.checkAddOrUndo)}}function Vy(t,e){if(1&t&&(i.TgZ(0,"div",22),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.xp6(1),i.Oqu(t.getNameLimitMutualOffer())}}function Hy(t,e){if(1&t&&(i.TgZ(0,"div",22),i._uU(1),i.qZA()),2&t){const t=i.oxw().$implicit;i.xp6(1),i.Oqu(t.name)}}function Gy(t,e){if(1&t&&(i.TgZ(0,"div",27),i.TgZ(1,"div",13),i._UZ(2,"img",14),i.qZA(),i.TgZ(3,"div",19),i.YNc(4,Vy,2,1,"div",28),i.YNc(5,Hy,2,1,"div",28),i.TgZ(6,"div",29),i.TgZ(7,"span"),i._uU(8,"Ng\xe0y k\u1ebft b\u1ea1n:"),i.qZA(),i._uU(9),i.qZA(),i.qZA(),i.TgZ(10,"div",30),i.TgZ(11,"div",31),i.TgZ(12,"span"),i._uU(13,"Gi\u1edbi t\xednh:"),i.qZA(),i._uU(14),i.qZA(),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.xp6(2),i.Q6J("src",t.img||"assets/images/loading.gif",i.LSH),i.xp6(2),i.Q6J("ngIf",t.checkLimitNameMutualOffer()),i.xp6(1),i.Q6J("ngIf",!t.checkLimitNameMutualOffer()),i.xp6(4),i.hij(" ",t.dateAddFormatMutualOffer(),""),i.xp6(5),i.hij(" ",t.sex,"")}}let Yy=(()=>{class t{constructor(t,e,n,i,r,o,s){this.friendsPageService=t,this.router=e,this.route=n,this.contactsService=i,this.requestListService=r,this.sendsListService=o,this.offerListService=s,this.idMutualOffer="",this.sizeGetData=20}ngOnInit(){this.friendsPageService.selectedOffersFriendsService(),this.getIDURLFriendsList(),this.getDataOfferFriends(this.sizeGetData)}moveLink(t){this.router.navigate(["/bessenger/ban-be/de-xuat/"+t])}getIDURLFriendsList(){this.valueSub=this.route.paramMap.subscribe(t=>{this.iDUrl=t.get("id")})}onClickSelectedFriend(t,e){null!=t&&this.iDUrl!=t.id&&(this.sendFriendToProfile(t.id,t.checkAddOrUndo),this.moveLink(t.id))}sendFriendToProfile(t,e){this.contactsService.setOfferInforService(t,e)}sortMututalOffer(){this.mutualOfferList=this.mutualOfferList.sort((t,e)=>{var n=t.getNameLast(),i=e.getNameLast();return n<i?-1:n>i?1:0})}onClickExitMutual(){this.idMutualOffer=""}onClickGetIDFriendMutual(t){let e,n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),i=[];this.idMutualOffer=t,this.contactsService.getListIDFriendsByIDUser(n).on("value",n=>{i=[],n.forEach(t=>{0==t.val().ton_tai&&i.push(t.key)}),this.contactsService.getListIDFriendsByIDUser(t).on("value",t=>{this.mutualOfferList=[],t.forEach(t=>{i.forEach(n=>{0==t.val().ton_tai&&t.key==n&&this.requestListService.getInforRequest(t.key).on("value",n=>{e=new Y_;let i=!0;e.id=n.key,e.img=n.val().link_hinh,e.name=n.val().ten,e.sex=n.val().gioi_tinh,e.date=t.val().ngay_tao,e.lastOnline=n.val().lan_cuoi_dang_nhap,this.mutualOfferList.forEach(t=>{t.id==e.id&&(i=!1)}),i?this.mutualOfferList.push(e):this.mutualOfferList.forEach((t,n)=>{t.id==e.id&&(t.img==e.img&&t.name==e.img&&t.sex==e.sex&&t.date==e.date||(this.mutualOfferList[n]=e))}),this.sortMututalOffer()})})})})})}getDataOfferFriends(t){let e=!1,n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.offerListService.getListFriendsByIDUser(n).on("value",i=>{setTimeout(()=>{this.friendsPageService.setLoading(!0)},0);let r=!1,o=[];null!=i.val()&&(i.forEach(t=>{0==t.val().ton_tai&&o.push(t.key)}),this.offerListService.getRequestInforByIDUser(n).once("value",i=>{let s=[];null!=i.val()&&i.forEach(t=>{0==t.val().ton_tai&&s.push(t.key)}),this.offerListService.getSendInforByIDUser(n).once("value",i=>{let a=[];null!=i.val()&&i.forEach(t=>{0==t.val().ton_tai&&a.push(t.key)}),this.offerListService.getAllAccount().on("value",i=>{if(null!=i.val()){this.friendsPageService.offerList=[];let c=[];if(i.forEach(t=>{if(t.key==n||o.includes(t.key)||s.includes(t.key)||a.includes(t.key))this.friendsPageService.saveOfferList.length>0&&this.friendsPageService.saveOfferList.forEach(e=>{if(e.id==t.key){let e=new Y_;e.id=t.key,e.name=t.val().ten,e.img=t.val().link_hinh,e.checkAddOrUndo="them",this.friendsPageService.saveOfferList.forEach(t=>{t.id==e.id&&(e.checkAddOrUndo=t.checkAddOrUndo)}),c.push(e)}});else{let e=new Y_;e.id=t.key,e.name=t.val().ten,e.img=t.val().link_hinh,e.checkAddOrUndo="them",0!=this.friendsPageService.saveOfferList.length?this.friendsPageService.saveOfferList.forEach(t=>{t.id==e.id&&(e.checkAddOrUndo=t.checkAddOrUndo)}):e.checkAddOrUndo="them",c.push(e)}}),c.length>0){let n=0;if(c.forEach(t=>{this.offerListService.getListFriendsByIDUser(t.id).on("value",e=>{let n=0;null!=e.val()&&(e.forEach(t=>{o.forEach(e=>{t.key==e&&0==t.val().ton_tai&&n++})}),0!=n&&(t.mutualFriends=n))})}),c.length>=t){for(let e=0;e<t;e++)this.friendsPageService.offerList.includes(c[e])||this.friendsPageService.offerList.push(c[e]);if(null!=this.iDUrl){let t=!1;this.friendsPageService.offerList.forEach(i=>{i.id==this.iDUrl&&(t=!0,n=1,e||this.sendFriendToProfile(i.id,i.checkAddOrUndo))}),t||c.forEach(i=>{i.id==this.iDUrl&&(this.friendsPageService.offerList.push(i),t=!0,n=1,e||this.sendFriendToProfile(i.id,i.checkAddOrUndo))})}else n=2}else if(c.forEach(t=>{this.friendsPageService.offerList.includes(t)||this.friendsPageService.offerList.push(t)}),null!=this.iDUrl){let t=!1;this.friendsPageService.offerList.forEach(i=>{i.id==this.iDUrl&&(t=!0,n=1,e||this.sendFriendToProfile(i.id,i.checkAddOrUndo))}),t||c.forEach(t=>{t.id==this.iDUrl&&(this.friendsPageService.offerList.push(t),n=1,e||this.sendFriendToProfile(t.id,t.checkAddOrUndo))})}else n=2;this.friendsPageService.sortMutualFriendsOffer(),this.friendsPageService.offerList.length>5&&null!=this.iDUrl&&!r&&this.friendsPageService.offerList.forEach((t,e)=>{if(t.id==this.iDUrl&&e>4){const t=document.getElementById("scroll-content");t.scrollTo({top:23*e,behavior:"smooth"}),t.scrollTop>=20*e&&(r=!0)}}),this.friendsPageService.setSizeOffer(this.friendsPageService.offerList.length),e||(0==n?this.router.navigate(["/**"]):1==n?this.moveLink(this.iDUrl):(this.router.navigate(["/bessenger/ban-be/de-xuat"]),this.sendFriendToProfile(null,null),this.friendsPageService.saveOfferList=[],this.friendsPageService.setSizeOffer(0)),e=!0)}else this.friendsPageService.setSizeOffer(0),e||(this.router.navigate(["/bessenger/ban-be/de-xuat"]),this.sendFriendToProfile(null,null),this.friendsPageService.saveOfferList=[],e=!0)}})})})),setTimeout(()=>{this.friendsPageService.setLoading(!1)},0)})}onClickAddFriends(t,e){let n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn"));this.friendsPageService.offerList[e].checkAddOrUndo="thu_hoi";let i=!1;this.friendsPageService.saveOfferList.forEach(n=>{n.id==t.id&&(n.checkAddOrUndo=this.friendsPageService.offerList[e].checkAddOrUndo,i=!0)}),i||this.friendsPageService.saveOfferList.push({id:t.id,checkAddOrUndo:this.friendsPageService.offerList[e].checkAddOrUndo}),this.requestListService.acceptRequestService(t.id,n).update({ngay_tao:Number(new Date),ton_tai:0}),this.sendsListService.editSendService(t.id,n).update({ngay_tao:Number(new Date),ton_tai:0}),this.iDUrl==t.id&&this.contactsService.setOfferInforService(t.id,t.checkAddOrUndo)}onClickUndoAddFriends(t,e){this.friendsPageService.offerList[e].checkAddOrUndo="them";let n=JSON.parse(localStorage.getItem("ma_tai_khoan_dn")),i=!1;this.friendsPageService.saveOfferList.forEach(n=>{n.id==t.id&&(n.checkAddOrUndo=this.friendsPageService.offerList[e].checkAddOrUndo,i=!0)}),i||this.friendsPageService.saveOfferList.push({id:t.id,checkAddOrUndo:this.friendsPageService.offerList[e].checkAddOrUndo}),this.requestListService.acceptRequestService(t.id,n).update({ton_tai:1}),this.sendsListService.editSendService(t.id,n).update({ton_tai:1}),this.iDUrl==t.id&&this.contactsService.setOfferInforService(t.id,t.checkAddOrUndo)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(f_),i.Y36(Ar),i.Y36(li),i.Y36(m_),i.Y36(v_),i.Y36(b_),i.Y36(J_))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-offer-friends"]],decls:12,vars:4,consts:[[1,"friends-list"],["id","scroll-content",1,"friends-list-content"],["class","detail-friend",3,"id","detail-selected",4,"ngFor","ngForOf"],[1,"mutual-friends-list"],[1,"content-mutual-friends"],[1,"header"],[1,"title"],[1,"exit",3,"click"],[1,"fas","fa-times"],[1,"content-scroll"],["class","detail-mutual-friends",4,"ngFor","ngForOf"],[1,"detail-friend",3,"id"],[1,"detail-sub",3,"click"],[1,"detail-left"],["alt","",3,"src"],[1,"detail-center"],["matTooltipClass","tooltip","class","name",3,"matTooltip","non-mutual",4,"ngIf"],["class","name",3,"non-mutual",4,"ngIf"],["class","mutual-friends",3,"click",4,"ngIf"],[1,"detail-right"],["class","add-f btn",3,"click",4,"ngIf"],["matTooltipClass","tooltip",1,"name",3,"matTooltip"],[1,"name"],[1,"mutual-friends",3,"click"],[1,"add-f","btn",3,"click"],[1,"fas","fa-plus"],[1,"fas","fa-undo"],[1,"detail-mutual-friends"],["class","name",4,"ngIf"],[1,"date"],[1,"right-date"],[1,"gender"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.YNc(2,zy,11,9,"div",2),i.qZA(),i.qZA(),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"div",6),i._uU(7,"B\u1ea1n chung"),i.qZA(),i.TgZ(8,"div",7),i.NdJ("click",function(){return e.onClickExitMutual()}),i._UZ(9,"i",8),i.qZA(),i.qZA(),i.TgZ(10,"div",9),i.YNc(11,Gy,15,5,"div",10),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("ngForOf",e.friendsPageService.offerList),i.xp6(1),i.ekj("mutual-display",""!=e.idMutualOffer),i.xp6(8),i.Q6J("ngForOf",e.mutualOfferList))},directives:[A,D,Sh],styles:[".friends-list[_ngcontent-%COMP%]{position:relative;top:40px;width:100%;height:580px;font-family:Raleway}.friends-list-content[_ngcontent-%COMP%]{height:100%;width:420px;overflow-y:scroll;margin:auto;position:absolute;left:-10px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]{position:relative;border:.5px solid #e7e7e7;height:90px;width:350px;box-shadow:4px 4px 28px 0 #d3dceb;background-color:#fff;border-radius:10px;margin-left:10px;cursor:pointer;margin-top:20px;margin-bottom:20px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;border-radius:10px;transition:all .5s}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]{height:100%;position:relative}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;height:70px;width:70px;border-radius:5px;margin-top:10px;margin-left:10px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   .cover-online[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%;right:-1px;bottom:9px;position:absolute;width:15px;height:15px;justify-content:center;align-items:center;display:flex}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   .cover-online[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{position:absolute;background-color:#31a24c;border-radius:50%;width:11px;height:11px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]{margin-left:25px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin-top:27px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-sub[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .non-mutual[_ngcontent-%COMP%]{margin-top:37px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{position:absolute;top:50px;left:105px;color:grey;font-size:13px;width:100px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]{position:absolute;right:10px;top:28px}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{cursor:pointer;width:120px;height:35px;background-color:#fff;border:2px solid #3275f7;border-radius:5px;color:#3275f7;font-size:12px;display:flex;font-family:Raleway;font-weight:600;justify-content:center;align-items:center}.friends-list-content[_ngcontent-%COMP%]   .detail-friend[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]{background-color:#9dcff5}.friends-list-content[_ngcontent-%COMP%]   .detail-selected[_ngcontent-%COMP%]   .detail-center[_ngcontent-%COMP%]   .mutual-friends[_ngcontent-%COMP%]{color:#5a5a5a}.friends-list[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.mutual-friends-list[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;background:#e8a2a224;z-index:999;justify-content:center;align-items:center;display:none;top:0;left:0}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]{width:650px;height:480px;background-color:#fff;border-radius:10px;margin:auto;box-shadow:0 0 47px 0 #bbb7b7}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:relative;height:60px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;width:106px;left:64px;font-size:18px;top:31px;letter-spacing:1px;font-weight:700}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px;cursor:pointer;width:30px;height:30px;border-radius:50%;border:.5px solid #e7e7e7;display:flex;justify-content:center;align-items:center}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:5px;font-size:16px;left:8px;color:#a4afbf}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]{overflow-y:scroll;height:80%;width:100%;margin-top:16px;padding-top:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]{width:80%;height:80px;background-color:#fff;display:flex;margin:auto auto 18px;border-radius:10px;box-shadow:0 0 3px 0 #dee2e7;cursor:pointer}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]{width:17%;margin-left:3.8%}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:55px;height:55px;border-radius:50%;margin-top:13px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]{width:60%;position:relative}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:15px;margin-top:22px;font-weight:600;position:relative}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:13px;margin-top:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .detail-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;margin-right:5px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .right-date[_ngcontent-%COMP%]   .gender[_ngcontent-%COMP%]{font-size:12px;margin-top:25px}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   .content-scroll[_ngcontent-%COMP%]   .detail-mutual-friends[_ngcontent-%COMP%]   .right-date[_ngcontent-%COMP%]   .gender[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.mutual-friends-list[_ngcontent-%COMP%]   .content-mutual-friends[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.mutual-display[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();const Jy=[{path:"",redirectTo:"dang-nhap",pathMatch:"full"},{path:"dang-nhap",component:o_},{path:"dang-ky",component:xy,children:[{path:"",redirectTo:"chon-gioi-tinh",pathMatch:"full"},{path:"chon-gioi-tinh",component:My},{path:"chon-hinh-dai-dien",component:Oy},{path:"xac-nhan-email",component:ky}]},{path:"quen-mat-khau",component:Cg,children:[{path:"",redirectTo:"xac-nhan-email",pathMatch:"full"},{path:"xac-nhan-email",component:lg},{path:"chon-mat-khau",component:sg}]},{path:"bessenger",component:ny,children:[{path:"",redirectTo:"trang-chu",pathMatch:"full"},{path:"trang-chu",component:zm},{path:"tin-nhan",component:d_,children:[{path:":id",component:Pp,children:[{path:"",component:Gd,children:[{path:"",component:Kr}]}]}]},{path:"tin-nhan-an",component:p_},{path:"ban-be",component:mm,children:[{path:"",redirectTo:"lien-lac",pathMatch:"full"},{path:"lien-lac",component:wm},{path:"lien-lac/:id",component:wm},{path:"",redirectTo:"loi-moi",pathMatch:"full"},{path:"loi-moi",component:Fm},{path:"loi-moi/:id",component:Fm},{path:"",redirectTo:"da-gui",pathMatch:"full"},{path:"da-gui",component:jm},{path:"da-gui/:id",component:jm},{path:"",redirectTo:"them-ban",pathMatch:"full"},{path:"them-ban",component:Zy},{path:"them-ban/:id",component:Zy},{path:"",redirectTo:"de-xuat",pathMatch:"full"},{path:"de-xuat",component:Yy},{path:"de-xuat/:id",component:Yy}]},{path:"thong-tin-ca-nhan",component:iy},{path:"cai-dat",component:ry}]},{path:"**",component:oy}];let Qy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[jr.forRoot(Jy)],jr]}),t})(),$y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&i._UZ(0,"router-outlet")},directives:[Ir],styles:[""]}),t})(),Wy=(()=>{class t{constructor(t){this.db=t,this.dbPathTable="?????????????????????",this.usersRef=null,this.idGroupList=null}getUsersChatList(t){return this.usersRef}getConversationsIDListByIdUser(t,e){return this.idGroupList=this.db.list(this.dbPathTable,t=>t.child("table").child("time").orderByValue().limitToLast(e))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ky={apiKey:"AIzaSyBbM1A0v4VJY5Ly5ib2Og_zDSw-abrBfq0",authDomain:"bessenger-6b25f.firebaseapp.com",databaseURL:"https://bessenger-6b25f-default-rtdb.firebaseio.com",projectId:"bessenger-6b25f",storageBucket:"bessenger-6b25f.appspot.com",messagingSenderId:"23435073727",appId:"1:23435073727:web:a2b3d58888a5df49d4ce0a",measurementId:"G-WWR7ES6LYB"};let Xy=(()=>{class t{constructor(t){this.db=t,this.dbPathTable="?????????????????????",this.usersOnlineRef=null}getUsersOnline(t,e,n){return this.usersOnlineRef=this.db.list(this.dbPathTable,n=>n.child("table").child("status").equalTo("online").startAt(t).endAt(e))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Uo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tv(){return Tt()}let ev=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t,bootstrap:[$y]}),t.\u0275inj=i.cJS({providers:[Wy,Xy,m_],imports:[[wt,eg,Qy,Xt.forRoot({player:tv}),po.hO.initializeApp(Ky),Bo,e_,Fu,hh,Ih]]}),t})();Ot().bootstrapModule(ev).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>r,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>c,CR:()=>l,ev:()=>h});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((i=i.apply(t,e||[])).next())})}function a(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function h(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t}}},t=>{"use strict";t(t.s=5164)}]);